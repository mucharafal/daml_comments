[
  {
    "id" : "299c4e27-18e3-4929-b385-a7cb42868462",
    "prId" : 7528,
    "comments" : [
      {
        "id" : "e9f48f83-3f8e-44a9-b1e0-80ab3f3ce398",
        "parentId" : null,
        "author" : {
          "login" : "richardkapolnai-da",
          "name" : "Richard Kapolnai",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/53859003?u=c5f7df62435454a9c8d1a01b0efb50a2a035eab9&v=4"
        },
        "body" : "what do you think about putting this check in a CI?\r\nhowever, it can give false positives, and the documentation writer can be in pain updating this script. maybe a non-required check which is allowed to fail?",
        "createdAt" : "2020-09-30T11:15:32Z",
        "updatedAt" : "2020-10-02T11:57:06Z",
        "lastEditedBy" : {
          "login" : "richardkapolnai-da",
          "name" : "Richard Kapolnai",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/53859003?u=c5f7df62435454a9c8d1a01b0efb50a2a035eab9&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "c1acfcdf-b8c3-4038-92df-481fce76758a",
        "parentId" : "e9f48f83-3f8e-44a9-b1e0-80ab3f3ce398",
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "Iâ€™m not a huge fan of non-required checks. IME they just get ignored. If this script had an easy way to add exceptions, we could just make it a required check.",
        "createdAt" : "2020-09-30T11:46:47Z",
        "updatedAt" : "2020-10-02T11:57:06Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "9c0a7d75-d946-4f94-a3be-4fd3f924fe2e",
        "parentId" : "e9f48f83-3f8e-44a9-b1e0-80ab3f3ce398",
        "author" : {
          "login" : "richardkapolnai-da",
          "name" : "Richard Kapolnai",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/53859003?u=c5f7df62435454a9c8d1a01b0efb50a2a035eab9&v=4"
        },
        "body" : "I made an attempt. Do you think this is easy enough?",
        "createdAt" : "2020-09-30T13:13:52Z",
        "updatedAt" : "2020-10-02T11:57:06Z",
        "lastEditedBy" : {
          "login" : "richardkapolnai-da",
          "name" : "Richard Kapolnai",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/53859003?u=c5f7df62435454a9c8d1a01b0efb50a2a035eab9&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "5fa926d1bb6b9e914709ff4912137f09ec3e346e",
    "line" : 1,
    "diffHunk" : "@@ -0,0 +1,29 @@\n+#!/usr/bin/env bash"
  },
  {
    "id" : "fd2b80df-a4d2-4b27-ad1e-64cbbe7c797d",
    "prId" : 7528,
    "comments" : [
      {
        "id" : "6989f112-1d9d-4a5f-8017-ac5547edebca",
        "parentId" : null,
        "author" : {
          "login" : "richardkapolnai-da",
          "name" : "Richard Kapolnai",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/53859003?u=c5f7df62435454a9c8d1a01b0efb50a2a035eab9&v=4"
        },
        "body" : "```suggestion\r\n    grep --perl-regexp '^(?!([^`]*(((`[^`]*`)|(``[^`]*``))[^`]*)*)$)' < \"$file\"\r\n```\r\nMaybe like this?",
        "createdAt" : "2020-10-01T13:23:12Z",
        "updatedAt" : "2020-10-02T11:57:06Z",
        "lastEditedBy" : {
          "login" : "richardkapolnai-da",
          "name" : "Richard Kapolnai",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/53859003?u=c5f7df62435454a9c8d1a01b0efb50a2a035eab9&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "9ce700dd-8337-45ec-9b99-b6c420e590a7",
        "parentId" : "6989f112-1d9d-4a5f-8017-ac5547edebca",
        "author" : {
          "login" : "garyverhaegen-da",
          "name" : "Gary Verhaegen",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/45561385?u=eb17386ea66edbd0cd449e33b2d291bf5a1b51cb&v=4"
        },
        "body" : "`grep` and `awk` in particular come in a wide variety of subtly-different option sets, so please do test that under dev-env before final commit. If you do end up preferring `awk` over `grep`, bear in mind that the one in dev-env is called `gawk`.",
        "createdAt" : "2020-10-01T14:49:06Z",
        "updatedAt" : "2020-10-02T11:57:06Z",
        "lastEditedBy" : {
          "login" : "garyverhaegen-da",
          "name" : "Gary Verhaegen",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/45561385?u=eb17386ea66edbd0cd449e33b2d291bf5a1b51cb&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "0d6cd0b4-2ebd-4a73-945c-ef4b96e4c5e7",
        "parentId" : "6989f112-1d9d-4a5f-8017-ac5547edebca",
        "author" : {
          "login" : "richardkapolnai-da",
          "name" : "Richard Kapolnai",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/53859003?u=c5f7df62435454a9c8d1a01b0efb50a2a035eab9&v=4"
        },
        "body" : "thanks! I tested both `gawk` and `grep` , they both work the same way under dev-env.",
        "createdAt" : "2020-10-01T14:56:23Z",
        "updatedAt" : "2020-10-02T11:57:06Z",
        "lastEditedBy" : {
          "login" : "richardkapolnai-da",
          "name" : "Richard Kapolnai",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/53859003?u=c5f7df62435454a9c8d1a01b0efb50a2a035eab9&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "5fa926d1bb6b9e914709ff4912137f09ec3e346e",
    "line" : null,
    "diffHunk" : "@@ -0,0 +1,32 @@\n+#!/usr/bin/env bash\n+# Copyright (c) 2020 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n+# SPDX-License-Identifier: Apache-2.0\n+\n+whitelist=\"$0.whitelist\"\n+\n+echo Checking closing quotes '`' for all rst file.\n+\n+errors=0\n+\n+while read file\n+do\n+  numberOfQuotes=$(egrep --invert-match --file=\"$whitelist\" \"$file\" | grep --only-matching '`' | wc --lines)\n+  if (( $numberOfQuotes % 2 ))\n+  then\n+    ((errors++))\n+    echo \"$file\" : $numberOfQuotes\n+    echo Suspicious lines:\n+    awk -F '`' 'NF % 2 == 0 && NF > 0 ' < \"$file\""
  },
  {
    "id" : "3cb32e02-238c-4fc2-9177-0caa474b589c",
    "prId" : 7528,
    "comments" : [
      {
        "id" : "c298e9df-3fc5-413b-8cb8-44e53ffa5fbb",
        "parentId" : null,
        "author" : {
          "login" : "bame-da",
          "name" : "Bernhard Elsner",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/40762178?u=28b5edbfe9271d5db3fcfa3b80d30f93cce4321f&v=4"
        },
        "body" : "Shouldn't this also filter out the whitelist?",
        "createdAt" : "2020-10-02T07:45:01Z",
        "updatedAt" : "2020-10-02T11:57:06Z",
        "lastEditedBy" : {
          "login" : "bame-da",
          "name" : "Bernhard Elsner",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/40762178?u=28b5edbfe9271d5db3fcfa3b80d30f93cce4321f&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "2aeafbb5-5273-4450-802c-ff7fec0cc1ac",
        "parentId" : "c298e9df-3fc5-413b-8cb8-44e53ffa5fbb",
        "author" : {
          "login" : "richardkapolnai-da",
          "name" : "Richard Kapolnai",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/53859003?u=c5f7df62435454a9c8d1a01b0efb50a2a035eab9&v=4"
        },
        "body" : "good catch, fixing...",
        "createdAt" : "2020-10-02T08:01:36Z",
        "updatedAt" : "2020-10-02T11:57:06Z",
        "lastEditedBy" : {
          "login" : "richardkapolnai-da",
          "name" : "Richard Kapolnai",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/53859003?u=c5f7df62435454a9c8d1a01b0efb50a2a035eab9&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "b8d20a91-8a0a-4593-9468-1408867e84a7",
        "parentId" : "c298e9df-3fc5-413b-8cb8-44e53ffa5fbb",
        "author" : {
          "login" : "richardkapolnai-da",
          "name" : "Richard Kapolnai",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/53859003?u=c5f7df62435454a9c8d1a01b0efb50a2a035eab9&v=4"
        },
        "body" : "fixed",
        "createdAt" : "2020-10-02T08:16:57Z",
        "updatedAt" : "2020-10-02T11:57:06Z",
        "lastEditedBy" : {
          "login" : "richardkapolnai-da",
          "name" : "Richard Kapolnai",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/53859003?u=c5f7df62435454a9c8d1a01b0efb50a2a035eab9&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "5fa926d1bb6b9e914709ff4912137f09ec3e346e",
    "line" : null,
    "diffHunk" : "@@ -0,0 +1,37 @@\n+#!/usr/bin/env bash\n+# Copyright (c) 2020 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n+# SPDX-License-Identifier: Apache-2.0\n+\n+# Check for invalid quote usage such as \"variable `x``\"\n+\n+DIR=\"$1\"\n+WHITELIST=\"$2\"\n+\n+if [[ $# -ne 2 ]]\n+then\n+  echo \"Usage: $0 directory whitelist\"\n+  exit 1\n+fi\n+\n+if ! test -f \"$WHITELIST\"; then\n+  echo ERROR: Whitelist file not found: \"$WHITELIST\"\n+  exit 1\n+fi\n+\n+ERRORS=0\n+REGEX='^(?!([^`]*(((`[^`]*`)|(``[^`]*``))[^`]*)*)$$)'\n+\n+while read FILE; do\n+  if grep --invert-match --file=\"$WHITELIST\" \"$FILE\" | grep --quiet --perl-regexp \"$REGEX\"; then\n+    echo Quotation error in \"\\`$FILE'\":\n+    grep --perl-regexp \"$REGEX\" \"$FILE\""
  },
  {
    "id" : "c7480699-ee47-4a16-8e18-09af26168c85",
    "prId" : 7528,
    "comments" : [
      {
        "id" : "5de225f7-d7b0-4119-a15f-915a7c076045",
        "parentId" : null,
        "author" : {
          "login" : "hurryabit",
          "name" : "Martin Huschenbett",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/11665611?u=7dbd00d5e7ea53919ed31dc4200f602ebca91c8f&v=4"
        },
        "body" : "What do you think about not calling this \"whitelist\" but rather something like \"allowlist\" and rename the file accordingly too.",
        "createdAt" : "2020-10-02T09:47:17Z",
        "updatedAt" : "2020-10-02T11:57:06Z",
        "lastEditedBy" : {
          "login" : "hurryabit",
          "name" : "Martin Huschenbett",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/11665611?u=7dbd00d5e7ea53919ed31dc4200f602ebca91c8f&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "a5686345-8e7f-4c96-a58b-fae439586cc7",
        "parentId" : "5de225f7-d7b0-4119-a15f-915a7c076045",
        "author" : {
          "login" : "richardkapolnai-da",
          "name" : "Richard Kapolnai",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/53859003?u=c5f7df62435454a9c8d1a01b0efb50a2a035eab9&v=4"
        },
        "body" : "oh you're right, eliminating inappropriate naming.",
        "createdAt" : "2020-10-02T09:48:33Z",
        "updatedAt" : "2020-10-02T11:57:06Z",
        "lastEditedBy" : {
          "login" : "richardkapolnai-da",
          "name" : "Richard Kapolnai",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/53859003?u=c5f7df62435454a9c8d1a01b0efb50a2a035eab9&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "cc27c351-0f87-4bea-b042-3da7556f3941",
        "parentId" : "5de225f7-d7b0-4119-a15f-915a7c076045",
        "author" : {
          "login" : "richardkapolnai-da",
          "name" : "Richard Kapolnai",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/53859003?u=c5f7df62435454a9c8d1a01b0efb50a2a035eab9&v=4"
        },
        "body" : "done",
        "createdAt" : "2020-10-02T09:50:40Z",
        "updatedAt" : "2020-10-02T11:57:06Z",
        "lastEditedBy" : {
          "login" : "richardkapolnai-da",
          "name" : "Richard Kapolnai",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/53859003?u=c5f7df62435454a9c8d1a01b0efb50a2a035eab9&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "1c4c78a6-f6c9-4135-bfbb-6381bc99eb6f",
        "parentId" : "5de225f7-d7b0-4119-a15f-915a7c076045",
        "author" : {
          "login" : "hurryabit",
          "name" : "Martin Huschenbett",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/11665611?u=7dbd00d5e7ea53919ed31dc4200f602ebca91c8f&v=4"
        },
        "body" : "Awesome. Thanks a lot!",
        "createdAt" : "2020-10-02T09:51:38Z",
        "updatedAt" : "2020-10-02T11:57:06Z",
        "lastEditedBy" : {
          "login" : "hurryabit",
          "name" : "Martin Huschenbett",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/11665611?u=7dbd00d5e7ea53919ed31dc4200f602ebca91c8f&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "5fa926d1bb6b9e914709ff4912137f09ec3e346e",
    "line" : null,
    "diffHunk" : "@@ -0,0 +1,37 @@\n+#!/usr/bin/env bash\n+# Copyright (c) 2020 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n+# SPDX-License-Identifier: Apache-2.0\n+\n+# Check for invalid quote usage such as \"variable `x``\"\n+\n+DIR=\"$1\"\n+WHITELIST=\"$2\""
  }
]