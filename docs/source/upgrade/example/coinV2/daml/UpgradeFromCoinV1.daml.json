[
  {
    "id" : "e29b4525-8301-4a9d-8a08-aa1126360e71",
    "prId" : 4794,
    "comments" : [
      {
        "id" : "9090d094-6f95-4609-b1a8-bd4b3337352e",
        "parentId" : null,
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "I’d keep it like this for now, but we might want to consider splitting this up into 3 packages,\r\n\r\n1. version 1\r\n2. version 2\r\n3. upgrades from version 1 to version 2",
        "createdAt" : "2020-03-03T13:30:51Z",
        "updatedAt" : "2020-03-04T14:53:19Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "5b0663d2-6215-482a-b6b4-bd015258ad75",
        "parentId" : "9090d094-6f95-4609-b1a8-bd4b3337352e",
        "author" : {
          "login" : "shayne-fletcher",
          "name" : "Shayne Fletcher",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/1500167?v=4"
        },
        "body" : "That is indeed how davl lays things out too.",
        "createdAt" : "2020-03-03T14:03:50Z",
        "updatedAt" : "2020-03-04T14:53:19Z",
        "lastEditedBy" : {
          "login" : "shayne-fletcher",
          "name" : "Shayne Fletcher",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/1500167?v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "29dd8346-18d5-416b-9e99-1eec1a87ba0b",
        "parentId" : "9090d094-6f95-4609-b1a8-bd4b3337352e",
        "author" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "body" : "what does having 3 packages buy us?",
        "createdAt" : "2020-03-03T14:16:08Z",
        "updatedAt" : "2020-03-04T14:53:19Z",
        "lastEditedBy" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "89fe1f0f-3aaa-446f-b4ef-361af33a2d17",
        "parentId" : "9090d094-6f95-4609-b1a8-bd4b3337352e",
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "Mostly it’s about separating concerns, i.e., don’t entangle the new state with the way of getting to that state. However there is one advantage that becomes relevant once your project reaches a certain age (i.e. number of upgrades):\r\n\r\nSince a a DAR is always self-contained, keeping the upgrades and the new models together means that your DAR will get bigger and bigger since you can never drop old versions even if you write something that only references the new models, e.g., a trigger that only cares about the models of a specific version. If you keep it separate on the other hand, your trigger can only depend on the new models.",
        "createdAt" : "2020-03-03T14:21:45Z",
        "updatedAt" : "2020-03-04T14:53:19Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "ffa1da113ccd87d742c17bdafd8fe4ca866ce0ff",
    "line" : 24,
    "diffHunk" : "@@ -1,26 +1,11 @@\n -- Copyright (c) 2020 The DAML Authors. All rights reserved.\n -- SPDX-License-Identifier: Apache-2.0\n \n-module Upgrade where\n-\n--- COIN_BEGIN\n-template Coin\n-  with\n-    issuer : Party\n-    owner : Party\n-  where\n-    signatory issuer, owner\n--- COIN_END\n-\n--- COIN_AMOUNT_BEGIN\n-template CoinWithAmount\n-  with\n-    issuer : Party\n-    owner : Party\n-    amount : Int\n-  where\n-    signatory issuer, owner\n--- COIN_AMOUNT_END\n+-- UPGRADE_MODULE_BEGIN"
  }
]