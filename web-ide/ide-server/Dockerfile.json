[
  {
    "id" : "587b9546-5af9-4d54-8b5e-37b5dc4fcd27",
    "prId" : 1459,
    "comments" : [
      {
        "id" : "b446c505-76d3-4a67-97dc-e2a1be7afdfc",
        "parentId" : null,
        "author" : {
          "login" : "neil-da",
          "name" : "Neil Mitchell",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/35463327?u=0eb1719958bc6e449ec5e7df3a312fa566f5055d&v=4"
        },
        "body" : "Is this line necessary? Or just debug gunk that stuck around?",
        "createdAt" : "2019-05-30T08:35:19Z",
        "updatedAt" : "2019-05-30T15:20:38Z",
        "lastEditedBy" : {
          "login" : "neil-da",
          "name" : "Neil Mitchell",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/35463327?u=0eb1719958bc6e449ec5e7df3a312fa566f5055d&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "06b9891f-64b2-44dc-a911-7095e30a3fcd",
        "parentId" : "b446c505-76d3-4a67-97dc-e2a1be7afdfc",
        "author" : {
          "login" : "bolek-wisniewski",
          "name" : "Bolek@DigitalAsset",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/25302921?u=0ebe382413a7e394adf0aa30927d2c94e4882778&v=4"
        },
        "body" : "oops - yea debug",
        "createdAt" : "2019-05-30T14:48:32Z",
        "updatedAt" : "2019-05-30T15:20:38Z",
        "lastEditedBy" : {
          "login" : "bolek-wisniewski",
          "name" : "Bolek@DigitalAsset",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/25302921?u=0ebe382413a7e394adf0aa30927d2c94e4882778&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "396838725674f12aa3e1b860fbeb550f47aacc7e",
    "line" : null,
    "diffHunk" : "@@ -1,32 +1,43 @@\n-ARG DAML_VERSION=0.12.16\n+FROM openjdk:8-slim\n \n-FROM \"digitalasset/daml-sdk:${DAML_VERSION}-master\"\n+ARG DAML_VERSION=0.12.21\n+USER root\n \n-#strange but true...if we simply redeclare the arg defined before FROM it is visible after FROM\n-ARG DAML_VERSION\n+RUN addgroup --gid 1000 sdk && \\\n+    adduser --gecos \"\" --uid 1000 --gid 1000 \\\n+            --home /home/sdk --shell /bin/bash \\\n+            --disabled-password \\\n+            sdk\n \n-RUN da list\n-USER root\n-# Install VS Code's deps, libxkbfile-dev and libsecret-1-dev\n-RUN curl -sL https://deb.nodesource.com/setup_8.x | bash - &&\\\n-    apt-get update && apt-get install -y \\\n+RUN apt-get update -y && \\\n+        apt-get -y install \\\n+        curl \\\n         procps \\\n         nodejs \\\n-        libxkbfile-dev \\\n+        # Install VS Code's deps, libxkbfile-dev and libsecret-1-dev\n+        libxkbfile-dev \\ \n         libsecret-1-dev &&\\\n+    curl -sL https://deb.nodesource.com/setup_8.x | bash - &&\\\n+    apt-get clean &&\\\n     apt-get remove -y --allow-remove-essential apt\n-\n+ \n USER sdk\n ENV CODESERVER_SHA256=4fe5b4d10d3048a5e5aa3e0772c09ece56241b91e76eeaa7404b4da292442881\\\n-    CODESERVER_VERSION=1.939-vsc1.33.1\n-RUN mkdir -p /home/sdk/.local/share/code-server/extensions/ &&\\\n+    CODESERVER_VERSION=1.939-vsc1.33.1\\\n+    PATH=\"${PATH}:/home/sdk/.daml/bin\"\n+    \n+RUN cd /home/sdk/ &&\\\n+    curl -Lo - \"https://github.com/digital-asset/daml/releases/download/v${DAML_VERSION}/daml-sdk-${DAML_VERSION}-linux.tar.gz\" | tar xzvf - --strip-components 1 &&\\\n+    ls -l &&\\"
  },
  {
    "id" : "b7375f9a-9518-460b-9889-bc184c8881c5",
    "prId" : 1459,
    "comments" : [
      {
        "id" : "cd64c8c8-91d5-4a9e-b590-122af33cbf02",
        "parentId" : null,
        "author" : {
          "login" : "neil-da",
          "name" : "Neil Mitchell",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/35463327?u=0eb1719958bc6e449ec5e7df3a312fa566f5055d&v=4"
        },
        "body" : "Can the bits we need to change regularly like the DAML version remain at the very top of the file?",
        "createdAt" : "2019-05-30T08:36:20Z",
        "updatedAt" : "2019-05-30T15:20:38Z",
        "lastEditedBy" : {
          "login" : "neil-da",
          "name" : "Neil Mitchell",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/35463327?u=0eb1719958bc6e449ec5e7df3a312fa566f5055d&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "6b1d2db5-d6bc-456b-a7a0-f9ff4300a485",
        "parentId" : "cd64c8c8-91d5-4a9e-b590-122af33cbf02",
        "author" : {
          "login" : "bolek-wisniewski",
          "name" : "Bolek@DigitalAsset",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/25302921?u=0ebe382413a7e394adf0aa30927d2c94e4882778&v=4"
        },
        "body" : "this is a dockerism where variables are undefined after FROM keyword. I moved the other variables together though, right under the FROM",
        "createdAt" : "2019-05-30T14:47:15Z",
        "updatedAt" : "2019-05-30T15:38:54Z",
        "lastEditedBy" : {
          "login" : "bolek-wisniewski",
          "name" : "Bolek@DigitalAsset",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/25302921?u=0ebe382413a7e394adf0aa30927d2c94e4882778&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "eb93e15b-f96d-4e62-b109-085fe7376cf3",
        "parentId" : "cd64c8c8-91d5-4a9e-b590-122af33cbf02",
        "author" : {
          "login" : "garyverhaegen-da",
          "name" : "Gary Verhaegen",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/45561385?u=eb17386ea66edbd0cd449e33b2d291bf5a1b51cb&v=4"
        },
        "body" : "Why does it need to be an ARG? Why not make it an ENV, and move the CODESERVER ones up here too?",
        "createdAt" : "2019-05-30T15:38:21Z",
        "updatedAt" : "2019-05-30T15:38:22Z",
        "lastEditedBy" : {
          "login" : "garyverhaegen-da",
          "name" : "Gary Verhaegen",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/45561385?u=eb17386ea66edbd0cd449e33b2d291bf5a1b51cb&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "6ddd8dee-0d4f-4764-923e-cfb5bdebe2c4",
        "parentId" : "cd64c8c8-91d5-4a9e-b590-122af33cbf02",
        "author" : {
          "login" : "bolek-wisniewski",
          "name" : "Bolek@DigitalAsset",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/25302921?u=0ebe382413a7e394adf0aa30927d2c94e4882778&v=4"
        },
        "body" : "yea...I had moved them up...I swear I've been seeing outdated code and comments more often in github.\r\n\r\nSaw your comment too late but having them set ENV variable implies to me that they are used inside the container, which they aren't. I don't really feel strongly about it though...",
        "createdAt" : "2019-05-30T19:32:01Z",
        "updatedAt" : "2019-05-30T19:32:01Z",
        "lastEditedBy" : {
          "login" : "bolek-wisniewski",
          "name" : "Bolek@DigitalAsset",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/25302921?u=0ebe382413a7e394adf0aa30927d2c94e4882778&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "396838725674f12aa3e1b860fbeb550f47aacc7e",
    "line" : 5,
    "diffHunk" : "@@ -1,32 +1,43 @@\n-ARG DAML_VERSION=0.12.16\n+FROM openjdk:8-slim\n \n-FROM \"digitalasset/daml-sdk:${DAML_VERSION}-master\"\n+ARG DAML_VERSION=0.12.21"
  },
  {
    "id" : "7bbed9c6-20de-44f5-9912-0282003d2af9",
    "prId" : 1063,
    "comments" : [
      {
        "id" : "f0c10597-d7d2-4cab-a995-145316929626",
        "parentId" : null,
        "author" : {
          "login" : "neil-da",
          "name" : "Neil Mitchell",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/35463327?u=0eb1719958bc6e449ec5e7df3a312fa566f5055d&v=4"
        },
        "body" : "Any chance we can move these two versions together, ideally call them DAML_VERSION (to be distinct from CODESERVER_VERSION). Actually combining them to a single version would be preferable.",
        "createdAt" : "2019-05-10T10:41:15Z",
        "updatedAt" : "2019-05-10T14:49:27Z",
        "lastEditedBy" : {
          "login" : "neil-da",
          "name" : "Neil Mitchell",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/35463327?u=0eb1719958bc6e449ec5e7df3a312fa566f5055d&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "03f4d783-adf9-42f9-b596-154f4e4a0738",
        "parentId" : "f0c10597-d7d2-4cab-a995-145316929626",
        "author" : {
          "login" : "bolek-wisniewski",
          "name" : "Bolek@DigitalAsset",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/25302921?u=0ebe382413a7e394adf0aa30927d2c94e4882778&v=4"
        },
        "body" : "I think it's some annoyance with changing users...I could not use the arg value from the top of the file!\r\n\r\nI'll try again, maybe I was doing something stupid. ",
        "createdAt" : "2019-05-10T14:22:51Z",
        "updatedAt" : "2019-05-10T14:49:27Z",
        "lastEditedBy" : {
          "login" : "bolek-wisniewski",
          "name" : "Bolek@DigitalAsset",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/25302921?u=0ebe382413a7e394adf0aa30927d2c94e4882778&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "d32c1f68-d03d-473b-af71-199b32230268",
        "parentId" : "f0c10597-d7d2-4cab-a995-145316929626",
        "author" : {
          "login" : "bolek-wisniewski",
          "name" : "Bolek@DigitalAsset",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/25302921?u=0ebe382413a7e394adf0aa30927d2c94e4882778&v=4"
        },
        "body" : "found a work-around, apparently you have to redefine (but you don't have to set the default value again) the ARG. This is some oddity with defining ARG before FROM, it all gets wiped after the FROM",
        "createdAt" : "2019-05-10T14:45:38Z",
        "updatedAt" : "2019-05-10T14:49:27Z",
        "lastEditedBy" : {
          "login" : "bolek-wisniewski",
          "name" : "Bolek@DigitalAsset",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/25302921?u=0ebe382413a7e394adf0aa30927d2c94e4882778&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "8962e74fa33da50cde2e88f7d795a91b859ccfcd",
    "line" : null,
    "diffHunk" : "@@ -11,10 +11,11 @@ RUN curl -sL https://deb.nodesource.com/setup_8.x | bash - &&\\\n         procps \\\n         nodejs \\\n         libxkbfile-dev \\\n-        libsecret-1-dev\n+        libsecret-1-dev &&\\\n+    apt-get remove -y --allow-remove-essential apt\n \n USER sdk\n-ENV VERSION=0.11.19 \\\n+ENV VERSION=0.12.16 \\"
  },
  {
    "id" : "35018eb5-c2d9-45ff-80c8-457f09ad9df0",
    "prId" : 682,
    "comments" : [
      {
        "id" : "36fd0357-6660-49a3-942e-4cb42ddf767e",
        "parentId" : null,
        "author" : {
          "login" : "neil-da",
          "name" : "Neil Mitchell",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/35463327?u=0eb1719958bc6e449ec5e7df3a312fa566f5055d&v=4"
        },
        "body" : "Can we use environment variables so these version numbers are only specified once?",
        "createdAt" : "2019-04-25T07:44:25Z",
        "updatedAt" : "2019-04-25T07:46:37Z",
        "lastEditedBy" : {
          "login" : "neil-da",
          "name" : "Neil Mitchell",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/35463327?u=0eb1719958bc6e449ec5e7df3a312fa566f5055d&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "5b785caa-8cf9-4e63-9353-61e31fd9aada",
        "parentId" : "36fd0357-6660-49a3-942e-4cb42ddf767e",
        "author" : {
          "login" : "bolek-wisniewski",
          "name" : "Bolek@DigitalAsset",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/25302921?u=0ebe382413a7e394adf0aa30927d2c94e4882778&v=4"
        },
        "body" : "yea - I tried doing that before and for some reason had problems, but I'll get to the bottom of it",
        "createdAt" : "2019-04-25T13:04:47Z",
        "updatedAt" : "2019-04-25T13:04:47Z",
        "lastEditedBy" : {
          "login" : "bolek-wisniewski",
          "name" : "Bolek@DigitalAsset",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/25302921?u=0ebe382413a7e394adf0aa30927d2c94e4882778&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "f4890c13b86c2cda75ea4b401cd74e61e70dd56d",
    "line" : 10,
    "diffHunk" : "@@ -14,16 +14,16 @@ RUN curl -sL https://deb.nodesource.com/setup_8.x | bash - &&\\\n \n USER sdk\n ENV VERSION=0.11.19 \\\n-    CODESERVER_SHA256=355463f35b9c355cf99ea2f1d87367194daae8aa4fdabaace4a9ea2f1b0490f6\n-RUN mkdir -p /home/sdk/.code-server/extensions/ &&\\\n+    CODESERVER_SHA256=4fe5b4d10d3048a5e5aa3e0772c09ece56241b91e76eeaa7404b4da292442881\n+RUN mkdir -p /home/sdk/.local/share/code-server/extensions/ &&\\\n     mkdir /home/sdk/workspace &&\\\n-    curl -Lo - \"https://github.com/codercom/code-server/releases/download/1.408-vsc1.32.0/code-server1.408-vsc1.32.0-linux-x64.tar.gz\" | tar xzvf - --strip-components 1 \"code-server1.408-vsc1.32.0-linux-x64\" &&\\\n+    curl -Lo - \"https://github.com/codercom/code-server/releases/download/1.939-vsc1.33.1/code-server1.939-vsc1.33.1-linux-x64.tar.gz\" | tar xzvf - --strip-components 1 \"code-server1.939-vsc1.33.1-linux-x64\" &&\\"
  }
]