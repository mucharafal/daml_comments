[
  {
    "id" : "5f6a9342-2ff7-456f-b671-68d12113b595",
    "prId" : 2455,
    "comments" : [
      {
        "id" : "29727266-6e65-4a3c-b1c8-5c0b7202a8e1",
        "parentId" : null,
        "author" : {
          "login" : "hurryabit",
          "name" : "Martin Huschenbett",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/11665611?u=7dbd00d5e7ea53919ed31dc4200f602ebca91c8f&v=4"
        },
        "body" : "`filterM` might make your code a bit more concise.",
        "createdAt" : "2019-08-08T13:19:04Z",
        "updatedAt" : "2019-08-08T13:19:43Z",
        "lastEditedBy" : {
          "login" : "hurryabit",
          "name" : "Martin Huschenbett",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/11665611?u=7dbd00d5e7ea53919ed31dc4200f602ebca91c8f&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "e13cd4f1ba9c1d22003e77379481d936ea600230",
    "line" : 26,
    "diffHunk" : "@@ -31,9 +34,22 @@ run timeout ls  = runLedgerService ls timeout (configOfPort port)\n connect :: Logger -> IO Handle\n connect log = do\n     lid <- run 5 getLedgerIdentity\n-    ids <- run 5 $ listPackages lid\n-    [_,_,pid] <- return ids -- guess which is the Chat package -- TODO: fix this properly!\n-    return Handle{log,lid,pid}\n+\n+    discovery <- run 5 $ do\n+        pids <- listPackages lid\n+        forM pids $ \\pid -> do"
  }
]