[
  {
    "id" : "c66d865d-5a61-487e-951f-55c90cb55003",
    "prId" : 2769,
    "comments" : [
      {
        "id" : "b9e26dc1-9852-4991-b2a6-f97fc0e20049",
        "parentId" : null,
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "I’m strongly opposed to using `package.yaml` files here. You are only adding an additional layer of complexity and make it harder for people that want to use `cabal-install` instead of `stack`.",
        "createdAt" : "2019-09-05T12:38:31Z",
        "updatedAt" : "2019-09-09T13:05:34Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "00945c53-af74-419d-96b7-fa6c06b343ce",
        "parentId" : "b9e26dc1-9852-4991-b2a6-f97fc0e20049",
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "fwiw if we go back to building sdist tarballs I care less about this since the sdist tarballs contain the cabal files but I would still prefer to just go with cabal files.",
        "createdAt" : "2019-09-05T13:07:37Z",
        "updatedAt" : "2019-09-09T13:05:34Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "2b91f34d-61ed-442e-9aef-0ff0418438f3",
        "parentId" : "b9e26dc1-9852-4991-b2a6-f97fc0e20049",
        "author" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "body" : "We have the sdist tarballs back as we discussed yesterday.\r\nBut we still use stack (again as discussed yesterday)\r\nEveryone is happy :)",
        "createdAt" : "2019-09-06T15:45:04Z",
        "updatedAt" : "2019-09-09T13:05:34Z",
        "lastEditedBy" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "2840f59983348b1d315b9a72962459f74f8d8da7",
    "line" : 1,
    "diffHunk" : "@@ -0,0 +1,37 @@\n+name:                nim"
  },
  {
    "id" : "daef8e23-15d9-435a-a8df-c9ece35579ce",
    "prId" : 2769,
    "comments" : [
      {
        "id" : "b160630a-8fd8-4f05-a2fb-c5a7a08c2260",
        "parentId" : null,
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "This section is not right. Our code is licensed as `Apache2`, author should probably be `The DAML Authors` like in our copyright header and the maintainer email should probably point to a digitalasset email address. The repo can just point to the DAML repo.\r\n\r\nSame for the other cabal files.",
        "createdAt" : "2019-09-05T12:40:14Z",
        "updatedAt" : "2019-09-09T13:05:34Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "d72bbdb4-88b6-4adc-8e68-9531a8f39bbf",
        "parentId" : "b160630a-8fd8-4f05-a2fb-c5a7a08c2260",
        "author" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "body" : "changed as you suggested",
        "createdAt" : "2019-09-06T15:45:19Z",
        "updatedAt" : "2019-09-09T13:05:34Z",
        "lastEditedBy" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "2840f59983348b1d315b9a72962459f74f8d8da7",
    "line" : null,
    "diffHunk" : "@@ -0,0 +1,37 @@\n+name:                nim\n+version:             0.1.0.0\n+description:         Play Nim on a DAML Ledger\n+license:             BSD3"
  },
  {
    "id" : "6d7c8d8f-dd93-4c2b-9e3f-0002905a41bc",
    "prId" : 2769,
    "comments" : [
      {
        "id" : "78b3aafa-f990-4b74-a11b-e0dec7367a78",
        "parentId" : null,
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "Not really important here since we do not care about performance for this example (at least for now) but this doesn’t quite match the RTS options that we use via bazel: `    \"-with-rtsopts=-N2 -qg -I0\",`",
        "createdAt" : "2019-09-09T07:01:31Z",
        "updatedAt" : "2019-09-09T13:05:34Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "e286bd0d-fd40-4dd8-80dd-5903d45af9b8",
        "parentId" : "78b3aafa-f990-4b74-a11b-e0dec7367a78",
        "author" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "body" : "I tried this, but it broke the `stack build`:\r\n```\r\nghc: unrecognised flag: -qg\r\ndid you mean one of:\r\n  -g\r\n```\r\n@moritzkiefer-da Do you understand why this works in the `bazel` build?\r\n",
        "createdAt" : "2019-09-09T11:36:14Z",
        "updatedAt" : "2019-09-09T13:05:34Z",
        "lastEditedBy" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "625a39dc-2591-41ef-8cc8-ba66f96245dd",
        "parentId" : "78b3aafa-f990-4b74-a11b-e0dec7367a78",
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "Looks like a quoting issue where stack passes `-qg` as a separate argument. Did you include the quotes I had there?",
        "createdAt" : "2019-09-09T11:38:26Z",
        "updatedAt" : "2019-09-09T13:05:34Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "fc1589f7-6527-4408-ab3a-0b6a22bfd94b",
        "parentId" : "78b3aafa-f990-4b74-a11b-e0dec7367a78",
        "author" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "body" : "I did.\r\n",
        "createdAt" : "2019-09-09T11:48:12Z",
        "updatedAt" : "2019-09-09T13:05:34Z",
        "lastEditedBy" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "ae220d7a-74db-40a0-b1de-8657e957a353",
        "parentId" : "78b3aafa-f990-4b74-a11b-e0dec7367a78",
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "How does the generated cabal file look like? Maybe you need two layers of quoting, one for yaml and then one that ends up in the cabal file or something silly like that.",
        "createdAt" : "2019-09-09T11:49:33Z",
        "updatedAt" : "2019-09-09T13:05:34Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "0947d314-e313-471f-aa83-d6200845e728",
        "parentId" : "78b3aafa-f990-4b74-a11b-e0dec7367a78",
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "See https://github.com/sol/hpack/issues/237",
        "createdAt" : "2019-09-09T11:53:15Z",
        "updatedAt" : "2019-09-09T13:05:34Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "4c3de9c3-5955-4177-be11-c02855a04d5a",
        "parentId" : "78b3aafa-f990-4b74-a11b-e0dec7367a78",
        "author" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "body" : "This did the trick! (single quotes around double quotes)\r\n```\r\n    - '\"-with-rtsopts=-N2 -qg -I0\"'\r\n```\r\n",
        "createdAt" : "2019-09-09T12:04:02Z",
        "updatedAt" : "2019-09-09T13:05:34Z",
        "lastEditedBy" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "14161942-2471-4392-9933-412d0b2fc90f",
        "parentId" : "78b3aafa-f990-4b74-a11b-e0dec7367a78",
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "yaml is great …",
        "createdAt" : "2019-09-09T12:07:28Z",
        "updatedAt" : "2019-09-09T13:05:34Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "2840f59983348b1d315b9a72962459f74f8d8da7",
    "line" : null,
    "diffHunk" : "@@ -0,0 +1,37 @@\n+name:                nim\n+version:             0.1.0.0\n+description:         Play Nim on a DAML Ledger\n+license:             Apache-2.0\n+author:              The DAML Authors\n+maintainer:          nick.chapman@digitalasset.com\n+github:              https://github.com/digital-asset/daml\n+\n+dependencies:\n+- ansi-terminal\n+- base >= 4.7 && < 5\n+- containers\n+- daml-ledger\n+- extra\n+- haskeline\n+- random\n+- text\n+- transformers\n+- uuid\n+\n+executables:\n+  nim-exe:\n+    main:                DA.Ledger.App.Nim.Main\n+    source-dirs:         src\n+    ghc-options:\n+    - -Wall\n+    - -Wno-name-shadowing\n+    - -threaded\n+    - -rtsopts\n+    - -with-rtsopts=-N"
  },
  {
    "id" : "96539e46-ba95-49db-987d-7d570eb58325",
    "prId" : 2769,
    "comments" : [
      {
        "id" : "5d2a2339-936a-4a4d-981e-039114452043",
        "parentId" : null,
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "`hpack` (and `.cabal` files) have a `default-extensions` field that is specifically meant for this and should be preferred.",
        "createdAt" : "2019-09-09T07:02:07Z",
        "updatedAt" : "2019-09-09T13:05:34Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "617fe3d4-640e-4d22-861c-fc5ad590a18e",
        "parentId" : "5d2a2339-936a-4a4d-981e-039114452043",
        "author" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "body" : "Did this.",
        "createdAt" : "2019-09-09T11:30:12Z",
        "updatedAt" : "2019-09-09T13:05:34Z",
        "lastEditedBy" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "2840f59983348b1d315b9a72962459f74f8d8da7",
    "line" : null,
    "diffHunk" : "@@ -0,0 +1,37 @@\n+name:                nim\n+version:             0.1.0.0\n+description:         Play Nim on a DAML Ledger\n+license:             Apache-2.0\n+author:              The DAML Authors\n+maintainer:          nick.chapman@digitalasset.com\n+github:              https://github.com/digital-asset/daml\n+\n+dependencies:\n+- ansi-terminal\n+- base >= 4.7 && < 5\n+- containers\n+- daml-ledger\n+- extra\n+- haskeline\n+- random\n+- text\n+- transformers\n+- uuid\n+\n+executables:\n+  nim-exe:\n+    main:                DA.Ledger.App.Nim.Main\n+    source-dirs:         src\n+    ghc-options:\n+    - -Wall\n+    - -Wno-name-shadowing\n+    - -threaded\n+    - -rtsopts\n+    - -with-rtsopts=-N\n+\n+    - -XGeneralizedNewtypeDeriving"
  }
]