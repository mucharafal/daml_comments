[
  {
    "id" : "20f3daf6-7b03-42d8-903c-5bb0f209b072",
    "prId" : 3822,
    "comments" : [
      {
        "id" : "77e699b1-e887-4a7b-8306-8a9bfdd2c514",
        "parentId" : null,
        "author" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "body" : "```suggestion\r\n    val name: String = e.getClass.getName\r\n```\r\nAre you sure this is not what you're trying to do? Otherwise I believe name would always be `com.digitalasset.http.util.ExceptionOps$`.",
        "createdAt" : "2019-12-11T16:07:49Z",
        "updatedAt" : "2019-12-11T18:13:00Z",
        "lastEditedBy" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "7e1f6479-dc80-40e0-a16b-a2542e58df3a",
        "parentId" : "77e699b1-e887-4a7b-8306-8a9bfdd2c514",
        "author" : {
          "login" : "leo-da",
          "name" : "Leonid Shlyapnikov",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/27688859?u=375a6e2bd1079fec6f7d6d582ac05b5628218384&v=4"
        },
        "body" : "@stefanobaghino-da good catch! Thanks!",
        "createdAt" : "2019-12-11T16:11:22Z",
        "updatedAt" : "2019-12-11T18:13:00Z",
        "lastEditedBy" : {
          "login" : "leo-da",
          "name" : "Leonid Shlyapnikov",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/27688859?u=375a6e2bd1079fec6f7d6d582ac05b5628218384&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "bc83e1ccaf7a0a4ba86bc1527abcd849247204e0",
    "line" : null,
    "diffHunk" : "@@ -0,0 +1,19 @@\n+// Copyright (c) 2019 The DAML Authors. All rights reserved.\n+// SPDX-License-Identifier: Apache-2.0\n+\n+package com.digitalasset.http.util\n+\n+object ExceptionOps {\n+\n+  implicit class ExceptionOps(val underlying: Throwable) extends AnyVal {\n+    def description: String = getDescription(underlying)\n+  }\n+\n+  def getDescription(e: Throwable): String = {\n+    val name: String = getClass.getName"
  },
  {
    "id" : "f00d6b5d-83f2-4460-aed4-01b4ca86ab8c",
    "prId" : 3822,
    "comments" : [
      {
        "id" : "d0ff2b5a-20c7-40c9-bf53-63f6f7c3814e",
        "parentId" : null,
        "author" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "body" : "Is there a specific reason why you'd always prepend the class name? Why not doing that only if the message is missing? If you need to prepend the class name you can do it at call site.",
        "createdAt" : "2019-12-11T16:09:04Z",
        "updatedAt" : "2019-12-11T18:13:00Z",
        "lastEditedBy" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "6302fd9c-d1b9-4de8-a188-5eb26f0ada66",
        "parentId" : "d0ff2b5a-20c7-40c9-bf53-63f6f7c3814e",
        "author" : {
          "login" : "leo-da",
          "name" : "Leonid Shlyapnikov",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/27688859?u=375a6e2bd1079fec6f7d6d582ac05b5628218384&v=4"
        },
        "body" : "I actually want to provide the context, the exception class name. I could just use `Throwable#toString` but anyone can override it. With `getDescription` I control exactly how exception gets reported. If exception class name makes too much noise we could remove it later, but I believe it will be useful for DABL team (they extend JSON API and I need an easy way to identify where exception is coming from by just looking at the error message in the endpoint JSON output).",
        "createdAt" : "2019-12-11T16:16:47Z",
        "updatedAt" : "2019-12-11T18:13:00Z",
        "lastEditedBy" : {
          "login" : "leo-da",
          "name" : "Leonid Shlyapnikov",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/27688859?u=375a6e2bd1079fec6f7d6d582ac05b5628218384&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "bc83e1ccaf7a0a4ba86bc1527abcd849247204e0",
    "line" : 14,
    "diffHunk" : "@@ -0,0 +1,19 @@\n+// Copyright (c) 2019 The DAML Authors. All rights reserved.\n+// SPDX-License-Identifier: Apache-2.0\n+\n+package com.digitalasset.http.util\n+\n+object ExceptionOps {\n+\n+  implicit class ExceptionOps(val underlying: Throwable) extends AnyVal {\n+    def description: String = getDescription(underlying)\n+  }\n+\n+  def getDescription(e: Throwable): String = {\n+    val name: String = getClass.getName\n+    Option(e.getMessage).filter(_.nonEmpty) match {"
  }
]