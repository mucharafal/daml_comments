[
  {
    "id" : "44b21b08-2dbc-4298-b422-1b2b9a277e5c",
    "prId" : 3806,
    "comments" : [
      {
        "id" : "473dea36-f748-4a92-b4c8-4ec4447db86d",
        "parentId" : null,
        "author" : {
          "login" : "mziolekda",
          "name" : "mziolekda",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/28315767?u=bfa7fd34d88616828ab02abda54fea595b0fde29&v=4"
        },
        "body" : "It would make sense to \r\n- add MRT to config and party endpoints\r\n- add submissionId to party endpoint (config already has it)",
        "createdAt" : "2019-12-11T06:39:01Z",
        "updatedAt" : "2019-12-12T15:08:00Z",
        "lastEditedBy" : {
          "login" : "mziolekda",
          "name" : "mziolekda",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/28315767?u=bfa7fd34d88616828ab02abda54fea595b0fde29&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "858a4fc2-509a-4bba-b015-2c4769b693f0",
        "parentId" : "473dea36-f748-4a92-b4c8-4ec4447db86d",
        "author" : {
          "login" : "dajmaki",
          "name" : "Jussi Mäki",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/19684330?u=abb996187e6b472110abdd8dc3c27c4fc0140b92&v=4"
        },
        "body" : "Agreed. Not in this PR though.",
        "createdAt" : "2019-12-11T10:11:03Z",
        "updatedAt" : "2019-12-12T15:08:00Z",
        "lastEditedBy" : {
          "login" : "dajmaki",
          "name" : "Jussi Mäki",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/19684330?u=abb996187e6b472110abdd8dc3c27c4fc0140b92&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "251fd5fc053893266c997d1d7451a1f25479df7b",
    "line" : null,
    "diffHunk" : "@@ -86,8 +86,16 @@ message UploadDarFileRequest {\n   // ``daml_lf.proto``.\n   // Required\n   bytes dar_file = 1;\n+\n+  // The deadline for accepting the request after which the ledger rejects it.\n+  // Optional, defaults to maximum time to live in ledger's active time model.\n+  google.protobuf.Timestamp maximum_record_time = 2;"
  },
  {
    "id" : "69af30fd-19a4-4308-a1d7-448faeccfe96",
    "prId" : 1800,
    "comments" : [
      {
        "id" : "02cbf08d-8824-4f81-a00e-42deb6473dde",
        "parentId" : null,
        "author" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "body" : "Is this really about the origin of the source (e.g. some company's name), or rather a description of the package (e.g. `IOU model v2.7`)?",
        "createdAt" : "2019-06-26T13:08:53Z",
        "updatedAt" : "2019-06-27T08:00:27Z",
        "lastEditedBy" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "ef4fca19-fd8e-47bb-84f6-4ec3b6e78661",
        "parentId" : "02cbf08d-8824-4f81-a00e-42deb6473dde",
        "author" : {
          "login" : "rautenrieth-da",
          "name" : "Robert Autenrieth",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/31539813?u=e5fe17e2c6f986e9ee04c5b9ca5f6a5a90d1c94a&v=4"
        },
        "body" : "It is an arbitrary string produced by the participant, you can't set it through the ledger API. AFAIR @mziolekda mentioned this is about where/how the packages were uploaded, e.g., `Uploaded by admin ABC through participant node XYZ on 2019-06-26`.\r\n\r\nIn the ledger API, it is described as `Description provided by the backing participant describing where it got the package from.`\r\n\r\nIn the `WriteService`, it is described as `The description of the packages provided by the participant implementation.`\r\n\r\nThe former description looks more correct, I will update the comment in `WriteService`",
        "createdAt" : "2019-06-26T14:07:02Z",
        "updatedAt" : "2019-06-27T08:00:27Z",
        "lastEditedBy" : {
          "login" : "rautenrieth-da",
          "name" : "Robert Autenrieth",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/31539813?u=e5fe17e2c6f986e9ee04c5b9ca5f6a5a90d1c94a&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "c91683dc-38e5-472b-a039-eeaa0fafb8aa",
        "parentId" : "02cbf08d-8824-4f81-a00e-42deb6473dde",
        "author" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "body" : "I see. Thank you.",
        "createdAt" : "2019-06-26T15:21:42Z",
        "updatedAt" : "2019-06-27T08:00:27Z",
        "lastEditedBy" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "720e4237da08f6f60dc2001e8f439cb9614a907e",
    "line" : 14,
    "diffHunk" : "@@ -63,14 +63,16 @@ message PackageDetails {\n   string package_id = 1;\n \n   // Size of the package in bytes.\n+  // The size of the package is given by the size of the ``daml_lf``\n+  // ArchivePayload. See further details in ``daml_lf.proto``.\n   // Required\n   uint64 package_size = 2;\n \n   // Indicates since when the package is known to the backing participant.\n   // Required\n   google.protobuf.Timestamp known_since = 3;\n \n-  // Descrioption provided by the backing participant descnribing where\n+  // Description provided by the backing participant describing where"
  },
  {
    "id" : "a655e077-461e-48ed-876b-78a9b3e4e19d",
    "prId" : 1264,
    "comments" : [
      {
        "id" : "cc5e90cf-539d-4c1e-a96c-109848daf61f",
        "parentId" : null,
        "author" : {
          "login" : "meiersi-da",
          "name" : "Simon Meier",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/13766136?u=a00dd223b1cde8578fe208ebbb7cccd4db41eb9a&v=4"
        },
        "body" : "Vote to remove",
        "createdAt" : "2019-05-23T06:50:21Z",
        "updatedAt" : "2019-05-23T20:06:44Z",
        "lastEditedBy" : {
          "login" : "meiersi-da",
          "name" : "Simon Meier",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/13766136?u=a00dd223b1cde8578fe208ebbb7cccd4db41eb9a&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "9ac9de37-bafb-4da9-8dab-3f8109749b01",
        "parentId" : "cc5e90cf-539d-4c1e-a96c-109848daf61f",
        "author" : {
          "login" : "mziolekda",
          "name" : "mziolekda",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/28315767?u=bfa7fd34d88616828ab02abda54fea595b0fde29&v=4"
        },
        "body" : "Let's discuss",
        "createdAt" : "2019-05-23T13:38:48Z",
        "updatedAt" : "2019-05-23T20:06:44Z",
        "lastEditedBy" : {
          "login" : "mziolekda",
          "name" : "mziolekda",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/28315767?u=bfa7fd34d88616828ab02abda54fea595b0fde29&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "949c69703c60436cb3be1de6cb82043c45186fbf",
    "line" : null,
    "diffHunk" : "@@ -0,0 +1,115 @@\n+// Copyright (c) 2019 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n+// SPDX-License-Identifier: Apache-2.0\n+\n+syntax = \"proto3\";\n+\n+package com.digitalasset.ledger.api.v1.admin;\n+\n+import \"google/protobuf/timestamp.proto\";\n+\n+option java_outer_classname = \"PackageManagementServiceOuterClass\";\n+option java_package = \"com.digitalasset.ledger.api.v1.admin\";\n+\n+// Status: experimental interface, will change before it is deemed production\n+// ready\n+\n+// Query the DAML-LF packages supported by the ledger participant and upload\n+// DAR files. We use 'backing participant' to refer to this specific participant\n+// in the methods of this API.\n+// It is not mandatory to support this interface on a specific daml-on-x\n+// implementation or to implement it in its entirety\n+service PackageManagementService {\n+\n+  // Returns the details of all DAML-LF packages known to the backing\n+  // participant.\n+  rpc ListKnownPackages (ListKnownPackagesRequest) returns\n+    (ListKnownPackagesResponse);\n+\n+  // Upload a DAR file to the backing participant. Depending on the ledger\n+  // implementation this might also make the package available on the whole \n+  // ledger. This call might not be supported by some ledger implementations. \n+  // Canton could be an example, where uploading a DAR is not sufficient to\n+  // render it usable, it must be activated first.\n+  rpc UploadDarFile (UploadDarFileRequest) returns (UploadDarFileResponse);\n+}\n+\n+message ListKnownPackagesRequest {\n+\n+  // Must correspond to the ledger ID reported by the Ledger Identification \n+  // Service.\n+  // Required\n+  string ledger_id = 1;"
  },
  {
    "id" : "fbf5f261-6515-4542-a591-95fd296bc089",
    "prId" : 1264,
    "comments" : [
      {
        "id" : "9641457b-61f8-41ad-8b09-7e69877b8d12",
        "parentId" : null,
        "author" : {
          "login" : "meiersi-da",
          "name" : "Simon Meier",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/13766136?u=a00dd223b1cde8578fe208ebbb7cccd4db41eb9a&v=4"
        },
        "body" : "Would replace this with the following inlined fields:\r\n```\r\nknown_since\r\nsource_description\r\npackage_size\r\n```\r\n\r\nthis way taking into account the perspective of `known` packages, not uploaded packages.",
        "createdAt" : "2019-05-23T06:51:27Z",
        "updatedAt" : "2019-05-23T20:06:44Z",
        "lastEditedBy" : {
          "login" : "meiersi-da",
          "name" : "Simon Meier",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/13766136?u=a00dd223b1cde8578fe208ebbb7cccd4db41eb9a&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "eae3770a-2366-489f-b482-d998d9f04e2b",
        "parentId" : "9641457b-61f8-41ad-8b09-7e69877b8d12",
        "author" : {
          "login" : "mziolekda",
          "name" : "mziolekda",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/28315767?u=bfa7fd34d88616828ab02abda54fea595b0fde29&v=4"
        },
        "body" : "roger that, I want to keep the `uploaded_by` as well, we always can identify the participant that uploaded the package onto the ledger. We can call it `source_participant` to be in-line with the other suggestion.",
        "createdAt" : "2019-05-23T13:44:06Z",
        "updatedAt" : "2019-05-23T20:06:44Z",
        "lastEditedBy" : {
          "login" : "mziolekda",
          "name" : "mziolekda",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/28315767?u=bfa7fd34d88616828ab02abda54fea595b0fde29&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "949c69703c60436cb3be1de6cb82043c45186fbf",
    "line" : null,
    "diffHunk" : "@@ -0,0 +1,115 @@\n+// Copyright (c) 2019 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n+// SPDX-License-Identifier: Apache-2.0\n+\n+syntax = \"proto3\";\n+\n+package com.digitalasset.ledger.api.v1.admin;\n+\n+import \"google/protobuf/timestamp.proto\";\n+\n+option java_outer_classname = \"PackageManagementServiceOuterClass\";\n+option java_package = \"com.digitalasset.ledger.api.v1.admin\";\n+\n+// Status: experimental interface, will change before it is deemed production\n+// ready\n+\n+// Query the DAML-LF packages supported by the ledger participant and upload\n+// DAR files. We use 'backing participant' to refer to this specific participant\n+// in the methods of this API.\n+// It is not mandatory to support this interface on a specific daml-on-x\n+// implementation or to implement it in its entirety\n+service PackageManagementService {\n+\n+  // Returns the details of all DAML-LF packages known to the backing\n+  // participant.\n+  rpc ListKnownPackages (ListKnownPackagesRequest) returns\n+    (ListKnownPackagesResponse);\n+\n+  // Upload a DAR file to the backing participant. Depending on the ledger\n+  // implementation this might also make the package available on the whole \n+  // ledger. This call might not be supported by some ledger implementations. \n+  // Canton could be an example, where uploading a DAR is not sufficient to\n+  // render it usable, it must be activated first.\n+  rpc UploadDarFile (UploadDarFileRequest) returns (UploadDarFileResponse);\n+}\n+\n+message ListKnownPackagesRequest {\n+\n+  // Must correspond to the ledger ID reported by the Ledger Identification \n+  // Service.\n+  // Required\n+  string ledger_id = 1;\n+}\n+\n+message ListKnownPackagesResponse {\n+\n+  // The IDs of all DAML-LF packages supported by the ledger.\n+  // Required\n+  repeated PackageDetails package_details= 1;\n+}\n+\n+message PackageDetails {\n+ \n+  // The IDs of all DAML-LF packages supported by the ledger.\n+  // Required\n+  string package_id = 1;\n+\n+  // Human readable name of a DAML-LF package.\n+  // Future extension: We need this field in order to facilitate user interfaces\n+  // that list packages in a user understandable manner. Hashes are useless for\n+  // that. Commenting out until corresponding changes are introduced in daml-lf\n+  // archive format and this functionality becomes supportable by the\n+  // implementations.\n+  // Required\n+  // string package_name = 2;\n+\n+  // Details of the original upload action\n+  PackageUploadDetails upload_details = 2;"
  },
  {
    "id" : "040c184f-055d-4ce2-ae84-24eea8c18cbb",
    "prId" : 1264,
    "comments" : [
      {
        "id" : "fcdbd27a-4f95-49fb-9d42-b523ce8f75b2",
        "parentId" : null,
        "author" : {
          "login" : "meiersi-da",
          "name" : "Simon Meier",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/13766136?u=a00dd223b1cde8578fe208ebbb7cccd4db41eb9a&v=4"
        },
        "body" : "Remove. let the api impl fill the source_description field as it sees fit",
        "createdAt" : "2019-05-23T06:52:22Z",
        "updatedAt" : "2019-05-23T20:06:44Z",
        "lastEditedBy" : {
          "login" : "meiersi-da",
          "name" : "Simon Meier",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/13766136?u=a00dd223b1cde8578fe208ebbb7cccd4db41eb9a&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "6ec039f7-399a-409d-9ef2-2b7b301ae7b2",
        "parentId" : "fcdbd27a-4f95-49fb-9d42-b523ce8f75b2",
        "author" : {
          "login" : "mziolekda",
          "name" : "mziolekda",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/28315767?u=bfa7fd34d88616828ab02abda54fea595b0fde29&v=4"
        },
        "body" : "Previously, discussing it, we said the user would type additional info as he uploads. There is no other source that participant could pull this information from. So either it needs to remain on the request or it has to vanish from the `PackageDetails` as well.",
        "createdAt" : "2019-05-23T13:53:58Z",
        "updatedAt" : "2019-05-23T20:06:44Z",
        "lastEditedBy" : {
          "login" : "mziolekda",
          "name" : "mziolekda",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/28315767?u=bfa7fd34d88616828ab02abda54fea595b0fde29&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "a29ee0c3-abb6-4113-a3a9-1ccd8ff65604",
        "parentId" : "fcdbd27a-4f95-49fb-9d42-b523ce8f75b2",
        "author" : {
          "login" : "meiersi-da",
          "name" : "Simon Meier",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/13766136?u=a00dd223b1cde8578fe208ebbb7cccd4db41eb9a&v=4"
        },
        "body" : "The idea is that the RPC implementing the request fills in the details. There participant_id and more context is known. I would just not allow the user to provide extra data.",
        "createdAt" : "2019-05-23T16:13:56Z",
        "updatedAt" : "2019-05-23T20:06:44Z",
        "lastEditedBy" : {
          "login" : "meiersi-da",
          "name" : "Simon Meier",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/13766136?u=a00dd223b1cde8578fe208ebbb7cccd4db41eb9a&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "949c69703c60436cb3be1de6cb82043c45186fbf",
    "line" : null,
    "diffHunk" : "@@ -0,0 +1,115 @@\n+// Copyright (c) 2019 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n+// SPDX-License-Identifier: Apache-2.0\n+\n+syntax = \"proto3\";\n+\n+package com.digitalasset.ledger.api.v1.admin;\n+\n+import \"google/protobuf/timestamp.proto\";\n+\n+option java_outer_classname = \"PackageManagementServiceOuterClass\";\n+option java_package = \"com.digitalasset.ledger.api.v1.admin\";\n+\n+// Status: experimental interface, will change before it is deemed production\n+// ready\n+\n+// Query the DAML-LF packages supported by the ledger participant and upload\n+// DAR files. We use 'backing participant' to refer to this specific participant\n+// in the methods of this API.\n+// It is not mandatory to support this interface on a specific daml-on-x\n+// implementation or to implement it in its entirety\n+service PackageManagementService {\n+\n+  // Returns the details of all DAML-LF packages known to the backing\n+  // participant.\n+  rpc ListKnownPackages (ListKnownPackagesRequest) returns\n+    (ListKnownPackagesResponse);\n+\n+  // Upload a DAR file to the backing participant. Depending on the ledger\n+  // implementation this might also make the package available on the whole \n+  // ledger. This call might not be supported by some ledger implementations. \n+  // Canton could be an example, where uploading a DAR is not sufficient to\n+  // render it usable, it must be activated first.\n+  rpc UploadDarFile (UploadDarFileRequest) returns (UploadDarFileResponse);\n+}\n+\n+message ListKnownPackagesRequest {\n+\n+  // Must correspond to the ledger ID reported by the Ledger Identification \n+  // Service.\n+  // Required\n+  string ledger_id = 1;\n+}\n+\n+message ListKnownPackagesResponse {\n+\n+  // The IDs of all DAML-LF packages supported by the ledger.\n+  // Required\n+  repeated PackageDetails package_details= 1;\n+}\n+\n+message PackageDetails {\n+ \n+  // The IDs of all DAML-LF packages supported by the ledger.\n+  // Required\n+  string package_id = 1;\n+\n+  // Human readable name of a DAML-LF package.\n+  // Future extension: We need this field in order to facilitate user interfaces\n+  // that list packages in a user understandable manner. Hashes are useless for\n+  // that. Commenting out until corresponding changes are introduced in daml-lf\n+  // archive format and this functionality becomes supportable by the\n+  // implementations.\n+  // Required\n+  // string package_name = 2;\n+\n+  // Details of the original upload action\n+  PackageUploadDetails upload_details = 2;\n+}\n+\n+message PackageUploadDetails {\n+\n+  // Identifier of the participant that uploaded the package.\n+  // Required\n+  string uploaded_by = 1;\n+\n+  // Microseconds since the UNIX epoch. Can go backwards. Fixed\n+  // since the vast majority of values will be greater than\n+  // 2^28, since currently the number of microseconds since the\n+  // epoch is greater than that. Range: 0001-01-01T00:00:00Z to\n+  // 9999-12-31T23:59:59.999999Z, so that we can convert to/from\n+  // https://www.ietf.org/rfc/rfc3339.txt.\n+  // Required\n+  google.protobuf.Timestamp upload_timestamp = 2;\n+\n+  // Size of the package in bytes.\n+  // Required\n+  uint64 package_size = 3;\n+\n+  // Descrioption provided by the original uploader\n+  string description = 4;\n+\n+}\n+\n+message UploadDarFileRequest {\n+\n+  // Must correspond to the ledger ID reported by the Ledger Identification\n+  // Service.\n+  // Required\n+  string ledger_id = 1;\n+\n+  // Contains a DAML archive DAR file, which in turn is a jar like zipped\n+  // container for ``daml_lf`` archives. See further details in\n+  // ``daml_lf.proto``.\n+  // Required\n+  bytes dar_file = 2;\n+\n+  // Descrioption provided by the uploader, it helps the users of the\n+  // ListKnownPackages interface call to make sense of the returned results.\n+  // Optional\n+  string description = 3;"
  }
]