[
  {
    "id" : "15d729bf-c3e0-4839-9a84-ce98ed22e85a",
    "prId" : 6484,
    "comments" : [
      {
        "id" : "47c14e01-15e0-447e-a344-c8e4e09b1ff3",
        "parentId" : null,
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "Note that as soon as you start relying on this you also need to bundle it in the SDK.",
        "createdAt" : "2020-06-24T16:43:39Z",
        "updatedAt" : "2020-06-24T16:43:59Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "9c7a9e1d-7280-45f9-8006-cefca557c604",
        "parentId" : "47c14e01-15e0-447e-a344-c8e4e09b1ff3",
        "author" : {
          "login" : "shayne-fletcher",
          "name" : "Shayne Fletcher",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/1500167?v=4"
        },
        "body" : "Let me make sure that fact is not forgotten. But let me check, the intent is only to exercise it from the tests. Do we still need to bundle it in the SDK?",
        "createdAt" : "2020-06-24T16:48:48Z",
        "updatedAt" : "2020-06-24T16:48:49Z",
        "lastEditedBy" : {
          "login" : "shayne-fletcher",
          "name" : "Shayne Fletcher",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/1500167?v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "c7bcdae0-6e52-4477-a01d-4da8525f5112",
        "parentId" : "47c14e01-15e0-447e-a344-c8e4e09b1ff3",
        "author" : {
          "login" : "shayne-fletcher",
          "name" : "Shayne Fletcher",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/1500167?v=4"
        },
        "body" : "Issue https://github.com/digital-asset/daml/issues/6486",
        "createdAt" : "2020-06-24T16:49:17Z",
        "updatedAt" : "2020-06-24T16:49:18Z",
        "lastEditedBy" : {
          "login" : "shayne-fletcher",
          "name" : "Shayne Fletcher",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/1500167?v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "5de88101-435b-403d-8097-f7fc1f1c2b52",
        "parentId" : "47c14e01-15e0-447e-a344-c8e4e09b1ff3",
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "I don’t understand why you only need this in the tests. Surely anyone that wants to run the trigger service with auth also needs this? Are you saying it’s up to them to install it and set it up?",
        "createdAt" : "2020-06-24T16:49:59Z",
        "updatedAt" : "2020-06-24T16:49:59Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "31286f28-8f20-4da1-b55b-095ee74d98cd",
        "parentId" : "47c14e01-15e0-447e-a344-c8e4e09b1ff3",
        "author" : {
          "login" : "shayne-fletcher",
          "name" : "Shayne Fletcher",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/1500167?v=4"
        },
        "body" : "that was the plan. the idea was to document \"if you have a REST service available satisfying this interface `<link to specification>` then pass these configuration parameters e.g. `--with-auth-url` (and whatever else) and trigger service will call it. if you don't have one of your own making, you are welcome to use this one `<link to ref-ledger-authentication URL>`\" sort of thing.\r\n",
        "createdAt" : "2020-06-24T17:06:01Z",
        "updatedAt" : "2020-06-24T17:07:34Z",
        "lastEditedBy" : {
          "login" : "shayne-fletcher",
          "name" : "Shayne Fletcher",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/1500167?v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "a023a1a2-2a5f-4c2f-a95c-71226b5188a2",
        "parentId" : "47c14e01-15e0-447e-a344-c8e4e09b1ff3",
        "author" : {
          "login" : "shayne-fletcher",
          "name" : "Shayne Fletcher",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/1500167?v=4"
        },
        "body" : "and so in that way, we integrate auth without locking down any specific auth provider, test it, satisfy the dabl requirements and avoid having to release a new SDK component.",
        "createdAt" : "2020-06-24T17:06:48Z",
        "updatedAt" : "2020-06-24T17:06:48Z",
        "lastEditedBy" : {
          "login" : "shayne-fletcher",
          "name" : "Shayne Fletcher",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/1500167?v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "c5601d88-99bc-4caf-96f9-00391f26b4a9",
        "parentId" : "47c14e01-15e0-447e-a344-c8e4e09b1ff3",
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "Making it configurable sounds sensible but it might still make sense to ship the auth service as a default implementation so users can get started quickly.",
        "createdAt" : "2020-06-24T17:13:06Z",
        "updatedAt" : "2020-06-24T17:13:06Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "c3e2d556-c6ab-4b1c-bb9f-b343844470cf",
        "parentId" : "47c14e01-15e0-447e-a344-c8e4e09b1ff3",
        "author" : {
          "login" : "shayne-fletcher",
          "name" : "Shayne Fletcher",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/1500167?v=4"
        },
        "body" : "sounds good. i'll leave https://github.com/digital-asset/daml/issues/6486 open as is accordingly.",
        "createdAt" : "2020-06-24T17:14:34Z",
        "updatedAt" : "2020-06-24T17:14:34Z",
        "lastEditedBy" : {
          "login" : "shayne-fletcher",
          "name" : "Shayne Fletcher",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/1500167?v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "b943d93841009c244e28a345be65fd27497077f3",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +72,76 @@# The ref-ledger-authentication binary that we exercise from the\n# service tests.\njava_import(\n    name = \"ref-ledger-authentication-jar\",\n    jars = [\"@ref-ledger-authentication//file:ref-ledger-authentication.jar\"],"
  },
  {
    "id" : "fe296b50-0789-4dcc-8178-4a59b57b8118",
    "prId" : 6122,
    "comments" : [
      {
        "id" : "cfe6d732-de0c-4cad-8aa7-91c6a9aac8af",
        "parentId" : null,
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "I don’t think you actually need the condition here `$(rootpath @toxiproxy_dev_env//:toxiproxy)` should be sufficient. In Bazel that works fine but the runfiles libraries for Scala and others don’t seem to resolve file groups and aliases properly ime which is probably why just locating it in Scala didn’t work.",
        "createdAt" : "2020-05-27T15:23:06Z",
        "updatedAt" : "2020-05-27T15:24:25Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "84ee9879-3819-4edb-9c29-a72e15d7ff83",
        "parentId" : "cfe6d732-de0c-4cad-8aa7-91c6a9aac8af",
        "author" : {
          "login" : "shayne-fletcher",
          "name" : "Shayne Fletcher",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/1500167?v=4"
        },
        "body" : "we tried many variants of the above. in the end, what you see is the only thing we managed to get to work :)",
        "createdAt" : "2020-05-27T15:29:38Z",
        "updatedAt" : "2020-05-27T15:29:38Z",
        "lastEditedBy" : {
          "login" : "shayne-fletcher",
          "name" : "Shayne Fletcher",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/1500167?v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "ff99cf53-13e8-4665-9be7-2f3c7fb54bae",
        "parentId" : "cfe6d732-de0c-4cad-8aa7-91c6a9aac8af",
        "author" : {
          "login" : "aherrmann-da",
          "name" : "Andreas Herrmann",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/42969706?v=4"
        },
        "body" : "> I don’t think you actually need the condition here `$(rootpath @toxiproxy_dev_env//:toxiproxy)` should be sufficient.\r\n\r\nTrouble is, on Linux this is a `filegroup` containing multiple files so Bazel won't accept `rootpath`. You can use `rootpaths` but then you need to pick the right file path out of those after the fact.",
        "createdAt" : "2020-05-27T15:35:43Z",
        "updatedAt" : "2020-05-27T15:35:44Z",
        "lastEditedBy" : {
          "login" : "aherrmann-da",
          "name" : "Andreas Herrmann",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/42969706?v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "f96691c7-a47d-47a5-8561-19b6911188f3",
        "parentId" : "cfe6d732-de0c-4cad-8aa7-91c6a9aac8af",
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "ah makes sense. thanks for the explanation!",
        "createdAt" : "2020-05-27T15:36:55Z",
        "updatedAt" : "2020-05-27T15:36:55Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "abcf29c8ce2dee7067ebb761f39ae074de735994",
    "line" : 18,
    "diffHunk" : "@@ -1,1 +75,79 @@    srcs = glob([\"src/test/scala/**/*.scala\"]),\n    data = [\":test-model.dar\"] + ([\"@toxiproxy_dev_env//:bin/toxiproxy-cmd\"] if not is_windows else [\"@toxiproxy_dev_env//:toxiproxy-server-windows-amd64.exe\"]),\n    jvm_flags = [\"-Dcom.daml.toxiproxy=$(rootpath @toxiproxy_dev_env//:bin/toxiproxy-cmd)\"] if not is_windows else [\"-Dcom.daml.toxiproxy=$(rootpath @toxiproxy_dev_env//:toxiproxy-server-windows-amd64.exe)\"],\n    resources = glob([\"src/test/resources/**/*\"]),\n    deps = ["
  },
  {
    "id" : "7e95f4ca-d2d7-48a1-82aa-8e40e4812dbe",
    "prId" : 6114,
    "comments" : [
      {
        "id" : "c4d0e775-9b37-4505-a6dc-07eac555bfbb",
        "parentId" : null,
        "author" : {
          "login" : "rohanjr",
          "name" : "Rohan Jacob-Rao",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/10836630?u=a30da7f2a9ceeb7c25249d5146f10fce61aeec4e&v=4"
        },
        "body" : "Is Toxiproxy not supported on Windows at all, or just in this build setup? If it's the former then it seems like we'd definitely want to split up the tests.",
        "createdAt" : "2020-05-26T20:11:00Z",
        "updatedAt" : "2020-05-27T10:55:49Z",
        "lastEditedBy" : {
          "login" : "rohanjr",
          "name" : "Rohan Jacob-Rao",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/10836630?u=a30da7f2a9ceeb7c25249d5146f10fce61aeec4e&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "38ab80fa-b52c-45e4-b727-c51d92a5d469",
        "parentId" : "c4d0e775-9b37-4505-a6dc-07eac555bfbb",
        "author" : {
          "login" : "shayne-fletcher",
          "name" : "Shayne Fletcher",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/1500167?v=4"
        },
        "body" : "It's supported.",
        "createdAt" : "2020-05-26T20:29:13Z",
        "updatedAt" : "2020-05-27T10:55:49Z",
        "lastEditedBy" : {
          "login" : "shayne-fletcher",
          "name" : "Shayne Fletcher",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/1500167?v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "347873933b0a0ad589e870b16b5ceaa2247aea8b",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +105,109 @@        \"@maven//:org_scalaz_scalaz_core_2_12\",\n    ],\n) if not is_windows else None  # For now while we don't have Toxiproxy support on Windows.\n\ngenrule("
  }
]