[
  {
    "id" : "eadfdb82-955d-452c-a921-6af884a98ba3",
    "prId" : 6153,
    "comments" : [
      {
        "id" : "8a03e9a9-26b7-4830-b325-8252da428074",
        "parentId" : null,
        "author" : {
          "login" : "shayne-fletcher",
          "name" : "Shayne Fletcher",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/1500167?v=4"
        },
        "body" : "Thank-you!",
        "createdAt" : "2020-06-01T23:33:38Z",
        "updatedAt" : "2020-06-02T16:34:36Z",
        "lastEditedBy" : {
          "login" : "shayne-fletcher",
          "name" : "Shayne Fletcher",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/1500167?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "2e27d8a43e27c8fcdaccc26c506fee4f3359edba",
    "line" : null,
    "diffHunk" : "@@ -29,10 +29,20 @@ bazel run //triggers/service:trigger-service-binary -- \\\n   --http-port $TRIGGER_SERVICE_HTTP_PORT --ledger-host $LEDGER_HOST --ledger-port $LEDGER_PORT --wall-clock-time &\n TRIGGER_SERVICE_PID=$!\n \n-# A smoke test:\n-#  curl -X GET \\\n+# Requests to the trigger service need an authorization header with the JWT token."
  },
  {
    "id" : "7f960928-9b8b-469c-97b8-f8a80eeeddf3",
    "prId" : 6153,
    "comments" : [
      {
        "id" : "a5990238-fc8e-4249-93b0-dcc21f760edb",
        "parentId" : null,
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "I donâ€™t know why we keep claiming everywhere that the secret must be `secret` (same for the JSON API). We just use the payload of the JWT. The secret matters for the signature which we do not validate.",
        "createdAt" : "2020-06-02T07:13:24Z",
        "updatedAt" : "2020-06-02T16:34:36Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "47236ec9-4609-4f6b-a68c-f279af4cfdc2",
        "parentId" : "a5990238-fc8e-4249-93b0-dcc21f760edb",
        "author" : {
          "login" : "rohanjr",
          "name" : "Rohan Jacob-Rao",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/10836630?u=a30da7f2a9ceeb7c25249d5146f10fce61aeec4e&v=4"
        },
        "body" : "Ah right... I just copied from the JSON API ðŸ˜…  I'll change it.",
        "createdAt" : "2020-06-02T15:53:54Z",
        "updatedAt" : "2020-06-02T16:34:36Z",
        "lastEditedBy" : {
          "login" : "rohanjr",
          "name" : "Rohan Jacob-Rao",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/10836630?u=a30da7f2a9ceeb7c25249d5146f10fce61aeec4e&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "2e27d8a43e27c8fcdaccc26c506fee4f3359edba",
    "line" : null,
    "diffHunk" : "@@ -29,10 +29,20 @@ bazel run //triggers/service:trigger-service-binary -- \\\n   --http-port $TRIGGER_SERVICE_HTTP_PORT --ledger-host $LEDGER_HOST --ledger-port $LEDGER_PORT --wall-clock-time &\n TRIGGER_SERVICE_PID=$!\n \n-# A smoke test:\n-#  curl -X GET \\\n+# Requests to the trigger service need an authorization header with the JWT token.\n+# This can be generated from jwt.io using a payload of the form:\n+# {\n+#   \"https://daml.com/ledger-api\": {\n+#     \"ledgerId\": \"TRIGGER_SERVICE_TEST\",\n+#     \"applicationId\": \"TriggerService\",\n+#     \"actAs\": [\"Alice\"]\n+#   }\n+# }\n+# Encode it with the secret \"secret\" and without base64."
  }
]