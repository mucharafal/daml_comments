[
  {
    "id" : "f4caff20-0fac-4b0b-babe-92ed8ec3d675",
    "prId" : 7400,
    "comments" : [
      {
        "id" : "5de172fd-44ec-48e9-bf8e-1f0604464435",
        "parentId" : null,
        "author" : {
          "login" : "remyhaemmerle-da",
          "name" : "Remy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/45566104?u=10d0caf8150a686217852f90e91314a4de3239a9&v=4"
        },
        "body" : "A bit strange. \r\nThe test was arguably a bit obscure before your touched it, but it is now worst. ",
        "createdAt" : "2020-09-15T12:15:03Z",
        "updatedAt" : "2020-09-17T13:03:20Z",
        "lastEditedBy" : {
          "login" : "remyhaemmerle-da",
          "name" : "Remy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/45566104?u=10d0caf8150a686217852f90e91314a4de3239a9&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "a42fc821-a723-46df-a567-6d88aaed85f2",
        "parentId" : "5de172fd-44ec-48e9-bf8e-1f0604464435",
        "author" : {
          "login" : "hurryabit",
          "name" : "Martin Huschenbett",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/11665611?u=7dbd00d5e7ea53919ed31dc4200f602ebca91c8f&v=4"
        },
        "body" : "I agree with @remyhaemmerle-da. We are in control of the error message. Why did it change?",
        "createdAt" : "2020-09-16T08:53:58Z",
        "updatedAt" : "2020-09-17T13:03:20Z",
        "lastEditedBy" : {
          "login" : "hurryabit",
          "name" : "Martin Huschenbett",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/11665611?u=7dbd00d5e7ea53919ed31dc4200f602ebca91c8f&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "65b298b3-c1e7-45b5-9813-ad7bf98ad2ff",
        "parentId" : "5de172fd-44ec-48e9-bf8e-1f0604464435",
        "author" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "body" : "So there were actually two printers for `FailedAuthorizations` which existsing in the code. One in `Pretty.scala` and the other in `Blinding.scala`. It looked like the one in `Blinding` was more user facing -- there was at least one testcase which expected the message it produced -- and so I picked this to be _the_ printer; it was no longer needed in `Blinding`, so I moved it to `Pretty` to replace the original one that was there.\r\n\r\nThe old errors expected by this `KeyNotVisibleStakeholders.daml` testcase (`Stakeholders: 's'`) came from the original printer in `Pretty.scala`. But it think the message is better now: (`failed due to a missing authorization from 's'`)\r\n\r\nThe reason for being so cryptic in the `@ERROR` expectation of the testcase is because I wanted the test to work for both new and old versions - I was worried about breaking the compatibility tests -- but maybe I misunderstand how that works.\r\n\r\nShould/can we just write the better error message in the testcase?\r\n```\r\n-- @ERROR failed due to a missing authorization from 's'\r\n```\r\n",
        "createdAt" : "2020-09-16T14:39:34Z",
        "updatedAt" : "2020-09-17T13:03:20Z",
        "lastEditedBy" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "53d936c0-b6a2-408e-9b60-2fe9dee48947",
        "parentId" : "5de172fd-44ec-48e9-bf8e-1f0604464435",
        "author" : {
          "login" : "remyhaemmerle-da",
          "name" : "Remy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/45566104?u=10d0caf8150a686217852f90e91314a4de3239a9&v=4"
        },
        "body" : ">Should/can we just write the better error message in the testcase?\r\n>\r\n>  ``-- @ERROR failed due to a missing authorization from 's'``\r\n\r\nI will be very happy with this change. ",
        "createdAt" : "2020-09-16T14:43:36Z",
        "updatedAt" : "2020-09-17T13:03:20Z",
        "lastEditedBy" : {
          "login" : "remyhaemmerle-da",
          "name" : "Remy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/45566104?u=10d0caf8150a686217852f90e91314a4de3239a9&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "de3a629b-a2b1-41b8-9190-470e4d533345",
        "parentId" : "5de172fd-44ec-48e9-bf8e-1f0604464435",
        "author" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "body" : "done",
        "createdAt" : "2020-09-16T16:48:28Z",
        "updatedAt" : "2020-09-17T13:03:20Z",
        "lastEditedBy" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "a360635b966cdfe27bfd3cd6e156308321238660",
    "line" : null,
    "diffHunk" : "@@ -1,7 +1,7 @@\n--- @ERROR Stakeholders: 's'\n--- @ERROR Stakeholders: 's'\n--- @ERROR Stakeholders: 's'\n--- @ERROR Stakeholders: 's'\n+-- @ERROR 's'"
  }
]