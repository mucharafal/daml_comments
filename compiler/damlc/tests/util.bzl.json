[
  {
    "id" : "5df3e67f-c5fb-44a9-9684-dda66ec8da3e",
    "prId" : 6600,
    "comments" : [
      {
        "id" : "1f85709f-a2f0-4778-aa93-38e7786b0096",
        "parentId" : null,
        "author" : {
          "login" : "aherrmann-da",
          "name" : "Andreas Herrmann",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/42969706?v=4"
        },
        "body" : "For completeness, so that `bazel build` on a `damlc_compile_test` gives a useful output.",
        "createdAt" : "2020-07-06T15:46:43Z",
        "updatedAt" : "2020-07-07T08:34:18Z",
        "lastEditedBy" : {
          "login" : "aherrmann-da",
          "name" : "Andreas Herrmann",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/42969706?v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "392150491edfaa5ec991346e83f9174a9ec815a1",
    "line" : 22,
    "diffHunk" : "@@ -25,19 +25,20 @@ def _damlc_compile_test_impl(ctx):\n         stack_opt = stack_opt,\n         heap_opt = heap_opt,\n     )\n+    binary = ctx.outputs.executable\n     ctx.actions.write(\n-        output = ctx.outputs.executable,\n+        output = binary,\n         content = script,\n     )\n \n     # To ensure the files needed by the script are available, we put them in\n     # the runfiles.\n+    damlc_runfiles = ctx.attr.damlc[DefaultInfo].default_runfiles\n     runfiles = ctx.runfiles(\n-        files =\n-            ctx.files.srcs + ctx.files.main +\n-            [ctx.executable.damlc],\n-    )\n+        files = [binary] + ctx.files.srcs + ctx.files.main,\n+    ).merge(damlc_runfiles)\n     return [DefaultInfo(\n+        files = depset([binary]),"
  },
  {
    "id" : "35f72e07-d656-484a-862c-9c63159c2208",
    "prId" : 2057,
    "comments" : [
      {
        "id" : "dccbc376-08bb-486c-98e3-e40e7ad9b84f",
        "parentId" : null,
        "author" : null,
        "body" : "Nice!",
        "createdAt" : "2019-07-09T11:24:40Z",
        "updatedAt" : "2019-07-09T11:25:06Z",
        "lastEditedBy" : null,
        "tags" : [
        ]
      }
    ],
    "commit" : "4589f9f0bd9d0f8c86ce76f8a1916f6e9e8509af",
    "line" : 5,
    "diffHunk" : "@@ -3,7 +3,7 @@\n \n load(\"//bazel_tools:haskell.bzl\", \"da_haskell_test\")\n \n-def _daml_ghc_compile_test_impl(ctx):\n+def _damlc_compile_test_impl(ctx):"
  }
]