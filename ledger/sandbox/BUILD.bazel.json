[
  {
    "id" : "fd274f43-0590-48e0-a6de-31554f7eefb4",
    "prId" : 6651,
    "comments" : [
      {
        "id" : "a7303263-24e9-4765-b2dd-850a8fc06561",
        "parentId" : null,
        "author" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "body" : "We're removing it because it doesn't need to be run separately anymore?",
        "createdAt" : "2020-07-09T11:18:19Z",
        "updatedAt" : "2020-07-09T13:44:00Z",
        "lastEditedBy" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "398d516f-d714-4323-a68c-903b5b926e8f",
        "parentId" : "a7303263-24e9-4765-b2dd-850a8fc06561",
        "author" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "body" : "Exactly. Less CI time to start up a sandbox just for one test. :slightly_smiling_face: \r\n\r\n(kudos to @dasormeter for making me think harder about this one)",
        "createdAt" : "2020-07-09T11:20:24Z",
        "updatedAt" : "2020-07-09T13:44:00Z",
        "lastEditedBy" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "92276dec4a74821dcec140cb26ac3bd9e14c5c04",
    "line" : 32,
    "diffHunk" : "@@ -411,36 +409,10 @@ server_conformance_test(\n     servers = SERVERS,\n     test_tool_args = [\n         \"--open-world\",\n-        \"--all-tests\",\n-        \"--exclude=ConfigManagementServiceIT\",\n         \"--exclude=ClosedWorldIT\",\n     ],\n )\n \n-server_conformance_test(\n-    name = \"conformance-test-config-management\",\n-    server_args = [\n-        \"--wall-clock-time\",\n-    ],\n-    servers = SERVERS,\n-    test_tool_args = [\n-        \"--open-world\",\n-        \"--include=ConfigManagementServiceIT\",\n-    ],\n-)\n-\n-server_conformance_test(\n-    name = \"conformance-test-command-deduplication\","
  },
  {
    "id" : "0a8bf234-95b5-4838-a9c9-c858b549a54f",
    "prId" : 6256,
    "comments" : [
      {
        "id" : "010ec033-32b3-406c-ac09-1756be507012",
        "parentId" : null,
        "author" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "body" : "`//daml-lf/interpreter` is where Speedy lives, right? Does it make sense for it to be a direct dependency of the sandbox? Any chance we can keep those separated?",
        "createdAt" : "2020-06-08T10:05:25Z",
        "updatedAt" : "2020-06-08T11:19:22Z",
        "lastEditedBy" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "8650298e-a0ef-4c37-9141-b82ffa21b4d9",
        "parentId" : "010ec033-32b3-406c-ac09-1756be507012",
        "author" : {
          "login" : "remyhaemmerle-da",
          "name" : "Remy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/45566104?u=10d0caf8150a686217852f90e91314a4de3239a9&v=4"
        },
        "body" : "Moving into the sandbox in the current state, it is clearly not an option. \r\nHowever, If you are keen on dropping this dependency, I could move the data type definition in \"//daml-lf/transaction\" (which is a fair dependency) in an upcoming PR. ",
        "createdAt" : "2020-06-08T10:43:15Z",
        "updatedAt" : "2020-06-08T11:19:22Z",
        "lastEditedBy" : {
          "login" : "remyhaemmerle-da",
          "name" : "Remy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/45566104?u=10d0caf8150a686217852f90e91314a4de3239a9&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "845db0bb-2d7f-4b81-aad5-9552c9726c76",
        "parentId" : "010ec033-32b3-406c-ac09-1756be507012",
        "author" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "body" : "Makes sense thanks, I created https://github.com/digital-asset/daml/issues/6260 so that you can use it to track it in the the upcoming PR you mentioned.",
        "createdAt" : "2020-06-08T11:15:56Z",
        "updatedAt" : "2020-06-08T11:19:22Z",
        "lastEditedBy" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "1752fe64c734b3190730de0876c39fb6c0a481c8",
    "line" : 4,
    "diffHunk" : "@@ -225,6 +225,7 @@ da_scala_library(\n         \"//daml-lf/archive:daml_lf_archive_reader\",\n         \"//daml-lf/archive:daml_lf_dev_archive_java_proto\",\n         \"//daml-lf/data\",\n+        \"//daml-lf/interpreter\","
  },
  {
    "id" : "5874b89d-81d8-4cbe-b084-7ed504e6b1c9",
    "prId" : 5542,
    "comments" : [
      {
        "id" : "44e6d997-134f-4727-bf37-31eb1dda80e9",
        "parentId" : null,
        "author" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "body" : "Would it make sense to put it in `//libs-scala/` instead?",
        "createdAt" : "2020-04-14T09:37:23Z",
        "updatedAt" : "2020-04-14T11:52:08Z",
        "lastEditedBy" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "72fb1822-8a32-4818-860a-0fa4dd321f93",
        "parentId" : "44e6d997-134f-4727-bf37-31eb1dda80e9",
        "author" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "body" : "Right now, yes, but I am expecting it to get more niche. I want to add https://github.com/vgangan/daml/pull/1 to this directory too. That PR contains a lot of Grafana configuration that's specific to ledgers.",
        "createdAt" : "2020-04-14T09:41:02Z",
        "updatedAt" : "2020-04-14T11:52:08Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "4ea448bbd0a18055c0a452e79cd799935d4d2bd7",
    "line" : 4,
    "diffHunk" : "@@ -32,6 +32,7 @@ compile_deps = [\n     \"//ledger/ledger-api-domain\",\n     \"//ledger/ledger-api-health\",\n     \"//ledger/ledger-on-sql\",\n+    \"//ledger/metrics\","
  },
  {
    "id" : "ec600a19-dbc2-4549-a52f-96e2dac171dd",
    "prId" : 5301,
    "comments" : [
      {
        "id" : "f0ed8677-b503-45bc-bb56-915382307e91",
        "parentId" : null,
        "author" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "body" : "Can we change `\"conformance-test-lots-of-parties\"` too?",
        "createdAt" : "2020-03-31T11:52:02Z",
        "updatedAt" : "2020-03-31T15:58:22Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "a3ca5886-0163-41dc-84ce-8ddfaecc65d7",
        "parentId" : "f0ed8677-b503-45bc-bb56-915382307e91",
        "author" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "body" : "Done.",
        "createdAt" : "2020-03-31T16:02:03Z",
        "updatedAt" : "2020-03-31T16:02:03Z",
        "lastEditedBy" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "de2d088963770d848894eeb4333ac18a4aa2491a",
    "line" : 14,
    "diffHunk" : "@@ -395,7 +395,7 @@ server_conformance_test(\n server_conformance_test(\n     name = \"conformance-test-config-management\",\n     server_args = [\n-        \"--static-time\",\n+        \"--wall-clock-time\","
  },
  {
    "id" : "63aea451-a894-4eb2-946e-43e45b756fbd",
    "prId" : 4885,
    "comments" : [
      {
        "id" : "e48d6fa9-b0e2-40d1-b1ca-64bbd54c8e55",
        "parentId" : null,
        "author" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "body" : "If you remove `--all-tests` you can also remove some exclusions from below, I believe.",
        "createdAt" : "2020-03-09T10:24:09Z",
        "updatedAt" : "2020-03-09T10:43:00Z",
        "lastEditedBy" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "8a54209c-abc9-4afa-bd40-569d511f0581",
        "parentId" : "e48d6fa9-b0e2-40d1-b1ca-64bbd54c8e55",
        "author" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "body" : "Good catch, thank you. Didn't mean to remove it, but was a result of a rebase snafu.",
        "createdAt" : "2020-03-09T10:36:58Z",
        "updatedAt" : "2020-03-09T10:43:00Z",
        "lastEditedBy" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "96a369b3afd668ff924abde055ac20086b2d1fba",
    "line" : null,
    "diffHunk" : "@@ -349,7 +349,6 @@ server_conformance_test(\n     servers = SERVERS,\n     test_tool_args = [\n         \"--verbose\",\n-        \"--all-tests\","
  },
  {
    "id" : "b1f22152-7457-4889-9879-e84d48f19526",
    "prId" : 4741,
    "comments" : [
      {
        "id" : "d1adc8b2-1be6-4847-b991-0954eb32f9e5",
        "parentId" : null,
        "author" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "body" : "Is this an extra set of tests only for weak seeding?",
        "createdAt" : "2020-02-28T08:19:12Z",
        "updatedAt" : "2020-03-02T09:32:20Z",
        "lastEditedBy" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "6a676066-22a9-40b5-a7a5-7dcf908ea50b",
        "parentId" : "d1adc8b2-1be6-4847-b991-0954eb32f9e5",
        "author" : {
          "login" : "remyhaemmerle-da",
          "name" : "Remy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/45566104?u=10d0caf8150a686217852f90e91314a4de3239a9&v=4"
        },
        "body" : "By default Sandbox runs without seeding (on the contrary of kvutils), this test Sandbox works with seeding. ",
        "createdAt" : "2020-02-28T09:06:34Z",
        "updatedAt" : "2020-03-02T09:32:20Z",
        "lastEditedBy" : {
          "login" : "remyhaemmerle-da",
          "name" : "Remy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/45566104?u=10d0caf8150a686217852f90e91314a4de3239a9&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "6fdd134e28edcb94e9bf2aff60e5605405bf6128",
    "line" : 5,
    "diffHunk" : "@@ -401,17 +401,34 @@ server_conformance_test(\n     ],\n )\n \n+server_conformance_test(\n+    name = \"conformance-test-contract-id-seeding\","
  },
  {
    "id" : "9c8af2e8-98fe-499d-afe7-b8cabb1658ae",
    "prId" : 4581,
    "comments" : [
      {
        "id" : "86bf8576-37eb-42fa-9908-9e4d3729f4dc",
        "parentId" : null,
        "author" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "body" : "Nice catch thanks.",
        "createdAt" : "2020-02-18T15:27:09Z",
        "updatedAt" : "2020-02-18T16:20:51Z",
        "lastEditedBy" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "d6e1109c232c3009ef399fb97b86a4e91ad577ed",
    "line" : 5,
    "diffHunk" : "@@ -404,7 +404,7 @@ NEXT_SERVERS = {\n }\n \n server_conformance_test(\n-    name = \"next-conformance-test-wall-clock\",\n+    name = \"next-conformance-test-static-time\","
  },
  {
    "id" : "2d682384-b94a-4d19-98ee-6a97ba8199c9",
    "prId" : 4422,
    "comments" : [
      {
        "id" : "68f850f7-f19e-427c-ad8f-60ff39799539",
        "parentId" : null,
        "author" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "body" : "@aherrmann I believe you originally inlined the dependencies when introducing `buildozer`. This commits undoes it. Is that a problem?",
        "createdAt" : "2020-02-06T12:34:11Z",
        "updatedAt" : "2020-02-06T14:21:29Z",
        "lastEditedBy" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "fc5b1a9a-d026-40ec-83ec-4bc83bfa6ef7",
        "parentId" : "68f850f7-f19e-427c-ad8f-60ff39799539",
        "author" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "body" : "It's only for `//ledger/sandbox:ledger-api-server` and `//ledger/sandbox:sandbox`, which are actually the same thing but split so you can name the thing you depend on. I think we should probably make `//ledger/ledger-api-server` its own thing at some point.",
        "createdAt" : "2020-02-06T13:58:23Z",
        "updatedAt" : "2020-02-06T14:21:29Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "a3e584e59ae39b77a6088641e3c5a3287071b5ff",
    "line" : 60,
    "diffHunk" : "@@ -9,6 +9,70 @@ load(\"@io_bazel_rules_docker//container:container.bzl\", \"container_image\")\n load(\"@io_bazel_rules_docker//java:image.bzl\", \"java_image\")\n load(\"@os_info//:os_info.bzl\", \"is_windows\")\n \n+compile_deps = [\n+    \"//daml-lf/archive:daml_lf_archive_reader\",\n+    \"//daml-lf/archive:daml_lf_dev_archive_java_proto\",\n+    \"//daml-lf/data\",\n+    \"//daml-lf/engine\",\n+    \"//daml-lf/interpreter\",\n+    \"//daml-lf/language\",\n+    \"//daml-lf/scenario-interpreter\",\n+    \"//daml-lf/transaction\",\n+    \"//daml-lf/transaction:transaction_java_proto\",\n+    \"//daml-lf/transaction:value_java_proto\",\n+    \"//language-support/scala/bindings\",\n+    \"//ledger-api/rs-grpc-akka\",\n+    \"//ledger-api/rs-grpc-bridge\",\n+    \"//ledger-service/jwt\",\n+    \"//ledger/ledger-api-akka\",\n+    \"//ledger/ledger-api-auth\",\n+    \"//ledger/ledger-api-client\",\n+    \"//ledger/ledger-api-common\",\n+    \"//ledger/ledger-api-domain\",\n+    \"//ledger/ledger-api-health\",\n+    \"//ledger/ledger-on-sql\",\n+    \"//ledger/participant-state\",\n+    \"//ledger/participant-state-index\",\n+    \"//ledger/participant-state/kvutils\",\n+    \"//libs-scala/contextualized-logging\",\n+    \"//libs-scala/direct-execution-context\",\n+    \"//libs-scala/resources\",\n+    \"//libs-scala/resources-akka\",\n+    \"@maven//:ch_qos_logback_logback_classic\",\n+    \"@maven//:ch_qos_logback_logback_core\",\n+    \"@maven//:com_auth0_java_jwt\",\n+    \"@maven//:com_github_scopt_scopt_2_12\",\n+    \"@maven//:com_google_guava_guava\",\n+    \"@maven//:com_typesafe_akka_akka_actor_2_12\",\n+    \"@maven//:com_typesafe_akka_akka_stream_2_12\",\n+    \"@maven//:com_typesafe_config\",\n+    \"@maven//:com_typesafe_play_anorm_2_12\",\n+    \"@maven//:com_typesafe_play_anorm_tokenizer_2_12\",\n+    \"@maven//:com_typesafe_scala_logging_scala_logging_2_12\",\n+    \"@maven//:com_zaxxer_HikariCP\",\n+    \"@maven//:io_dropwizard_metrics_metrics_core\",\n+    \"@maven//:io_dropwizard_metrics_metrics_jmx\",\n+    \"@maven//:io_grpc_grpc_netty\",\n+    \"@maven//:io_grpc_grpc_services\",\n+    \"@maven//:io_netty_netty_common\",\n+    \"@maven//:io_netty_netty_handler\",\n+    \"@maven//:io_netty_netty_transport\",\n+    \"@maven//:io_zipkin_brave_brave\",\n+    \"@maven//:net_logstash_logback_logstash_logback_encoder\",\n+    \"@maven//:org_flywaydb_flyway_core\",\n+    \"@maven//:org_scala_lang_modules_scala_java8_compat_2_12\",\n+    \"@maven//:org_scalaz_scalaz_core_2_12\",\n+    \"@maven//:org_slf4j_slf4j_api\",\n+]\n+\n+runtime_deps = ["
  },
  {
    "id" : "d1668390-f0e9-4871-ab97-00df9631a3c1",
    "prId" : 4053,
    "comments" : [
      {
        "id" : "98b75a80-d866-4afb-b352-aa7e414aaa55",
        "parentId" : null,
        "author" : {
          "login" : "SamirTalwar",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/47582?v=4"
        },
        "body" : "You probably need to exclude this from `conformance-test-static-time` and `conformance-test-wall-clock`.",
        "createdAt" : "2020-01-15T10:34:25Z",
        "updatedAt" : "2020-01-15T12:28:49Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/47582?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "efa66b6a-cdc6-423b-b777-84b517b1e8c1",
        "parentId" : "98b75a80-d866-4afb-b352-aa7e414aaa55",
        "author" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "body" : "I moved the test to sandbox specific tests.",
        "createdAt" : "2020-01-15T12:08:25Z",
        "updatedAt" : "2020-01-15T12:28:49Z",
        "lastEditedBy" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "28019b2b08ac2d4640cda8b30939c96d566a2e9f",
    "line" : null,
    "diffHunk" : "@@ -383,6 +383,23 @@ server_conformance_test(\n     ],\n )\n \n+server_conformance_test(\n+    name = \"conformance-test-transaction-stream-termination\",\n+    flaky = True,\n+    server_args = [\n+        \"--static-time\",\n+    ],\n+    servers = {\n+        \"h2database\": SERVERS[\"h2database\"],\n+        \"postgres\": SERVERS[\"postgres\"],\n+        # this test is for bug #3984 that only happens with the SQL backend.\n+        # the bug cannot occur in the in-memory backend by construction\n+    },\n+    test_tool_args = [\n+        \"--include=TransactionStaticTimeIT\","
  },
  {
    "id" : "8081729c-4bb6-469e-995b-8a7c70572765",
    "prId" : 3756,
    "comments" : [
      {
        "id" : "1166dc5a-2f82-415a-a98e-20987ec1e30f",
        "parentId" : null,
        "author" : {
          "login" : "dajmaki",
          "name" : "Jussi M√§ki",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/19684330?u=abb996187e6b472110abdd8dc3c27c4fc0140b92&v=4"
        },
        "body" : "note to self: don't commit this",
        "createdAt" : "2019-12-10T08:48:56Z",
        "updatedAt" : "2019-12-13T17:13:57Z",
        "lastEditedBy" : {
          "login" : "dajmaki",
          "name" : "Jussi M√§ki",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/19684330?u=abb996187e6b472110abdd8dc3c27c4fc0140b92&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "e6e626a81c096637c202b8d3ca5d09dfa4e41393",
    "line" : null,
    "diffHunk" : "@@ -155,23 +155,23 @@ genrule(\n     visibility = [\"//visibility:public\"],\n )\n \n-container_image(\n-    name = \"sandbox-image-base\",\n-    base = \"@java_image_base//image\",\n-    directory = \"/usr/bin\",\n-    files = [\n-        \"@com_github_grpc_ecosystem_grpc_health_probe_binary//file\",\n-    ],\n-) if not is_windows else None\n-\n-java_image(\n-    name = \"sandbox-image\",\n-    base = \":sandbox-image-base\",\n-    main_class = \"com.digitalasset.platform.sandbox.SandboxMain\",\n-    resources = [\"src/main/resources/logback.xml\"],\n-    visibility = [\"//visibility:public\"],\n-    runtime_deps = [\":sandbox\"],\n-) if not is_windows else None\n+# container_image("
  },
  {
    "id" : "1c031a92-9b35-4597-8b43-094972b463df",
    "prId" : 2425,
    "comments" : [
      {
        "id" : "8df71588-7076-48f2-b9f2-92bf112fc7fa",
        "parentId" : null,
        "author" : {
          "login" : "oliverse-da",
          "name" : "Oliver Seeliger",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/46452754?u=dd1d8e09760abe67b40a4e527a15aafe9d104d82&v=4"
        },
        "body" : "Possibly no longer needed - was pulled in for timestamp with time zone?",
        "createdAt" : "2019-08-07T07:59:36Z",
        "updatedAt" : "2019-08-28T11:21:54Z",
        "lastEditedBy" : {
          "login" : "oliverse-da",
          "name" : "Oliver Seeliger",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/46452754?u=dd1d8e09760abe67b40a4e527a15aafe9d104d82&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "1fee0715b6e5ad68a7c644fcc1d5e65f71f5a8ed",
    "line" : null,
    "diffHunk" : "@@ -62,6 +62,7 @@ compileDependencies = [\n     \"//3rdparty/jvm/io/dropwizard/metrics:metrics_core\",\n     \"//3rdparty/jvm/io/dropwizard/metrics:metrics_jmx\",\n     \"//3rdparty/jvm/io/zipkin/brave\",\n+    \"//3rdparty/jvm/com/h2database:h2\","
  },
  {
    "id" : "3646a6ad-8196-4759-98d9-d1e9c96a9c84",
    "prId" : 2425,
    "comments" : [
      {
        "id" : "4d822872-e4bd-4811-ad4d-cf84e8a9e9b4",
        "parentId" : null,
        "author" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "body" : "We don't need a dedicated class for an \"ephemeral H2 sandbox\", because starting it with an H2 in-memory jdbc url will do the trick.",
        "createdAt" : "2019-08-26T11:28:06Z",
        "updatedAt" : "2019-08-28T11:21:54Z",
        "lastEditedBy" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "64f8b045-fc92-43ac-bf11-c9c68acde28a",
        "parentId" : "4d822872-e4bd-4811-ad4d-cf84e8a9e9b4",
        "author" : {
          "login" : "oliverse-da",
          "name" : "Oliver Seeliger",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/46452754?u=dd1d8e09760abe67b40a4e527a15aafe9d104d82&v=4"
        },
        "body" : "Thanks, done.",
        "createdAt" : "2019-08-27T09:33:58Z",
        "updatedAt" : "2019-08-28T11:21:54Z",
        "lastEditedBy" : {
          "login" : "oliverse-da",
          "name" : "Oliver Seeliger",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/46452754?u=dd1d8e09760abe67b40a4e527a15aafe9d104d82&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "1fee0715b6e5ad68a7c644fcc1d5e65f71f5a8ed",
    "line" : null,
    "diffHunk" : "@@ -108,6 +108,17 @@ da_scala_binary(\n     ],\n )\n \n+da_scala_binary(\n+    name = \"sandbox-ephemeral-h2database\",\n+    main_class = \"com.digitalasset.platform.sandbox.persistence.EphemeralH2DatabaseSandboxMain\","
  },
  {
    "id" : "a89f7f06-60f8-4802-b50d-8729bf6f9c15",
    "prId" : 2425,
    "comments" : [
      {
        "id" : "4dcfae48-6e5a-4f29-8084-4203201797b4",
        "parentId" : null,
        "author" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "body" : "This can just point to `//ledger/sandbox:sandbox-binary`, as the in-memory H2 jdbc URL by its very nature makes it an ephemeral H2 sandbox.",
        "createdAt" : "2019-08-26T11:29:49Z",
        "updatedAt" : "2019-08-28T11:21:54Z",
        "lastEditedBy" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "3d8f909d-d201-4979-bc80-0257cd9e4b7d",
        "parentId" : "4dcfae48-6e5a-4f29-8084-4203201797b4",
        "author" : {
          "login" : "oliverse-da",
          "name" : "Oliver Seeliger",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/46452754?u=dd1d8e09760abe67b40a4e527a15aafe9d104d82&v=4"
        },
        "body" : "üëç ",
        "createdAt" : "2019-08-27T09:34:19Z",
        "updatedAt" : "2019-08-28T11:21:54Z",
        "lastEditedBy" : {
          "login" : "oliverse-da",
          "name" : "Oliver Seeliger",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/46452754?u=dd1d8e09760abe67b40a4e527a15aafe9d104d82&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "1fee0715b6e5ad68a7c644fcc1d5e65f71f5a8ed",
    "line" : null,
    "diffHunk" : "@@ -250,6 +262,32 @@ client_server_test(\n     ],\n ) if not is_windows else None\n \n+client_server_test(\n+    name = \"conformance-test-static-time-h2database\",\n+    timeout = \"long\",\n+    client = \"//ledger/ledger-api-test-tool\",\n+    client_args = [\n+        \"--all-tests\",\n+        \"--timeout-scale-factor=10\",\n+    ],\n+    data = [\n+        \"//ledger/test-common:dar-files\",\n+    ],\n+    server = \"//ledger/sandbox:sandbox-ephemeral-h2database\","
  },
  {
    "id" : "b6394078-086e-48f3-9c34-b22f30d8be10",
    "prId" : 2425,
    "comments" : [
      {
        "id" : "d5884595-89eb-4d6d-bbed-813ab0d51af2",
        "parentId" : null,
        "author" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "body" : "Same comment as above: we should be able to use `//ledger/sandbox:sandbox-binary` here.",
        "createdAt" : "2019-08-26T11:30:17Z",
        "updatedAt" : "2019-08-28T11:21:54Z",
        "lastEditedBy" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "c14a2446-5575-46d0-bb58-d6c87ad5caa9",
        "parentId" : "d5884595-89eb-4d6d-bbed-813ab0d51af2",
        "author" : {
          "login" : "oliverse-da",
          "name" : "Oliver Seeliger",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/46452754?u=dd1d8e09760abe67b40a4e527a15aafe9d104d82&v=4"
        },
        "body" : "üëç ",
        "createdAt" : "2019-08-27T09:34:28Z",
        "updatedAt" : "2019-08-28T11:21:54Z",
        "lastEditedBy" : {
          "login" : "oliverse-da",
          "name" : "Oliver Seeliger",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/46452754?u=dd1d8e09760abe67b40a4e527a15aafe9d104d82&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "1fee0715b6e5ad68a7c644fcc1d5e65f71f5a8ed",
    "line" : null,
    "diffHunk" : "@@ -279,3 +317,30 @@ client_server_test(\n         \"dont-run-on-darwin\",\n     ],\n ) if not is_windows else None\n+\n+client_server_test(\n+    name = \"conformance-test-wall-clock-h2database\",\n+    timeout = \"long\",\n+    client = \"//ledger/ledger-api-test-tool:ledger-api-test-tool\",\n+    client_args = [\n+        \"--all-tests\",\n+        \"--exclude TimeIT\",\n+        \"--timeout-scale-factor=10\",\n+    ],\n+    data = [\n+        \"//ledger/test-common:dar-files\",\n+    ],\n+    server = \"//ledger/sandbox:sandbox-ephemeral-h2database\","
  },
  {
    "id" : "34aa3a3e-30a9-415e-acdb-5601d024e12a",
    "prId" : 2425,
    "comments" : [
      {
        "id" : "11bc5d27-fafe-4749-913a-088f20c9c8b8",
        "parentId" : null,
        "author" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "body" : "Please add a similar conformance test for H2 to `/ledger/api-server-damlonx/BUILD.bazel` with the target `//ledger/api-server-damlonx:reference-v2` instead of the sandbox.",
        "createdAt" : "2019-08-28T12:11:58Z",
        "updatedAt" : "2019-08-28T12:11:58Z",
        "lastEditedBy" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "e24bc0bc-f161-42a3-9b90-c6081fcfcbf4",
        "parentId" : "11bc5d27-fafe-4749-913a-088f20c9c8b8",
        "author" : {
          "login" : "oliverse-da",
          "name" : "Oliver Seeliger",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/46452754?u=dd1d8e09760abe67b40a4e527a15aafe9d104d82&v=4"
        },
        "body" : "Adding this with https://github.com/digital-asset/daml/pull/2698 - somehow I missed this when I merged.",
        "createdAt" : "2019-08-29T09:41:47Z",
        "updatedAt" : "2019-08-29T09:41:48Z",
        "lastEditedBy" : {
          "login" : "oliverse-da",
          "name" : "Oliver Seeliger",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/46452754?u=dd1d8e09760abe67b40a4e527a15aafe9d104d82&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "1fee0715b6e5ad68a7c644fcc1d5e65f71f5a8ed",
    "line" : 20,
    "diffHunk" : "@@ -250,6 +252,32 @@ client_server_test(\n     ],\n ) if not is_windows else None\n \n+client_server_test("
  },
  {
    "id" : "d525a6a6-3098-4376-8acd-95d74501cf66",
    "prId" : 1835,
    "comments" : [
      {
        "id" : "59a881ca-46c8-4d26-890d-9da0b3700142",
        "parentId" : null,
        "author" : {
          "login" : "gabor-aranyossy",
          "name" : "Gabor Aranyossy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/29858875?u=03b5eca13ed32e74056ee216f2def12e249bcfed&v=4"
        },
        "body" : "please move the comment to the right place",
        "createdAt" : "2019-06-26T09:16:27Z",
        "updatedAt" : "2019-06-27T15:27:04Z",
        "lastEditedBy" : {
          "login" : "gabor-aranyossy",
          "name" : "Gabor Aranyossy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/29858875?u=03b5eca13ed32e74056ee216f2def12e249bcfed&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "ddacb74e-40e1-4999-992e-dea9646fe93d",
        "parentId" : "59a881ca-46c8-4d26-890d-9da0b3700142",
        "author" : {
          "login" : "gleber-da",
          "name" : "gleber",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/34243031?u=682c8d513afbef14cd3f71d93040a37500b5b2d0&v=4"
        },
        "body" : "Done",
        "createdAt" : "2019-06-26T12:44:51Z",
        "updatedAt" : "2019-06-27T15:27:04Z",
        "lastEditedBy" : {
          "login" : "gleber-da",
          "name" : "gleber",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/34243031?u=682c8d513afbef14cd3f71d93040a37500b5b2d0&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "aa80afa638e4cc73092c063ef31ae1da6d7bcb92",
    "line" : null,
    "diffHunk" : "@@ -20,6 +20,7 @@ load(\n \n compileDependencies = [\n     # this has to come first other as somehow a different instance of grpc-core.jar"
  }
]