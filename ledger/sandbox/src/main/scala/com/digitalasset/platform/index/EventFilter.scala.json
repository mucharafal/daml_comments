[
  {
    "id" : "043beb36-0b7e-413f-ac70-fc6e2e37de7d",
    "prId" : 4791,
    "comments" : [
      {
        "id" : "17b8b1c9-873b-43ba-aa8e-b5a95e4f9847",
        "parentId" : null,
        "author" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "body" : "It would probably be better to do this check upfront to not filter witnesses needlessly. I'm still not certain about the relationship between stakeholders and witnesses, but if there is a way to not run the event through the filter twice it would be preferable.",
        "createdAt" : "2020-03-03T13:10:56Z",
        "updatedAt" : "2020-03-03T14:15:42Z",
        "lastEditedBy" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "6d99c657-4f77-43d8-b200-f00b62b43db1",
        "parentId" : "17b8b1c9-873b-43ba-aa8e-b5a95e4f9847",
        "author" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "body" : "Fixed in 1b0ccf3cf.",
        "createdAt" : "2020-03-03T14:16:03Z",
        "updatedAt" : "2020-03-03T14:16:04Z",
        "lastEditedBy" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "1b0ccf3cf087b97fc4c3341aafb6d218b3094865",
    "line" : 8,
    "diffHunk" : "@@ -35,6 +35,7 @@ object EventFilter {\n \n   def apply(event: ActiveContract)(txf: TransactionFilter): Option[ActiveContract] =\n     Some(event.copy(witnesses = event.witnesses.filter(included(_, event.contract.template, txf))))\n-      .filter(_.witnesses.nonEmpty)\n+      .filter(ac =>\n+        (ac.signatories union ac.observers).exists(included(_, event.contract.template, txf)))"
  }
]