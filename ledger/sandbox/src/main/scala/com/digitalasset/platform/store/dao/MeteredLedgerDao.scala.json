[
  {
    "id" : "2e7c132f-2545-4ce2-80f7-3e39491780dd",
    "prId" : 5781,
    "comments" : [
      {
        "id" : "520fc166-7a32-47ba-9330-e78c9cb7e775",
        "parentId" : null,
        "author" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "body" : "Wanna rename this one?\r\n\r\n```suggestion\r\n    val storeTransaction: Timer = metrics.timer(prefix :+ \"store_transaction\")\r\n```",
        "createdAt" : "2020-04-29T14:19:38Z",
        "updatedAt" : "2020-05-04T13:34:16Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "c896e33c-bbe7-4b0b-89e5-c89bafbed64c",
        "parentId" : "520fc166-7a32-47ba-9330-e78c9cb7e775",
        "author" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "body" : "This is to retain the current metric name, to not cause disturbance in metric dashboards.",
        "createdAt" : "2020-04-29T14:26:14Z",
        "updatedAt" : "2020-05-04T13:34:16Z",
        "lastEditedBy" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "f3eb9403-114d-4cc8-8d01-4d18bb66f7cd",
        "parentId" : "520fc166-7a32-47ba-9330-e78c9cb7e775",
        "author" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "body" : "Eh, fair enough.",
        "createdAt" : "2020-04-29T14:27:42Z",
        "updatedAt" : "2020-05-04T13:34:16Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "8a185276-8204-4d11-a3be-5a8ba2be1a1f",
        "parentId" : "520fc166-7a32-47ba-9330-e78c9cb7e775",
        "author" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "body" : "I did it on purpose, I believe @mziolekda wants them to be stable until we have a plan to change them all at once with detailed documentation.",
        "createdAt" : "2020-04-29T14:29:32Z",
        "updatedAt" : "2020-05-04T13:34:16Z",
        "lastEditedBy" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "b2bc748c-035e-4676-b08e-ecd5c04fede1",
        "parentId" : "520fc166-7a32-47ba-9330-e78c9cb7e775",
        "author" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "body" : "Well, hopefully the only disturbance will be the smaller numbers from the same metric. :stuck_out_tongue: ",
        "createdAt" : "2020-04-29T14:34:21Z",
        "updatedAt" : "2020-05-04T13:34:16Z",
        "lastEditedBy" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "2cef248cc3f3c465650baeffbee12935ac37bb2e",
    "line" : 68,
    "diffHunk" : "@@ -163,25 +152,54 @@ class MeteredLedgerDao(ledgerDao: LedgerDao, metrics: MetricRegistry)\n     val storePartyEntry: Timer = metrics.timer(prefix :+ \"store_party_entry\")\n     val storeInitialState: Timer = metrics.timer(prefix :+ \"store_initial_state\")\n     val storePackageEntry: Timer = metrics.timer(prefix :+ \"store_package_entry\")\n-    val storeLedgerEntry: Timer = metrics.timer(prefix :+ \"store_ledger_entry\")\n+    val storeTransaction: Timer = metrics.timer(prefix :+ \"store_ledger_entry\")"
  },
  {
    "id" : "682253d3-e58c-4b9e-80c6-83e46d813dfb",
    "prId" : 5091,
    "comments" : [
      {
        "id" : "eb26c10b-e644-42cc-9583-f35f0ee37721",
        "parentId" : null,
        "author" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "body" : "```suggestion\r\n  override val maxConcurrentConnections: Int = ledgerDao.maxConcurrentConnections\r\n```\r\nIs it safe to turn this into a `val`?",
        "createdAt" : "2020-03-20T14:48:30Z",
        "updatedAt" : "2020-03-20T14:50:00Z",
        "lastEditedBy" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "278b6888-cff8-4872-ad23-04668c170113",
        "parentId" : "eb26c10b-e644-42cc-9583-f35f0ee37721",
        "author" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "body" : "Well, the trait has it as a `def`, so theoretically, no, but in practice, yes.",
        "createdAt" : "2020-03-20T14:50:36Z",
        "updatedAt" : "2020-03-20T14:50:36Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "d84491d0-2756-4dfb-95f6-716a89976ccf",
        "parentId" : "eb26c10b-e644-42cc-9583-f35f0ee37721",
        "author" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "body" : "You can always override a `trait`s `def` with a `val`. :wink: ",
        "createdAt" : "2020-03-20T14:52:43Z",
        "updatedAt" : "2020-03-20T14:52:43Z",
        "lastEditedBy" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "c545e9e9-c068-4344-a99f-bf47012874f5",
        "parentId" : "eb26c10b-e644-42cc-9583-f35f0ee37721",
        "author" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "body" : "I think I'd like to leave it as a `def` for now.\r\n\r\nBTW, this is only used on application startup, once, by `SqlLedger`, which is going to be deleted in the next couple of months, so this should disappear too.",
        "createdAt" : "2020-03-20T14:52:46Z",
        "updatedAt" : "2020-03-20T14:52:47Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "abf37c8e-591c-4c6c-a449-078dd96da6e2",
        "parentId" : "eb26c10b-e644-42cc-9583-f35f0ee37721",
        "author" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "body" : "That's ok, it's not a problem, but can you clarify me why you'd like to leave it as a `def`?",
        "createdAt" : "2020-03-20T14:53:45Z",
        "updatedAt" : "2020-03-20T14:53:45Z",
        "lastEditedBy" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "8d80d6e9-2bb1-46af-bb59-6c732feb6185",
        "parentId" : "eb26c10b-e644-42cc-9583-f35f0ee37721",
        "author" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "body" : "Sure. `MeteredLedgerDao` has an underlying `ledgerDao: LedgerDao`. It doesn't know that the implementation of this `ledgerDao` has a `val maxConcurrentConnections`; it could just as easily be a `def maxConcurrentConnections`. So given that from the point of view of this class, we don't know if the delegate uses a `val` or a `def`, the safe thing to do is to use a `def`.",
        "createdAt" : "2020-03-20T14:57:55Z",
        "updatedAt" : "2020-03-20T14:57:55Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "d3cf8839b6f6b186f8bec7348f27339747eb6a4e",
    "line" : 4,
    "diffHunk" : "@@ -52,6 +52,8 @@ class MeteredLedgerReadDao(ledgerDao: LedgerReadDao, metrics: MetricRegistry)\n       metrics.timer(\"daml.index.db.remove_expired_deduplication_data\")\n   }\n \n+  override def maxConcurrentConnections: Int = ledgerDao.maxConcurrentConnections"
  }
]