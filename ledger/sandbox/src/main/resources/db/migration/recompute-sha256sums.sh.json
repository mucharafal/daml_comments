[
  {
    "id" : "7e5de3de-6738-4c38-a028-231b3bbe9684",
    "prId" : 5541,
    "comments" : [
      {
        "id" : "d1bc6ab1-c5e8-4588-aba1-e2ea343f6462",
        "parentId" : null,
        "author" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "body" : "The `-x` is probably just going to add noise.",
        "createdAt" : "2020-04-15T12:32:25Z",
        "updatedAt" : "2020-04-17T19:02:12Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "2034352017063fbc2c958c5a086273e66ed0ad47",
    "line" : 5,
    "diffHunk" : "@@ -0,0 +1,9 @@\n+#!/usr/bin/env bash\n+# Copyright (c) 2020 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n+# SPDX-License-Identifier: Apache-2.0\n+\n+set -euxo pipefail"
  },
  {
    "id" : "53b0ba48-3d0d-4435-862c-78a53f946469",
    "prId" : 5541,
    "comments" : [
      {
        "id" : "d78897e4-7604-40f9-ab07-15ee1e3b81dd",
        "parentId" : null,
        "author" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "body" : "You could avoid generating the script by doing something like:\r\n\r\n```sh\r\nfor file in **/*.sql; do\r\n  shasum -a 256 \"$file\" | awk '{ print $1 }' > \"$(basename \"$file\" .sql).sha256\"\r\ndone\r\n```\r\n\r\nThis is basically what's in _ledger/ledger-on-sql/hash-migrations.sh_. Your call though.",
        "createdAt" : "2020-04-15T12:34:21Z",
        "updatedAt" : "2020-04-17T19:02:12Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "8ab08859-fd84-4ff3-bc08-70b8a451a3ae",
        "parentId" : "d78897e4-7604-40f9-ab07-15ee1e3b81dd",
        "author" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "body" : "Mh, I'd open a ticket to extract this and put it in a common place, makes sense?",
        "createdAt" : "2020-04-15T12:52:19Z",
        "updatedAt" : "2020-04-17T19:02:12Z",
        "lastEditedBy" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "16b74c03-3294-4bec-b75d-37e2bb97b1ee",
        "parentId" : "d78897e4-7604-40f9-ab07-15ee1e3b81dd",
        "author" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "body" : "Sounds good to me.",
        "createdAt" : "2020-04-15T13:27:03Z",
        "updatedAt" : "2020-04-17T19:02:12Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "2034352017063fbc2c958c5a086273e66ed0ad47",
    "line" : 8,
    "diffHunk" : "@@ -0,0 +1,9 @@\n+#!/usr/bin/env bash\n+# Copyright (c) 2020 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n+# SPDX-License-Identifier: Apache-2.0\n+\n+set -euxo pipefail\n+\n+cd \"$(dirname \"${0}\")\"\n+find . -type f -name \"*.sql\" | xargs sha256sum | awk '{print \"echo \" $1 \" > \" $2}' | sed 's/\\.sql/\\.sha256/' | sh"
  }
]