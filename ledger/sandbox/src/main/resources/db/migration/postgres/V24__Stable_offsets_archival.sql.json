[
  {
    "id" : "298cb22e-f0c0-4ced-b873-c6678e941e94",
    "prId" : 5371,
    "comments" : [
      {
        "id" : "187961bd-2a13-4e17-b7d3-9d298d8ced8e",
        "parentId" : null,
        "author" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "body" : "Hm, considering that this always has been `varchar` and I missed to updated it in V21, the database can now potentially contain decimal based offsets as well as `bytea` automatically converted to `varchar`, right?",
        "createdAt" : "2020-04-02T11:59:30Z",
        "updatedAt" : "2020-04-02T17:01:07Z",
        "lastEditedBy" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "5dae18a1-93fd-4c24-836a-c30703c3c055",
        "parentId" : "187961bd-2a13-4e17-b7d3-9d298d8ced8e",
        "author" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "body" : "Probably, how can we deal with those?",
        "createdAt" : "2020-04-02T12:36:34Z",
        "updatedAt" : "2020-04-02T17:01:07Z",
        "lastEditedBy" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "0da1bd06-f61b-4777-8ba9-c8b768d303fa",
        "parentId" : "187961bd-2a13-4e17-b7d3-9d298d8ced8e",
        "author" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "body" : "As noted offline, since v20 and v21 migrations landed in the same release, this cannot have occurred. Furthermore, byte arrays casted to varchars can safely be casted back to byte arrays. Addressed in https://github.com/digital-asset/daml/pull/5371/commits/f54768ece0432fd9dc429e61867e8a88b3903bd5.",
        "createdAt" : "2020-04-02T16:57:41Z",
        "updatedAt" : "2020-04-02T17:01:42Z",
        "lastEditedBy" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "f54768ece0432fd9dc429e61867e8a88b3903bd5",
    "line" : null,
    "diffHunk" : "@@ -0,0 +1,10 @@\n+-- Copyright (c) 2019 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n+-- SPDX-License-Identifier: Apache-2.0\n+\n+---------------------------------------------------------------------------------------------------\n+-- V24: Stable offsets archival\n+--\n+-- create_consumed_at is stored as byte array\n+---------------------------------------------------------------------------------------------------\n+\n+ALTER TABLE participant_events ALTER COLUMN create_consumed_at TYPE bytea using decode(create_consumed_at, 'hex');"
  }
]