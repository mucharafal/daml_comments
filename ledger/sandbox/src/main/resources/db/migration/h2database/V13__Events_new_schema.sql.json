[
  {
    "id" : "62bb097b-4bc0-4938-b406-2decc9524dbd",
    "prId" : 6372,
    "comments" : [
      {
        "id" : "2bc778f5-2af8-4d39-8725-988d75b2b887",
        "parentId" : null,
        "author" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "body" : "Important! You cannot change past SQL migrations! In practice it's hardly a problem but In theory there's nothing preventing a user from using a persistent H2 backend for the sandbox (and while not strictly necessary I'd prefer us having discipline in this regard, given how fragile migrations are). I understand that unfortunately we didn't do a good job so far in this regard, not assigning proper names to indexes, but I would recommend to drop and re-create the table (possibly giving the index a name that we can refer to in the future). In the future we will probably want to look into dropping migrations entirely for the H2 sandbox, as mentioned in another comment.",
        "createdAt" : "2020-06-29T07:47:33Z",
        "updatedAt" : "2020-07-07T20:49:50Z",
        "lastEditedBy" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "df138a2c-bee8-4562-b271-d01a676fdf73",
        "parentId" : "2bc778f5-2af8-4d39-8725-988d75b2b887",
        "author" : {
          "login" : "leo-da",
          "name" : "Leonid Shlyapnikov",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/27688859?u=375a6e2bd1079fec6f7d6d582ac05b5628218384&v=4"
        },
        "body" : "@stefanobaghino-da \r\nthat is cool... I was going to ask about this... but how to I find the name of the index... and how do I guarantee that the default naming convention does not change with the version upgrade?",
        "createdAt" : "2020-06-29T13:29:44Z",
        "updatedAt" : "2020-07-07T20:49:50Z",
        "lastEditedBy" : {
          "login" : "leo-da",
          "name" : "Leonid Shlyapnikov",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/27688859?u=375a6e2bd1079fec6f7d6d582ac05b5628218384&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "a4ac22ba1dbfc5a1f114a75812abec7b87d0eb34",
    "line" : null,
    "diffHunk" : "@@ -38,7 +38,8 @@ create table participant_events\n );\n \n -- support ordering by offset and transaction, ready for serving via the Ledger API\n-create index on participant_events(event_offset, transaction_id, node_index);\n+create index participant_events_event_offset_transaction_id_node_index_idx\n+    on participant_events(event_offset, transaction_id, node_index);"
  }
]