[
  {
    "id" : "3054ec1d-9d90-4edc-8fe7-2bf2339c869d",
    "prId" : 4953,
    "comments" : [
      {
        "id" : "c0676072-5ea9-46d5-9d0f-c0e663b054fe",
        "parentId" : null,
        "author" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "body" : "\"varchar\" or \"binary\"?",
        "createdAt" : "2020-03-16T15:12:22Z",
        "updatedAt" : "2020-03-17T19:46:55Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "8c9c3ccf491dcebc26c083911d9714d2fa5d032f",
    "line" : null,
    "diffHunk" : "@@ -0,0 +1,25 @@\n+-- Copyright (c) 2019 The DAML Authors. All rights reserved.\n+-- SPDX-License-Identifier: Apache-2.0\n+\n+---------------------------------------------------------------------------------------------------\n+-- V13: Stable Offsets\n+--\n+-- Stable offsets are stored as varchar and can be sorted lexicographically."
  },
  {
    "id" : "97101fbe-7de6-408e-a286-2913644ed576",
    "prId" : 4953,
    "comments" : [
      {
        "id" : "9199b95a-152c-405a-9aed-753c8d1381c2",
        "parentId" : null,
        "author" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "body" : "Trailing newline plz?",
        "createdAt" : "2020-03-16T15:12:33Z",
        "updatedAt" : "2020-03-17T19:46:55Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "8c9c3ccf491dcebc26c083911d9714d2fa5d032f",
    "line" : null,
    "diffHunk" : "@@ -0,0 +1,25 @@\n+-- Copyright (c) 2019 The DAML Authors. All rights reserved.\n+-- SPDX-License-Identifier: Apache-2.0\n+\n+---------------------------------------------------------------------------------------------------\n+-- V13: Stable Offsets\n+--\n+-- Stable offsets are stored as varchar and can be sorted lexicographically.\n+---------------------------------------------------------------------------------------------------\n+ALTER TABLE parameters ALTER COLUMN ledger_end DROP NOT NULL;\n+\n+set referential_integrity false;\n+\n+ALTER TABLE configuration_entries ALTER COLUMN ledger_offset TYPE BINARY;\n+ALTER TABLE contract_divulgences ALTER COLUMN ledger_offset TYPE BINARY;\n+ALTER TABLE contracts ALTER COLUMN create_offset TYPE BINARY;\n+ALTER TABLE contracts ALTER COLUMN archive_offset TYPE BINARY;\n+ALTER TABLE ledger_entries ALTER COLUMN ledger_offset TYPE BINARY;\n+ALTER TABLE packages ALTER COLUMN ledger_offset TYPE BINARY;\n+ALTER TABLE package_entries ALTER COLUMN ledger_offset TYPE BINARY;\n+ALTER TABLE parameters ALTER COLUMN ledger_end TYPE BINARY;\n+ALTER TABLE participant_command_completions ALTER COLUMN completion_offset TYPE BINARY;\n+ALTER TABLE parties ALTER COLUMN ledger_offset TYPE BINARY;\n+ALTER TABLE party_entries ALTER COLUMN ledger_offset TYPE BINARY;\n+\n+set referential_integrity true;"
  },
  {
    "id" : "5d2aea3e-401a-42ec-a7c1-66d4845703a3",
    "prId" : 4953,
    "comments" : [
      {
        "id" : "64c98110-f341-4695-8902-eb957751b1b9",
        "parentId" : null,
        "author" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "body" : "I find it hard to believe that this actually works, but I guess you've tested it?",
        "createdAt" : "2020-03-16T15:12:59Z",
        "updatedAt" : "2020-03-17T19:46:55Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "770ac47f-9e8e-4b06-8359-4e2af34834e4",
        "parentId" : "64c98110-f341-4695-8902-eb957751b1b9",
        "author" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "body" : "For H2 we don't have pre-existing data and on an empty database it works.",
        "createdAt" : "2020-03-17T14:36:29Z",
        "updatedAt" : "2020-03-17T19:46:55Z",
        "lastEditedBy" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "8c9c3ccf491dcebc26c083911d9714d2fa5d032f",
    "line" : null,
    "diffHunk" : "@@ -0,0 +1,25 @@\n+-- Copyright (c) 2019 The DAML Authors. All rights reserved.\n+-- SPDX-License-Identifier: Apache-2.0\n+\n+---------------------------------------------------------------------------------------------------\n+-- V13: Stable Offsets\n+--\n+-- Stable offsets are stored as varchar and can be sorted lexicographically.\n+---------------------------------------------------------------------------------------------------\n+ALTER TABLE parameters ALTER COLUMN ledger_end DROP NOT NULL;\n+\n+set referential_integrity false;"
  }
]