[
  {
    "id" : "2fa2bdb5-8401-4e1e-85f9-1030ee0db123",
    "prId" : 2282,
    "comments" : [
      {
        "id" : "91af92a1-ea9e-4bf7-9be5-3d5cbbc793bb",
        "parentId" : null,
        "author" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "body" : "How is this different than `FirstElementObserver` and can we get rid of one of them?",
        "createdAt" : "2019-08-09T07:44:32Z",
        "updatedAt" : "2019-08-09T14:28:54Z",
        "lastEditedBy" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "148ff9fb-4945-43fe-8bf5-ae92d9f3139c",
        "parentId" : "91af92a1-ea9e-4bf7-9be5-3d5cbbc793bb",
        "author" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "body" : "This cancels the call after we received the first item, so I believe this should not leak open streams. I preferred to duplicate it to not introduce a dependency between the test tool and the integration tests. We can put it in a shared library and get rid of the `FirstElementObserver`. Sounds good?",
        "createdAt" : "2019-08-09T07:52:30Z",
        "updatedAt" : "2019-08-09T14:28:54Z",
        "lastEditedBy" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "b2d461ee-3159-4c81-9967-cc61cb2c2222",
        "parentId" : "91af92a1-ea9e-4bf7-9be5-3d5cbbc793bb",
        "author" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "body" : "Addressed by https://github.com/digital-asset/daml/pull/2282/commits/55bd945701279f2b4c8a83f6adf3b57a7f67d983\r\n\r\nRenamed to `SingleItemObserver`, made it either get the very first item of the stream or the first that satisfies a predicate, moved it to `//ledger/test-common`, deleted `FirstElementObserver`, replaced all usages. This should be it. :sweat_smile: ",
        "createdAt" : "2019-08-09T12:11:36Z",
        "updatedAt" : "2019-08-09T14:28:54Z",
        "lastEditedBy" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "c0ec2e9d435c3c835828ec8bb046a8d6fe9c4a32",
    "line" : null,
    "diffHunk" : "@@ -0,0 +1,42 @@\n+// Copyright (c) 2019 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n+// SPDX-License-Identifier: Apache-2.0\n+\n+package com.daml.ledger.api.testtool.infrastructure\n+\n+import io.grpc.Context\n+import io.grpc.stub.StreamObserver\n+\n+import scala.concurrent.{Future, Promise}\n+\n+object HeadObserver {"
  }
]