[
  {
    "id" : "79cc92ed-4664-4f43-8b3a-9d413b767aa4",
    "prId" : 1400,
    "comments" : [
      {
        "id" : "269db3f9-ffcd-49ea-bb9c-acafdf465bf6",
        "parentId" : null,
        "author" : {
          "login" : "gabor-aranyossy",
          "name" : "Gabor Aranyossy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/29858875?u=03b5eca13ed32e74056ee216f2def12e249bcfed&v=4"
        },
        "body" : "the `ctx.ledgerIdentityService.getLedgerIdentity` calls are not needed anymore I think. Everything should be doable just by using `reset` and getting the ledger ids from the new contexts. Please rewrite it in such style.",
        "createdAt" : "2019-05-31T12:29:55Z",
        "updatedAt" : "2019-06-03T08:59:27Z",
        "lastEditedBy" : {
          "login" : "gabor-aranyossy",
          "name" : "Gabor Aranyossy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/29858875?u=03b5eca13ed32e74056ee216f2def12e249bcfed&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "0ab4c38f-0403-4550-8c9e-59f307a92d5a",
        "parentId" : "269db3f9-ffcd-49ea-bb9c-acafdf465bf6",
        "author" : {
          "login" : "gleber-da",
          "name" : "gleber",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/34243031?u=682c8d513afbef14cd3f71d93040a37500b5b2d0&v=4"
        },
        "body" : "Cleaned it up.",
        "createdAt" : "2019-05-31T13:02:09Z",
        "updatedAt" : "2019-06-03T08:59:27Z",
        "lastEditedBy" : {
          "login" : "gleber-da",
          "name" : "gleber",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/34243031?u=682c8d513afbef14cd3f71d93040a37500b5b2d0&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "455e80a9ff9a1491c4764e344c9b5378f22b3abb",
    "line" : null,
    "diffHunk" : "@@ -57,16 +54,13 @@ class ResetServiceIT\n       \"return a new ledger ID\" in allFixtures { ctx =>\n         for {\n           lid1 <- ctx.ledgerIdentityService.getLedgerIdentity(GetLedgerIdentityRequest())\n-          lid1SecondInstance <- ctx.ledgerIdentityService.getLedgerIdentity(\n-            GetLedgerIdentityRequest())\n+          lid1Bis <- ctx.ledgerIdentityService.getLedgerIdentity(GetLedgerIdentityRequest())"
  },
  {
    "id" : "ca1c742b-3322-45cf-acc1-799fa5a6049c",
    "prId" : 1400,
    "comments" : [
      {
        "id" : "3b1c1eb0-1a4a-466c-b062-56161d7f1775",
        "parentId" : null,
        "author" : {
          "login" : "gabor-aranyossy",
          "name" : "Gabor Aranyossy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/29858875?u=03b5eca13ed32e74056ee216f2def12e249bcfed&v=4"
        },
        "body" : "why did you drop this? it was a valid test case.",
        "createdAt" : "2019-05-31T12:30:15Z",
        "updatedAt" : "2019-06-03T08:59:27Z",
        "lastEditedBy" : {
          "login" : "gabor-aranyossy",
          "name" : "Gabor Aranyossy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/29858875?u=03b5eca13ed32e74056ee216f2def12e249bcfed&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "c2f5ef36-7745-48df-bb4c-99b697982f40",
        "parentId" : "3b1c1eb0-1a4a-466c-b062-56161d7f1775",
        "author" : {
          "login" : "gleber-da",
          "name" : "gleber",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/34243031?u=682c8d513afbef14cd3f71d93040a37500b5b2d0&v=4"
        },
        "body" : "Done",
        "createdAt" : "2019-05-31T13:02:00Z",
        "updatedAt" : "2019-06-03T08:59:27Z",
        "lastEditedBy" : {
          "login" : "gleber-da",
          "name" : "gleber",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/34243031?u=682c8d513afbef14cd3f71d93040a37500b5b2d0&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "455e80a9ff9a1491c4764e344c9b5378f22b3abb",
    "line" : 31,
    "diffHunk" : "@@ -57,16 +54,13 @@ class ResetServiceIT\n       \"return a new ledger ID\" in allFixtures { ctx =>\n         for {\n           lid1 <- ctx.ledgerIdentityService.getLedgerIdentity(GetLedgerIdentityRequest())\n-          lid1SecondInstance <- ctx.ledgerIdentityService.getLedgerIdentity(\n-            GetLedgerIdentityRequest())\n+          lid1Bis <- ctx.ledgerIdentityService.getLedgerIdentity(GetLedgerIdentityRequest())\n           lid2 <- ctx.reset()\n           lid3 <- ctx.reset()\n-          throwable <- ctx.resetService.reset(ResetRequest(lid1.ledgerId)).failed"
  },
  {
    "id" : "1edf3b77-2649-4f57-8519-22da1d8d5b49",
    "prId" : 552,
    "comments" : [
      {
        "id" : "f8cc1f24-620c-49c2-a2cf-42ec5ec78a19",
        "parentId" : null,
        "author" : {
          "login" : "gabor-aranyossy",
          "name" : "Gabor Aranyossy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/29858875?u=03b5eca13ed32e74056ee216f2def12e249bcfed&v=4"
        },
        "body" : "I am working on removing this line as a follow-up PR",
        "createdAt" : "2019-04-16T16:18:51Z",
        "updatedAt" : "2019-04-16T16:18:51Z",
        "lastEditedBy" : {
          "login" : "gabor-aranyossy",
          "name" : "Gabor Aranyossy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/29858875?u=03b5eca13ed32e74056ee216f2def12e249bcfed&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "d3f34cc7da1eca6f27a015164513c7c75a3585ef",
    "line" : 45,
    "diffHunk" : "@@ -0,0 +1,102 @@\n+// Copyright (c) 2019 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n+// SPDX-License-Identifier: Apache-2.0\n+\n+package com.digitalasset.platform.tests.integration.ledger.api\n+\n+import java.io.File\n+\n+import akka.stream.scaladsl.Sink\n+import com.digitalasset.ledger.api.testing.utils.{\n+  AkkaBeforeAndAfterAll,\n+  IsStatusException,\n+  SuiteResourceManagementAroundEach,\n+  MockMessages => M\n+}\n+import com.digitalasset.ledger.api.v1.active_contracts_service.GetActiveContractsResponse\n+import com.digitalasset.ledger.api.v1.command_service.SubmitAndWaitRequest\n+import com.digitalasset.ledger.api.v1.event.CreatedEvent\n+import com.digitalasset.ledger.api.v1.ledger_identity_service.GetLedgerIdentityRequest\n+import com.digitalasset.ledger.api.v1.testing.reset_service.ResetRequest\n+import com.digitalasset.platform.apitesting.{LedgerBackend, LedgerContext, MultiLedgerFixture}\n+import com.digitalasset.platform.sandbox.services.TestCommands\n+import com.digitalasset.platform.sandbox.utils.InfiniteRetries\n+import io.grpc.Status\n+import org.scalatest.concurrent.{AsyncTimeLimitedTests, ScalaFutures}\n+import org.scalatest.time.Span\n+import org.scalatest.time.SpanSugar._\n+import org.scalatest.{AsyncWordSpec, Matchers, Suite}\n+\n+import scala.concurrent.Future\n+\n+class ResetServiceIT\n+    extends AsyncWordSpec\n+    with AsyncTimeLimitedTests\n+    with Suite\n+    with InfiniteRetries\n+    with Matchers\n+    with AkkaBeforeAndAfterAll\n+    with MultiLedgerFixture\n+    with ScalaFutures\n+    with TestCommands\n+    with SuiteResourceManagementAroundEach {\n+\n+  override def timeLimit: Span = 30.seconds\n+\n+  override protected def fixtureIdsEnabled: Set[LedgerBackend] = Set(LedgerBackend.SandboxInMemory)"
  }
]