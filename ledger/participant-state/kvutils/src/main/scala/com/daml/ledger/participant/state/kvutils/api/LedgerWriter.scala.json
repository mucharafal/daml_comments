[
  {
    "id" : "281cf9cf-d6cf-48c6-af81-54c2cc585120",
    "prId" : 6515,
    "comments" : [
      {
        "id" : "b5036cbd-6990-4ffc-87a4-34e45fdb5cc8",
        "parentId" : null,
        "author" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "body" : "```suggestion\r\n      metadata: CommitMetadata,\r\n    ): Future[SubmissionResult] =\r\n      commit(correlationId, envelope)\r\n```",
        "createdAt" : "2020-06-29T07:39:52Z",
        "updatedAt" : "2020-06-30T08:52:03Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "5b5d17d48af638f059d785c2d530c2f7d89eec0e",
    "line" : null,
    "diffHunk" : "@@ -27,8 +27,18 @@ trait LedgerWriter extends ReportsHealth {\n     *\n     * @param correlationId correlation ID to be used for logging purposes\n     * @param envelope      opaque submission; may be compressed\n+    * @param metadata      metadata associated to this particular commit\n     * @return future for sending the submission; for possible results see\n     *         [[com.daml.ledger.participant.state.v1.SubmissionResult]]\n     */\n-  def commit(correlationId: String, envelope: Bytes): Future[SubmissionResult]\n+  def commit(\n+      correlationId: String,\n+      envelope: Bytes,\n+      metadata: CommitMetadata): Future[SubmissionResult] = commit(correlationId, envelope)"
  },
  {
    "id" : "8ff7e055-8451-4fc2-b328-16eaadd7c165",
    "prId" : 6515,
    "comments" : [
      {
        "id" : "7e4d6540-f69e-4469-995d-08e3ac4bcbef",
        "parentId" : null,
        "author" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "body" : "```suggestion\r\n      envelope: Bytes,\r\n```",
        "createdAt" : "2020-06-29T07:39:58Z",
        "updatedAt" : "2020-06-30T08:52:03Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "5b5d17d48af638f059d785c2d530c2f7d89eec0e",
    "line" : null,
    "diffHunk" : "@@ -27,8 +27,18 @@ trait LedgerWriter extends ReportsHealth {\n     *\n     * @param correlationId correlation ID to be used for logging purposes\n     * @param envelope      opaque submission; may be compressed\n+    * @param metadata      metadata associated to this particular commit\n     * @return future for sending the submission; for possible results see\n     *         [[com.daml.ledger.participant.state.v1.SubmissionResult]]\n     */\n-  def commit(correlationId: String, envelope: Bytes): Future[SubmissionResult]\n+  def commit(\n+      correlationId: String,\n+      envelope: Bytes,\n+      metadata: CommitMetadata): Future[SubmissionResult] = commit(correlationId, envelope)\n+\n+  // @deprecated(\"Will be removed in 1.4.0\", \"1.3.0\")\n+  def commit(\n+      correlationId: String,\n+      envelope: Bytes"
  },
  {
    "id" : "34b6451e-1765-4de6-81a0-6d32b1868d5a",
    "prId" : 6515,
    "comments" : [
      {
        "id" : "7234c92a-daba-41b9-92ed-139d6aa168c4",
        "parentId" : null,
        "author" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "body" : "Why is this commented out?",
        "createdAt" : "2020-06-29T07:41:37Z",
        "updatedAt" : "2020-06-30T08:52:03Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "48da85b5-2325-4152-87ff-ba26f718a6c4",
        "parentId" : "7234c92a-daba-41b9-92ed-139d6aa168c4",
        "author" : {
          "login" : "miklos-da",
          "name" : "Miklos",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/57664299?v=4"
        },
        "body" : "I'll need to turn off deprecation warnings for this module or remove these annotations as they will be generation compilation errors (even in case of such legitimate use of them).",
        "createdAt" : "2020-06-29T07:44:30Z",
        "updatedAt" : "2020-06-30T08:52:03Z",
        "lastEditedBy" : {
          "login" : "miklos-da",
          "name" : "Miklos",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/57664299?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "5dc43f5e-d0ac-4229-98a4-108fca5c66ee",
        "parentId" : "7234c92a-daba-41b9-92ed-139d6aa168c4",
        "author" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "body" : "I recommend using [Silencer](https://github.com/ghik/silencer) to suppress deprecation errors on a case-by-case basis. We already use this in several places in this repository.",
        "createdAt" : "2020-06-29T07:50:39Z",
        "updatedAt" : "2020-06-30T08:52:03Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "5b5d17d48af638f059d785c2d530c2f7d89eec0e",
    "line" : null,
    "diffHunk" : "@@ -27,8 +27,18 @@ trait LedgerWriter extends ReportsHealth {\n     *\n     * @param correlationId correlation ID to be used for logging purposes\n     * @param envelope      opaque submission; may be compressed\n+    * @param metadata      metadata associated to this particular commit\n     * @return future for sending the submission; for possible results see\n     *         [[com.daml.ledger.participant.state.v1.SubmissionResult]]\n     */\n-  def commit(correlationId: String, envelope: Bytes): Future[SubmissionResult]\n+  def commit(\n+      correlationId: String,\n+      envelope: Bytes,\n+      metadata: CommitMetadata): Future[SubmissionResult] = commit(correlationId, envelope)\n+\n+  // @deprecated(\"Will be removed in 1.4.0\", \"1.3.0\")"
  },
  {
    "id" : "76e183fb-d326-48cc-a6f0-b88f39082ac3",
    "prId" : 6515,
    "comments" : [
      {
        "id" : "195fae83-c3d9-4823-baff-200499e34275",
        "parentId" : null,
        "author" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "body" : "Shouldn't this be delegating to the above?",
        "createdAt" : "2020-06-29T07:42:15Z",
        "updatedAt" : "2020-06-30T08:52:03Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "0862cdbb-9067-4873-8ab8-a52c27e62f88",
        "parentId" : "195fae83-c3d9-4823-baff-200499e34275",
        "author" : {
          "login" : "miklos-da",
          "name" : "Miklos",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/57664299?v=4"
        },
        "body" : "Yes, changed -- just was checking if it is being called from anywhere.",
        "createdAt" : "2020-06-29T08:11:37Z",
        "updatedAt" : "2020-06-30T08:52:03Z",
        "lastEditedBy" : {
          "login" : "miklos-da",
          "name" : "Miklos",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/57664299?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "5b5d17d48af638f059d785c2d530c2f7d89eec0e",
    "line" : null,
    "diffHunk" : "@@ -27,8 +27,18 @@ trait LedgerWriter extends ReportsHealth {\n     *\n     * @param correlationId correlation ID to be used for logging purposes\n     * @param envelope      opaque submission; may be compressed\n+    * @param metadata      metadata associated to this particular commit\n     * @return future for sending the submission; for possible results see\n     *         [[com.daml.ledger.participant.state.v1.SubmissionResult]]\n     */\n-  def commit(correlationId: String, envelope: Bytes): Future[SubmissionResult]\n+  def commit(\n+      correlationId: String,\n+      envelope: Bytes,\n+      metadata: CommitMetadata): Future[SubmissionResult] = commit(correlationId, envelope)\n+\n+  // @deprecated(\"Will be removed in 1.4.0\", \"1.3.0\")\n+  def commit(\n+      correlationId: String,\n+      envelope: Bytes\n+  ): Future[SubmissionResult] = ???"
  },
  {
    "id" : "e3330d34-1393-4723-9c42-a65a371b963e",
    "prId" : 6515,
    "comments" : [
      {
        "id" : "5b44ddaa-8d93-4fa7-9028-f93493873186",
        "parentId" : null,
        "author" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "body" : "```suggestion\r\n  @silent(\"deprecated\")\r\n```",
        "createdAt" : "2020-06-29T11:22:25Z",
        "updatedAt" : "2020-06-30T08:52:03Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "5b5d17d48af638f059d785c2d530c2f7d89eec0e",
    "line" : null,
    "diffHunk" : "@@ -27,8 +28,21 @@ trait LedgerWriter extends ReportsHealth {\n     *\n     * @param correlationId correlation ID to be used for logging purposes\n     * @param envelope      opaque submission; may be compressed\n+    * @param metadata      metadata associated to this particular commit\n     * @return future for sending the submission; for possible results see\n     *         [[com.daml.ledger.participant.state.v1.SubmissionResult]]\n     */\n-  def commit(correlationId: String, envelope: Bytes): Future[SubmissionResult]\n+  @silent"
  },
  {
    "id" : "fe8ba056-606c-46d5-b435-9841304c2019",
    "prId" : 5589,
    "comments" : [
      {
        "id" : "58e2fb65-efe1-4aab-a460-5c8470137343",
        "parentId" : null,
        "author" : {
          "login" : "miklos-da",
          "name" : "Miklos",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/57664299?v=4"
        },
        "body" : "What's the point of moving this up here? It's a less important method than `commit`.",
        "createdAt" : "2020-04-17T09:12:17Z",
        "updatedAt" : "2020-04-17T09:12:44Z",
        "lastEditedBy" : {
          "login" : "miklos-da",
          "name" : "Miklos",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/57664299?v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "c94130db6ec9a69e0acf9de1450f47adc1e70671",
    "line" : 15,
    "diffHunk" : "@@ -17,18 +17,18 @@ import scala.concurrent.Future\n   */\n trait LedgerWriter extends ReportsHealth {\n \n+  /**"
  },
  {
    "id" : "c30f2af1-1fd5-4d75-a666-f708f4fd8ba4",
    "prId" : 3923,
    "comments" : [
      {
        "id" : "f34a7559-cd9d-48be-8d39-a9388193106d",
        "parentId" : null,
        "author" : {
          "login" : "SamirTalwar",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/47582?v=4"
        },
        "body" : "Likewise, regarding `ReportsHealth`.",
        "createdAt" : "2019-12-23T09:14:35Z",
        "updatedAt" : "2020-01-10T10:31:04Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/47582?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "bc37edbe-6fb2-466e-ad8d-2216e5417b37",
        "parentId" : "f34a7559-cd9d-48be-8d39-a9388193106d",
        "author" : {
          "login" : "miklos-da",
          "name" : "Miklos",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/57664299?v=4"
        },
        "body" : "Changed.",
        "createdAt" : "2020-01-06T09:53:55Z",
        "updatedAt" : "2020-01-10T10:31:04Z",
        "lastEditedBy" : {
          "login" : "miklos-da",
          "name" : "Miklos",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/57664299?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "c820159bc8cad55858939f177705f0a8bab0fd13",
    "line" : null,
    "diffHunk" : "@@ -0,0 +1,18 @@\n+// Copyright (c) 2019 The DAML Authors. All rights reserved.\n+// SPDX-License-Identifier: Apache-2.0\n+\n+package com.daml.ledger.participant.state.kvutils.api\n+\n+import com.daml.ledger.participant.state.v1.{ParticipantId, SubmissionResult}\n+import com.digitalasset.ledger.api.health.{HealthStatus, Healthy}\n+\n+import scala.concurrent.Future\n+\n+trait LedgerWriter {\n+  def commit(correlationId: String, envelope: Array[Byte]): Future[SubmissionResult]\n+\n+  def participantId: ParticipantId\n+\n+  def checkHealth(): HealthStatus = Healthy"
  }
]