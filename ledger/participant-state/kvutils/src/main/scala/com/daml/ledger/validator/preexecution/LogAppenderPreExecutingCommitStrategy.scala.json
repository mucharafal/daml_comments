[
  {
    "id" : "39d5d608-b5ad-483e-b516-0930b059cd3e",
    "prId" : 7515,
    "comments" : [
      {
        "id" : "bedf8cf7-772c-4df0-8a49-0330d5cf7020",
        "parentId" : null,
        "author" : {
          "login" : "miklos-da",
          "name" : "Miklos",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/57664299?v=4"
        },
        "body" : "Please note that we'll be doing some CPU intensive operations outside of a `Future` here (i.e., compressing values).",
        "createdAt" : "2020-09-29T15:12:59Z",
        "updatedAt" : "2020-09-29T15:12:59Z",
        "lastEditedBy" : {
          "login" : "miklos-da",
          "name" : "Miklos",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/57664299?v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "662cc1e0-0774-45e2-8968-6a9413041843",
        "parentId" : "bedf8cf7-772c-4df0-8a49-0330d5cf7020",
        "author" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "body" : "See above.",
        "createdAt" : "2020-09-29T17:05:21Z",
        "updatedAt" : "2020-09-29T17:05:21Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "2a03714d44102a50f8583de03c250ad3d4108d69",
    "line" : 31,
    "diffHunk" : "@@ -21,16 +28,15 @@ class LogAppenderPreExecutingCommitStrategy(keySerializationStrategy: StateKeySe\n       inputState: Map[DamlKvutils.DamlStateKey, Option[DamlKvutils.DamlStateValue]],\n       preExecutionResult: KeyValueCommitting.PreExecutionResult,\n   )(implicit executionContext: ExecutionContext)\n-    : Future[PreExecutionCommitResult[RawKeyValuePairsWithLogEntry]] =\n-    for {\n-      serializedSuccessKeyValuePairs <- Future {\n-        preExecutionResult.stateUpdates.map {\n+    : Future[PreExecutionCommitResult[RawKeyValuePairsWithLogEntry]] = {\n+    val serializedSuccessKeyValuePairs: SortedMap[Key, Value] ="
  },
  {
    "id" : "364ad9f1-59f0-478c-8be6-5354406601cc",
    "prId" : 6793,
    "comments" : [
      {
        "id" : "47a5eff0-a442-498c-891c-bfe01f49109c",
        "parentId" : null,
        "author" : {
          "login" : "miklos-da",
          "name" : "Miklos",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/57664299?v=4"
        },
        "body" : "We already have this functionality as `KeySerializationStrategy` in the oem-integration-kit. You can define an arbitrary output type for a pre-executing commit strategy, hence, you could change the currently used `RawKeyValuePairs` to a union type, for example. Alternatively, you may simply have the state keys prefixed instead (as suggested in `InMemoryLedgerReaderWriter`).",
        "createdAt" : "2020-07-24T15:37:36Z",
        "updatedAt" : "2020-08-05T07:01:01Z",
        "lastEditedBy" : {
          "login" : "miklos-da",
          "name" : "Miklos",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/57664299?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "2128e225-7b4a-4d51-9654-4abf53317b77",
        "parentId" : "47a5eff0-a442-498c-891c-bfe01f49109c",
        "author" : {
          "login" : "fabiotudone-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/59609563?u=a3a8ac844c9aacd1d1bd319a77d1d0ac60d701a3&v=4"
        },
        "body" : "Done via an union.",
        "createdAt" : "2020-08-03T16:46:48Z",
        "updatedAt" : "2020-08-05T07:01:01Z",
        "lastEditedBy" : {
          "login" : "fabiotudone-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/59609563?u=a3a8ac844c9aacd1d1bd319a77d1d0ac60d701a3&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "b29591138330b767e0e3a5dc19bca73b14d0522c",
    "line" : null,
    "diffHunk" : "@@ -53,3 +55,18 @@ class LogAppenderPreExecutingCommitStrategy(keySerializationStrategy: StateKeySe\n     Seq(logEntryId -> envelopedLogEntry)\n   }\n }\n+\n+// TODO build a proper log entry serialization framework"
  }
]