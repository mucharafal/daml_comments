[
  {
    "id" : "d5d3a3a0-1129-4613-9b30-e0da322ecd08",
    "prId" : 3051,
    "comments" : [
      {
        "id" : "decff5b0-cdd8-43a8-9761-2edd3cfcaf0b",
        "parentId" : null,
        "author" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "body" : "The required claims should be specified by service method (alluded to by the `LedgerEnd only` distinction for `TransactionService`.",
        "createdAt" : "2019-09-26T16:16:04Z",
        "updatedAt" : "2019-10-07T13:17:51Z",
        "lastEditedBy" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "9533549f-4dc3-4bd5-b14c-ac811f0dfc5e",
        "parentId" : "decff5b0-cdd8-43a8-9761-2edd3cfcaf0b",
        "author" : {
          "login" : "rautenrieth-da",
          "name" : "Robert Autenrieth",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/31539813?u=e5fe17e2c6f986e9ee04c5b9ca5f6a5a90d1c94a&v=4"
        },
        "body" : "Yes, this table needs to be edited. I have copied it from the proposal document without thinking. ",
        "createdAt" : "2019-09-30T09:05:20Z",
        "updatedAt" : "2019-10-07T13:17:51Z",
        "lastEditedBy" : {
          "login" : "rautenrieth-da",
          "name" : "Robert Autenrieth",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/31539813?u=e5fe17e2c6f986e9ee04c5b9ca5f6a5a90d1c94a&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "7b086d71418f8dd31bcf1d51c0ae1f9e2877d27c",
    "line" : 46,
    "diffHunk" : "@@ -0,0 +1,45 @@\n+// Copyright (c) 2019 The DAML Authors. All rights reserved.\n+// SPDX-License-Identifier: Apache-2.0\n+\n+package com.daml.ledger.participant.state.v1\n+\n+import com.digitalasset.daml.lf.data.Ref\n+\n+/**\n+  * [[Claims]] define what actions an authenticated user can perform on the ledger API.\n+  *\n+  * @param admin True if the user is allowed to use admin services.\n+  *\n+  * @param party The DAML party that the user is allowed to act as, if any.\n+  *              This includes sending commands on behalf of that party and\n+  *              reading data for that party.\n+  *\n+  * The following is a full list of services and the corresponding required claims:"
  },
  {
    "id" : "3690a7ea-7be5-4885-890e-3c63b252da19",
    "prId" : 3051,
    "comments" : [
      {
        "id" : "172e01a5-bf99-4331-97e3-5c7e9cee5b75",
        "parentId" : null,
        "author" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "body" : "`Any non-empty claim` is too loose of a definition for most services (or more specifically method calls). The authorization metadata needs to represent claims to act as the parties that are specified in the request.",
        "createdAt" : "2019-09-26T16:18:26Z",
        "updatedAt" : "2019-10-07T13:17:51Z",
        "lastEditedBy" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "7b086d71418f8dd31bcf1d51c0ae1f9e2877d27c",
    "line" : null,
    "diffHunk" : "@@ -0,0 +1,45 @@\n+// Copyright (c) 2019 The DAML Authors. All rights reserved.\n+// SPDX-License-Identifier: Apache-2.0\n+\n+package com.daml.ledger.participant.state.v1\n+\n+import com.digitalasset.daml.lf.data.Ref\n+\n+/**\n+  * [[Claims]] define what actions an authenticated user can perform on the ledger API.\n+  *\n+  * @param admin True if the user is allowed to use admin services.\n+  *\n+  * @param party The DAML party that the user is allowed to act as, if any.\n+  *              This includes sending commands on behalf of that party and\n+  *              reading data for that party.\n+  *\n+  * The following is a full list of services and the corresponding required claims:\n+  * +-------------------------------------+------------------------+\n+  * | Ledger API service                  | Access with            |\n+  * +-------------------------------------+------------------------+\n+  * | LedgerIdentityService               | Any non-empty claim    |\n+  * | ActiveContractsService              | Any non-empty claim    |"
  },
  {
    "id" : "d2dee71a-7449-43f2-b3e1-20666586d77f",
    "prId" : 3051,
    "comments" : [
      {
        "id" : "943d67db-7457-48f8-a102-a1af72a7efb5",
        "parentId" : null,
        "author" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "body" : "A single party is probably not enough, considering we have a multi-party subscription pipeline.",
        "createdAt" : "2019-09-26T16:19:17Z",
        "updatedAt" : "2019-10-07T13:17:51Z",
        "lastEditedBy" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "7b086d71418f8dd31bcf1d51c0ae1f9e2877d27c",
    "line" : null,
    "diffHunk" : "@@ -0,0 +1,45 @@\n+// Copyright (c) 2019 The DAML Authors. All rights reserved.\n+// SPDX-License-Identifier: Apache-2.0\n+\n+package com.daml.ledger.participant.state.v1\n+\n+import com.digitalasset.daml.lf.data.Ref\n+\n+/**\n+  * [[Claims]] define what actions an authenticated user can perform on the ledger API.\n+  *\n+  * @param admin True if the user is allowed to use admin services.\n+  *\n+  * @param party The DAML party that the user is allowed to act as, if any.\n+  *              This includes sending commands on behalf of that party and\n+  *              reading data for that party.\n+  *\n+  * The following is a full list of services and the corresponding required claims:\n+  * +-------------------------------------+------------------------+\n+  * | Ledger API service                  | Access with            |\n+  * +-------------------------------------+------------------------+\n+  * | LedgerIdentityService               | Any non-empty claim    |\n+  * | ActiveContractsService              | Any non-empty claim    |\n+  * | CommandSubmissionService            | Any non-empty claim    |\n+  * | CommandCompletionService            | Any non-empty claim    |\n+  * | CommandService                      | Any non-empty claim    |\n+  * | LedgerConfigurationService          | Any non-empty claim    |\n+  * | PackageService                      | Any non-empty claim    |\n+  * | PackageManagementService            | Admin                  |\n+  * | PartyManagementService              | Admin                  |\n+  * | ResetService                        | Admin                  |\n+  * | TimeService                         | Admin                  |\n+  * | TransactionService (LedgerEnd only) | Any non-empty claim    |\n+  * | TransactionService                  | Any non-empty claim    |\n+  * +-------------------------------------+------------------------+\n+  */\n+final case class Claims(\n+    admin: Boolean,\n+    party: Option[Ref.Party]"
  },
  {
    "id" : "416442a3-2b35-4e91-8c7f-1916cabb7210",
    "prId" : 3051,
    "comments" : [
      {
        "id" : "d13ac50c-4a6c-46e0-aa57-947d8cb9074e",
        "parentId" : null,
        "author" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "body" : "Shouldn't some of the services listed here require the claim of acting on behalf of a party?",
        "createdAt" : "2019-09-27T07:36:44Z",
        "updatedAt" : "2019-10-07T13:17:51Z",
        "lastEditedBy" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "e1927d6d-0b18-4133-87cc-76259705b9dc",
        "parentId" : "d13ac50c-4a6c-46e0-aa57-947d8cb9074e",
        "author" : {
          "login" : "rautenrieth-da",
          "name" : "Robert Autenrieth",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/31539813?u=e5fe17e2c6f986e9ee04c5b9ca5f6a5a90d1c94a&v=4"
        },
        "body" : "Yes, this table needs to be edited. I have copied it from the proposal document without thinking. ",
        "createdAt" : "2019-09-30T09:05:25Z",
        "updatedAt" : "2019-10-07T13:17:51Z",
        "lastEditedBy" : {
          "login" : "rautenrieth-da",
          "name" : "Robert Autenrieth",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/31539813?u=e5fe17e2c6f986e9ee04c5b9ca5f6a5a90d1c94a&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "27abddfe-ca36-433d-abe2-b966e1bb6c51",
        "parentId" : "d13ac50c-4a6c-46e0-aa57-947d8cb9074e",
        "author" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "body" : "That's a bit harsh. It is a draft PR after all üëç ",
        "createdAt" : "2019-09-30T09:15:14Z",
        "updatedAt" : "2019-10-07T13:17:51Z",
        "lastEditedBy" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "e747d3cf-2aa8-4030-b020-1c96f39b4985",
        "parentId" : "d13ac50c-4a6c-46e0-aa57-947d8cb9074e",
        "author" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "body" : "Sorry, didn't mean to be harsh, I just wanted to point at this. :slightly_smiling_face: ",
        "createdAt" : "2019-09-30T09:20:56Z",
        "updatedAt" : "2019-10-07T13:17:51Z",
        "lastEditedBy" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "fcc5c6d0-c8c3-4163-a8b5-3b3d388413bb",
        "parentId" : "d13ac50c-4a6c-46e0-aa57-947d8cb9074e",
        "author" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "body" : "Oh, you mean the \"without thinking\" part? Shame on you, Robert. You're too harsh on yourself! :smile: ",
        "createdAt" : "2019-09-30T09:21:57Z",
        "updatedAt" : "2019-10-07T13:17:51Z",
        "lastEditedBy" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "a0d78bdc-3148-4325-9df1-6e9c2ee9aed2",
        "parentId" : "d13ac50c-4a6c-46e0-aa57-947d8cb9074e",
        "author" : {
          "login" : "rautenrieth-da",
          "name" : "Robert Autenrieth",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/31539813?u=e5fe17e2c6f986e9ee04c5b9ca5f6a5a90d1c94a&v=4"
        },
        "body" : "Ah, it's more a disclaimer that the whole table is probably wrong, so don't read too much into its content üòÑ ",
        "createdAt" : "2019-09-30T13:24:42Z",
        "updatedAt" : "2019-10-07T13:17:51Z",
        "lastEditedBy" : {
          "login" : "rautenrieth-da",
          "name" : "Robert Autenrieth",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/31539813?u=e5fe17e2c6f986e9ee04c5b9ca5f6a5a90d1c94a&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "7b086d71418f8dd31bcf1d51c0ae1f9e2877d27c",
    "line" : null,
    "diffHunk" : "@@ -0,0 +1,45 @@\n+// Copyright (c) 2019 The DAML Authors. All rights reserved.\n+// SPDX-License-Identifier: Apache-2.0\n+\n+package com.daml.ledger.participant.state.v1\n+\n+import com.digitalasset.daml.lf.data.Ref\n+\n+/**\n+  * [[Claims]] define what actions an authenticated user can perform on the ledger API.\n+  *\n+  * @param admin True if the user is allowed to use admin services.\n+  *\n+  * @param party The DAML party that the user is allowed to act as, if any.\n+  *              This includes sending commands on behalf of that party and\n+  *              reading data for that party.\n+  *\n+  * The following is a full list of services and the corresponding required claims:\n+  * +-------------------------------------+------------------------+\n+  * | Ledger API service                  | Access with            |"
  }
]