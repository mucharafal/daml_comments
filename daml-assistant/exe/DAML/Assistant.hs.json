[
  {
    "id" : "b425dac2-134b-4af3-81ed-f54dd0a2c0e9",
    "prId" : 1229,
    "comments" : [
      {
        "id" : "4c90569a-0127-4dad-b8e3-f36141918dc2",
        "parentId" : null,
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "Do we still need this now that there is a new semver release?",
        "createdAt" : "2019-05-20T07:00:30Z",
        "updatedAt" : "2019-05-20T07:01:06Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "4390bf85-0041-414f-885f-cd5979cc5d22",
        "parentId" : "4c90569a-0127-4dad-b8e3-f36141918dc2",
        "author" : null,
        "body" : "I'll test & remove this in a separate PR :)",
        "createdAt" : "2019-05-20T07:46:34Z",
        "updatedAt" : "2019-05-20T07:46:34Z",
        "lastEditedBy" : null,
        "tags" : [
        ]
      }
    ],
    "commit" : "1312d4657e0ca5d7d9237e637770ef32dca0ee86",
    "line" : 153,
    "diffHunk" : "@@ -1,1 +168,172 @@                ]\n\n            -- | Workaround for Data.SemVer old unfixed bug (see https://github.com/brendanhay/semver/pull/6)\n            -- TODO: move away from Data.SemVer...\n            versionCompare v1 v2 ="
  },
  {
    "id" : "ee0489dc-e8c3-4cf2-8228-10957ffd6090",
    "prId" : 1114,
    "comments" : [
      {
        "id" : "e19d2d38-f352-43c1-882b-95164fb2e71b",
        "parentId" : null,
        "author" : {
          "login" : "neil-da",
          "name" : "Neil Mitchell",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/35463327?u=0eb1719958bc6e449ec5e7df3a312fa566f5055d&v=4"
        },
        "body" : "Yes, run screaming from code with obvious flaws that hasn't been patched in years.",
        "createdAt" : "2019-05-13T18:37:36Z",
        "updatedAt" : "2019-05-13T18:39:18Z",
        "lastEditedBy" : {
          "login" : "neil-da",
          "name" : "Neil Mitchell",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/35463327?u=0eb1719958bc6e449ec5e7df3a312fa566f5055d&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "f49a5d30-187e-4e6a-b148-d557cac35566",
        "parentId" : "e19d2d38-f352-43c1-882b-95164fb2e71b",
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "fwiw, that fix was just merged after I left a comment on the issue.",
        "createdAt" : "2019-05-14T06:49:53Z",
        "updatedAt" : "2019-05-14T06:49:53Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "159e0e2c-c77e-40d4-85ba-992c6db6fc07",
        "parentId" : "e19d2d38-f352-43c1-882b-95164fb2e71b",
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "And weâ€™ve got a new release!",
        "createdAt" : "2019-05-14T06:54:56Z",
        "updatedAt" : "2019-05-14T06:54:56Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "6bdc9bc6e0f0f2fc10335ac0b7514d05de69f8dd",
    "line" : 89,
    "diffHunk" : "@@ -1,1 +100,104 @@                    ]\n\n                -- | Workaround for Data.SemVer old unfixed bug (see https://github.com/brendanhay/semver/pull/6)\n                -- TODO: move away from Data.SemVer...\n                versionCompare v1 v2 ="
  },
  {
    "id" : "83bece00-a18b-4503-9329-3a128a7990fc",
    "prId" : 1114,
    "comments" : [
      {
        "id" : "daf0df37-f3f0-48ef-92db-87e2e91fbea6",
        "parentId" : null,
        "author" : {
          "login" : "neil-da",
          "name" : "Neil Mitchell",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/35463327?u=0eb1719958bc6e449ec5e7df3a312fa566f5055d&v=4"
        },
        "body" : "Ouch. Or fork SemVer.",
        "createdAt" : "2019-05-13T18:37:58Z",
        "updatedAt" : "2019-05-13T18:39:18Z",
        "lastEditedBy" : {
          "login" : "neil-da",
          "name" : "Neil Mitchell",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/35463327?u=0eb1719958bc6e449ec5e7df3a312fa566f5055d&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "6bdc9bc6e0f0f2fc10335ac0b7514d05de69f8dd",
    "line" : 94,
    "diffHunk" : "@@ -1,1 +105,109 @@                    if v1 == v2\n                        then EQ\n                        else compare v1 v2\n\n                versions = nubSortBy versionCompare (envVersions ++ fromRight [] installedVersionsE)"
  },
  {
    "id" : "954f0828-52df-4746-8318-effd9ad852e8",
    "prId" : 1114,
    "comments" : [
      {
        "id" : "19ee8f77-5b5e-424a-b36f-b7c5ca69ff04",
        "parentId" : null,
        "author" : {
          "login" : "neil-da",
          "name" : "Neil Mitchell",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/35463327?u=0eb1719958bc6e449ec5e7df3a312fa566f5055d&v=4"
        },
        "body" : "Should this padding code exist somewhere else as a utility?",
        "createdAt" : "2019-05-13T18:38:43Z",
        "updatedAt" : "2019-05-13T18:39:18Z",
        "lastEditedBy" : {
          "login" : "neil-da",
          "name" : "Neil Mitchell",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/35463327?u=0eb1719958bc6e449ec5e7df3a312fa566f5055d&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "056edae3-8336-4f0d-bb11-7aeae099206f",
        "parentId" : "19ee8f77-5b5e-424a-b36f-b7c5ca69ff04",
        "author" : null,
        "body" : "Probably! I'll extract it out if/when it becomes useful elsewhere.",
        "createdAt" : "2019-05-14T06:45:05Z",
        "updatedAt" : "2019-05-14T06:45:05Z",
        "lastEditedBy" : null,
        "tags" : [
        ]
      }
    ],
    "commit" : "6bdc9bc6e0f0f2fc10335ac0b7514d05de69f8dd",
    "line" : 98,
    "diffHunk" : "@@ -1,1 +109,113 @@                versions = nubSortBy versionCompare (envVersions ++ fromRight [] installedVersionsE)\n                versionTable = [ (versionToText v, versionAttrs v) | v <- versions ]\n                versionWidth = maximum (1 : map (T.length . fst) versionTable)\n                versionLines =\n                    [ T.concat"
  },
  {
    "id" : "bef85f5c-b5cc-4a11-b583-a6c689846663",
    "prId" : 857,
    "comments" : [
      {
        "id" : "7870034b-6de0-4433-92c8-f93fdc057801",
        "parentId" : null,
        "author" : {
          "login" : "neil-da",
          "name" : "Neil Mitchell",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/35463327?u=0eb1719958bc6e449ec5e7df3a312fa566f5055d&v=4"
        },
        "body" : "```suggestion\r\n    let isInstall = [\"install\"] `isPrefixOf` rawArgs\r\n```\r\n\r\nPretty much code golf at this point, but i think this version reads semantically nicer.",
        "createdAt" : "2019-05-02T22:19:03Z",
        "updatedAt" : "2019-05-03T07:55:24Z",
        "lastEditedBy" : {
          "login" : "neil-da",
          "name" : "Neil Mitchell",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/35463327?u=0eb1719958bc6e449ec5e7df3a312fa566f5055d&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "bd4b5476-9298-4e2a-bf7d-67bc58b2037e",
        "parentId" : "7870034b-6de0-4433-92c8-f93fdc057801",
        "author" : null,
        "body" : "I'm not going to use this suggestion because I think the test above is easier to generalize to more commands that are already planned (e.g. `daml update` and `daml uninstall`, not yet implemented).",
        "createdAt" : "2019-05-03T07:44:17Z",
        "updatedAt" : "2019-05-03T07:55:24Z",
        "lastEditedBy" : null,
        "tags" : [
        ]
      },
      {
        "id" : "2cf05e58-d38a-406e-86b6-b522aa454415",
        "parentId" : "7870034b-6de0-4433-92c8-f93fdc057801",
        "author" : {
          "login" : "neil-da",
          "name" : "Neil Mitchell",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/35463327?u=0eb1719958bc6e449ec5e7df3a312fa566f5055d&v=4"
        },
        "body" : "Given it's a bit of a hack, and you plan to generalise it using it more, any reason not to just rerun the command line parser here to determine what type of command it is?",
        "createdAt" : "2019-05-03T07:46:12Z",
        "updatedAt" : "2019-05-03T07:55:24Z",
        "lastEditedBy" : {
          "login" : "neil-da",
          "name" : "Neil Mitchell",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/35463327?u=0eb1719958bc6e449ec5e7df3a312fa566f5055d&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "9fb0b1db-778c-47cd-a7ce-6c8ad8d37a1c",
        "parentId" : "7870034b-6de0-4433-92c8-f93fdc057801",
        "author" : null,
        "body" : "You mean, run it for the first time here, and run it again later with more info.\r\n\r\nPart of the problem is that determining the full set of available commands requires knowing the SDK version and the SDK config. The problem comes when we use optparse-applicative to generate `--help` tables, for example.\r\n\r\nI think this can all be refactored and made proper with optparse-applicative, but it's not trivial and still requires two passes over the command-line. Not sure it's worth it over the simple solution...",
        "createdAt" : "2019-05-03T07:54:24Z",
        "updatedAt" : "2019-05-03T07:55:24Z",
        "lastEditedBy" : null,
        "tags" : [
        ]
      },
      {
        "id" : "3fd57b30-589e-4603-94ba-70df00277dc6",
        "parentId" : "7870034b-6de0-4433-92c8-f93fdc057801",
        "author" : {
          "login" : "neil-da",
          "name" : "Neil Mitchell",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/35463327?u=0eb1719958bc6e449ec5e7df3a312fa566f5055d&v=4"
        },
        "body" : "I struggle to believe there's not a command line you'll misparse if you write the parsing logic twice. But perhaps anyone who writes \"odd\" command lines deserves the pain. I leave it to you.",
        "createdAt" : "2019-05-03T09:05:50Z",
        "updatedAt" : "2019-05-03T09:05:50Z",
        "lastEditedBy" : {
          "login" : "neil-da",
          "name" : "Neil Mitchell",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/35463327?u=0eb1719958bc6e449ec5e7df3a312fa566f5055d&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "a897efb630f77fb5d37d4fe312478c4a2f61a0aa",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +28,32 @@main = displayErrors $ do\n    rawArgs <- getArgs\n    let isInstall = listToMaybe rawArgs == Just \"install\"\n    env@Env{..} <- if isInstall then getMinimalDamlEnv else getDamlEnv\n    sdkConfigM <- mapM readSdkConfig envSdkPath"
  },
  {
    "id" : "ce6009e3-1617-4976-9076-ee920eb3d183",
    "prId" : 758,
    "comments" : [
      {
        "id" : "bf7d7f9d-6bdc-42b2-992c-862fa5381f32",
        "parentId" : null,
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "It is probably a good idea to point out that this can require changes to your project.\r\nHow about:\r\n> We recommend to upgrade your project to the latest stable version XXX. To do so, set the sdk-version in the project config daml.yaml to XXX and take a look at the changelog <url> for any changes that might be required.",
        "createdAt" : "2019-04-29T11:49:57Z",
        "updatedAt" : "2019-05-02T12:28:55Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "fc6256c0aa30c13f75615acecbf56bdd80036de3",
    "line" : 39,
    "diffHunk" : "@@ -1,1 +43,47 @@                [ \"WARNING: Using an outdated version of the DAML SDK in project.\"\n                , \"\"\n                , \"Please set the sdk-version in the project config daml.yaml\"\n                , \"to the latest stable version \" <> versionToString latestVersion\n                    <> \" like this:\""
  }
]