[
  {
    "id" : "983d7253-e8db-4ba7-a747-9585a8806a0e",
    "prId" : 5342,
    "comments" : [
      {
        "id" : "a6050070-9ebd-4dce-a6f6-8dc5c00b98b0",
        "parentId" : null,
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "Whatâ€™s up with this? Why are we including these two files now? This looks like we are now compiling them twice, once as part of `daml-lib` and then once for the tests and ones for the executable.",
        "createdAt" : "2020-04-01T14:43:47Z",
        "updatedAt" : "2020-04-02T08:48:06Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "b0e9999d-f4d6-4839-bbc8-13795bce996d",
        "parentId" : "a6050070-9ebd-4dce-a6f6-8dc5c00b98b0",
        "author" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "body" : "These two files don't exist. I expect they were previously relocated as:\r\n```\r\ndaml/daml-assistant/exe/DA/Daml/Assistant.hs\r\ndaml/daml-assistant/test/DA/Daml/Assistant/Tests.hs\r\n```\r\nI removed the unnecessary exclude directive just to avoid future confusion (I was confused when I saw it!)",
        "createdAt" : "2020-04-02T08:35:23Z",
        "updatedAt" : "2020-04-02T08:48:06Z",
        "lastEditedBy" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "c4585811a1d5dd8c2de2c7598d8e15a88ac1b345",
    "line" : 4,
    "diffHunk" : "@@ -30,10 +30,6 @@ da_haskell_library(\n     name = \"daml-lib\",\n     srcs = glob(\n         [\"src/**/*.hs\"],\n-        exclude = ["
  },
  {
    "id" : "ad3a4567-ae9c-48bb-bb9a-3f8daf50d05a",
    "prId" : 2176,
    "comments" : [
      {
        "id" : "7f199a2e-4f4e-40db-a14d-5d6aa97c0cde",
        "parentId" : null,
        "author" : null,
        "body" : "Nice!",
        "createdAt" : "2019-07-16T17:23:17Z",
        "updatedAt" : "2019-07-17T11:22:09Z",
        "lastEditedBy" : null,
        "tags" : [
        ]
      }
    ],
    "commit" : "da98b4d49b2aebb66c932d5827800af490486a0b",
    "line" : 9,
    "diffHunk" : "@@ -136,10 +136,12 @@ da_haskell_test(\n # Target for da-ghcid, includes everything except integration tests.\n da_haskell_repl(\n     name = \"repl\",\n+    testonly = True,\n     collect_data = False,\n     visibility = [\"//visibility:public\"],\n     deps = [\n         \"//daml-assistant:daml\",\n+        \"//daml-assistant:test\","
  },
  {
    "id" : "c4a34c75-80d4-4877-b0ba-70068d5989ee",
    "prId" : 1847,
    "comments" : [
      {
        "id" : "19c23c3f-31c0-4c0a-9bcb-48d61fd3e84b",
        "parentId" : null,
        "author" : {
          "login" : "aherrmann-da",
          "name" : "Andreas Herrmann",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/42969706?v=4"
        },
        "body" : "Maybe this should be the new default for `da-ghci` then?",
        "createdAt" : "2019-06-24T12:41:23Z",
        "updatedAt" : "2019-06-24T15:04:01Z",
        "lastEditedBy" : {
          "login" : "aherrmann-da",
          "name" : "Andreas Herrmann",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/42969706?v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "9cb16537-4dac-4948-b849-cc0c5d9021ef",
        "parentId" : "19c23c3f-31c0-4c0a-9bcb-48d61fd3e84b",
        "author" : null,
        "body" : "I'm in favor of that!\r\n",
        "createdAt" : "2019-06-24T13:12:48Z",
        "updatedAt" : "2019-06-24T15:04:01Z",
        "lastEditedBy" : null,
        "tags" : [
        ]
      },
      {
        "id" : "fbc7093e-6d7b-4f1c-97b5-70439edcef9c",
        "parentId" : "19c23c3f-31c0-4c0a-9bcb-48d61fd3e84b",
        "author" : null,
        "body" : "In particular, making the default target be `:repl` instead of `//:damlc`.",
        "createdAt" : "2019-06-24T13:15:00Z",
        "updatedAt" : "2019-06-24T15:04:01Z",
        "lastEditedBy" : null,
        "tags" : [
        ]
      },
      {
        "id" : "babc2ef0-70c0-42ad-91e8-9d3077bb15be",
        "parentId" : "19c23c3f-31c0-4c0a-9bcb-48d61fd3e84b",
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "I think the number of people working on the assistant is far smaller than the number of people working on damlc so I donâ€™t think swapping the default makes sense.",
        "createdAt" : "2019-06-24T13:18:19Z",
        "updatedAt" : "2019-06-24T15:04:01Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "21558f0c-85ce-4a64-951e-5892c8b982ec",
        "parentId" : "19c23c3f-31c0-4c0a-9bcb-48d61fd3e84b",
        "author" : null,
        "body" : "@cocreature I think the point is to make the \"default\" depend on the working directory, so if you're in `//daml-assistant` you get `//daml-assistant:repl` but if you're in `//daml-foundations/daml-ghc` then you get the `:repl` rule for that subtree instead? And we can define a top-level `:repl` rule that includes basically everything.",
        "createdAt" : "2019-06-24T13:20:35Z",
        "updatedAt" : "2019-06-24T15:04:01Z",
        "lastEditedBy" : null,
        "tags" : [
        ]
      },
      {
        "id" : "98435e32-85b9-4ae9-a422-9be63e8e3db1",
        "parentId" : "19c23c3f-31c0-4c0a-9bcb-48d61fd3e84b",
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "That sounds reasonable but ofc only once we actually have `:repl` rules in all subtrees.",
        "createdAt" : "2019-06-24T13:22:28Z",
        "updatedAt" : "2019-06-24T15:04:01Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "c347ba5e-179f-4cc0-bd8b-02886555aa99",
        "parentId" : "19c23c3f-31c0-4c0a-9bcb-48d61fd3e84b",
        "author" : null,
        "body" : "I'll add them now then. ;-) ",
        "createdAt" : "2019-06-24T13:27:19Z",
        "updatedAt" : "2019-06-24T15:04:01Z",
        "lastEditedBy" : null,
        "tags" : [
        ]
      },
      {
        "id" : "5a98774f-b598-43fd-9dbc-d8b8eb5c8c9f",
        "parentId" : "19c23c3f-31c0-4c0a-9bcb-48d61fd3e84b",
        "author" : null,
        "body" : "Or, nicer move, add a top-level `//:repl` that includes both damlc and daml-assistant, and set that as the default. That way I don't need to go touching a million bazel files and anyone can add targets they want later.",
        "createdAt" : "2019-06-24T13:34:36Z",
        "updatedAt" : "2019-06-24T15:04:01Z",
        "lastEditedBy" : null,
        "tags" : [
        ]
      },
      {
        "id" : "e515cced-bf32-46d4-996c-cc645a2551cd",
        "parentId" : "19c23c3f-31c0-4c0a-9bcb-48d61fd3e84b",
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "Sounds reasonable. Not quite sure how `:main` works in that case but Iâ€™d be fine if that doesnâ€™t work at all in this case.",
        "createdAt" : "2019-06-24T13:36:39Z",
        "updatedAt" : "2019-06-24T15:04:01Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "e1b060cf-20a4-49a1-86b9-6c1e204c2d70",
        "parentId" : "19c23c3f-31c0-4c0a-9bcb-48d61fd3e84b",
        "author" : null,
        "body" : "The thing with `main` is you can't have two `Main.main` functions being loaded in a single repl, so as long as all (but possibly one) target use `main_function` to rename their main funciton, then it works out. For this reason I renamed daml-helper's Main.main to DamlHelper.Main.main.",
        "createdAt" : "2019-06-24T15:20:36Z",
        "updatedAt" : "2019-06-24T15:20:36Z",
        "lastEditedBy" : null,
        "tags" : [
        ]
      }
    ],
    "commit" : "5f73e51336b131d05de608611ea6cc6cbda40f0c",
    "line" : 16,
    "diffHunk" : "@@ -132,3 +132,16 @@ da_haskell_test(\n         \"//libs-haskell/da-hs-base\",\n     ],\n )\n+\n+# A good target for da-ghcid, it includes everything in the subtree.\n+da_haskell_repl(\n+    name = \"repl\","
  },
  {
    "id" : "3809e40b-6fdc-4ada-b0a2-f6dd59c808cf",
    "prId" : 951,
    "comments" : [
      {
        "id" : "b0b3c064-5c37-484f-bc3d-2a675b3a548b",
        "parentId" : null,
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : ":fire: ",
        "createdAt" : "2019-05-06T15:29:39Z",
        "updatedAt" : "2019-05-06T18:41:43Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "0ec70931aecdfe07d7ccfbe670c9ad12d0c349a6",
    "line" : 4,
    "diffHunk" : "@@ -48,7 +48,6 @@ da_haskell_library(\n         \"http-client-tls\",\n         \"http-conduit\",\n         \"lens\",\n-        \"main-tester\","
  },
  {
    "id" : "0d9c2bd2-645b-4bd6-a62b-60e392c6920d",
    "prId" : 337,
    "comments" : [
      {
        "id" : "84e3e9ee-fafd-4d96-bde1-2d79c015fd12",
        "parentId" : null,
        "author" : {
          "login" : "fmota-da",
          "name" : "Fran",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/45589443?v=4"
        },
        "body" : "```suggestion\r\n        \"microlens\",\r\n```",
        "createdAt" : "2019-04-09T16:30:28Z",
        "updatedAt" : "2019-04-10T08:58:45Z",
        "lastEditedBy" : {
          "login" : "fmota-da",
          "name" : "Fran",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/45589443?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "c63dc83e702244360b482149bc1bc3dfc388c2b4",
    "line" : null,
    "diffHunk" : "@@ -42,7 +44,9 @@ da_haskell_library(\n         \"directory\",\n         \"extra\",\n         \"filepath\",\n+        'microlens',"
  },
  {
    "id" : "3ca8024b-61a6-4a27-acba-b5af29809b11",
    "prId" : 337,
    "comments" : [
      {
        "id" : "c969f22c-854b-45cc-bfd9-749def5cd6e6",
        "parentId" : null,
        "author" : {
          "login" : "moritzkiefer-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/45630097?u=88b1986f5b2d192d97f54101aaa165147493ebdc&v=4"
        },
        "body" : "This is exactly one of the cases that I mentioned yesterday where you already have `lens` in your transitive dependency closure anyway (in this case, `da-hs-base` depends on it) so by adding `microlens` you potentially increase our dependency footprint instead of decreasing it.",
        "createdAt" : "2019-04-10T06:54:29Z",
        "updatedAt" : "2019-04-10T08:58:45Z",
        "lastEditedBy" : {
          "login" : "moritzkiefer-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/45630097?u=88b1986f5b2d192d97f54101aaa165147493ebdc&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "fc210aba-d8bb-4c94-a3b9-7f34ba3c0bf8",
        "parentId" : "c969f22c-854b-45cc-bfd9-749def5cd6e6",
        "author" : {
          "login" : "fmota-da",
          "name" : "Fran",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/45589443?v=4"
        },
        "body" : "So I should just depend on `lens`? ",
        "createdAt" : "2019-04-10T07:51:14Z",
        "updatedAt" : "2019-04-10T08:58:45Z",
        "lastEditedBy" : {
          "login" : "fmota-da",
          "name" : "Fran",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/45589443?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "b471b7fb-8e12-4302-91e8-82886d5d9653",
        "parentId" : "c969f22c-854b-45cc-bfd9-749def5cd6e6",
        "author" : {
          "login" : "moritzkiefer-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/45630097?u=88b1986f5b2d192d97f54101aaa165147493ebdc&v=4"
        },
        "body" : "Either that or donâ€™t use lenses.",
        "createdAt" : "2019-04-10T07:52:07Z",
        "updatedAt" : "2019-04-10T08:58:45Z",
        "lastEditedBy" : {
          "login" : "moritzkiefer-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/45630097?u=88b1986f5b2d192d97f54101aaa165147493ebdc&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "6930a5a7-a972-44e3-acbd-86b399fc2f12",
        "parentId" : "c969f22c-854b-45cc-bfd9-749def5cd6e6",
        "author" : {
          "login" : "fmota-da",
          "name" : "Fran",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/45589443?v=4"
        },
        "body" : "Sadly the SemVer package only exposes lenses ðŸ˜¬",
        "createdAt" : "2019-04-10T08:03:19Z",
        "updatedAt" : "2019-04-10T08:58:45Z",
        "lastEditedBy" : {
          "login" : "fmota-da",
          "name" : "Fran",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/45589443?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "c63dc83e702244360b482149bc1bc3dfc388c2b4",
    "line" : null,
    "diffHunk" : "@@ -14,10 +14,12 @@ deps = [\n     'filepath',\n     'http-conduit',\n     'main-tester',\n+    'microlens',"
  },
  {
    "id" : "db8a4002-3cb4-489c-a850-0038a5c3bf95",
    "prId" : 337,
    "comments" : [
      {
        "id" : "defab638-95d0-4e38-89b7-f495db3e2428",
        "parentId" : null,
        "author" : {
          "login" : "fmota-da",
          "name" : "Fran",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/45589443?v=4"
        },
        "body" : "```suggestion\r\n    'semver',\r\n```",
        "createdAt" : "2019-04-10T08:58:37Z",
        "updatedAt" : "2019-04-10T08:58:45Z",
        "lastEditedBy" : {
          "login" : "fmota-da",
          "name" : "Fran",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/45589443?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "c63dc83e702244360b482149bc1bc3dfc388c2b4",
    "line" : null,
    "diffHunk" : "@@ -13,11 +13,13 @@ deps = [\n     'extra',\n     'filepath',\n     'http-conduit',\n+    'lens',\n     'main-tester',\n     'optparse-applicative',\n     'process',\n     'safe',\n     'safe-exceptions',\n+    \"semver\","
  }
]