[
  {
    "id" : "5a06de2b-2bd0-469a-983b-eed89dbe7dc0",
    "prId" : 5540,
    "comments" : [
      {
        "id" : "07c982e6-d8a2-43a2-a8fe-3d87e0d0107b",
        "parentId" : null,
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "This comment doesn’t make sense here.",
        "createdAt" : "2020-04-17T03:41:41Z",
        "updatedAt" : "2020-04-17T16:24:22Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "022f7a09b19657608748dce2c6402328ae375078",
    "line" : null,
    "diffHunk" : "@@ -132,3 +140,63 @@ da_haskell_test(\n         \"//libs-haskell/test-utils\",\n     ],\n )\n+\n+da_haskell_test(\n+    name = \"create-daml-app-tests\",\n+    timeout = \"long\",\n+    srcs = [\n+        \"src/DA/Daml/Assistant/CreateDamlAppTests.hs\",\n+        \"src/DA/Daml/Assistant/IntegrationTestUtils.hs\",\n+    ],\n+    args = [\n+        \"$(location //:yarn)\",\n+    ],\n+    data = [\n+        \"//release:sdk-release-tarball\",\n+        \"@local_jdk//:bin/java.exe\" if is_windows else \"@local_jdk//:bin/java\",\n+        \"//:yarn\",\n+        \"@patch_dev_env//:patch\",\n+    ] + ([] if is_windows else ts_libraries + create_daml_app_resources),\n+    # I’m sure the mvn stuff will be flaky."
  },
  {
    "id" : "70974932-6db3-481b-a6c4-4eb2335d834b",
    "prId" : 5540,
    "comments" : [
      {
        "id" : "fc07833f-c2e9-4d05-8439-fea0df18f77c",
        "parentId" : null,
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "Can we please factor this out into a library instead of trying to compile it twice.",
        "createdAt" : "2020-04-17T03:41:55Z",
        "updatedAt" : "2020-04-17T16:24:22Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "7d766f0b-91c2-4ee1-8299-b609e4ddd504",
        "parentId" : "fc07833f-c2e9-4d05-8439-fea0df18f77c",
        "author" : {
          "login" : "rohanjr",
          "name" : "Rohan Jacob-Rao",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/10836630?u=a30da7f2a9ceeb7c25249d5146f10fce61aeec4e&v=4"
        },
        "body" : "Done, thanks",
        "createdAt" : "2020-04-17T16:02:16Z",
        "updatedAt" : "2020-04-17T16:24:22Z",
        "lastEditedBy" : {
          "login" : "rohanjr",
          "name" : "Rohan Jacob-Rao",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/10836630?u=a30da7f2a9ceeb7c25249d5146f10fce61aeec4e&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "022f7a09b19657608748dce2c6402328ae375078",
    "line" : null,
    "diffHunk" : "@@ -132,3 +140,63 @@ da_haskell_test(\n         \"//libs-haskell/test-utils\",\n     ],\n )\n+\n+da_haskell_test(\n+    name = \"create-daml-app-tests\",\n+    timeout = \"long\",\n+    srcs = [\n+        \"src/DA/Daml/Assistant/CreateDamlAppTests.hs\",\n+        \"src/DA/Daml/Assistant/IntegrationTestUtils.hs\","
  },
  {
    "id" : "b555013e-819e-425a-b449-44e6f44d19cd",
    "prId" : 5389,
    "comments" : [
      {
        "id" : "f5b1d201-d694-4386-8360-84d25397b128",
        "parentId" : null,
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "```suggestion\r\n    flaky = True,\r\n```\r\nI’m pretty sure this is still flaky",
        "createdAt" : "2020-04-02T18:24:34Z",
        "updatedAt" : "2020-04-02T18:37:32Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "9be05ffa-b935-4f73-a333-dd4f1961c078",
        "parentId" : "f5b1d201-d694-4386-8360-84d25397b128",
        "author" : {
          "login" : "hurryabit",
          "name" : "Martin Huschenbett",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/11665611?u=7dbd00d5e7ea53919ed31dc4200f602ebca91c8f&v=4"
        },
        "body" : "Oops, I wanted my tests to fail faster during development. I'll unremove it.",
        "createdAt" : "2020-04-02T18:37:00Z",
        "updatedAt" : "2020-04-02T18:37:32Z",
        "lastEditedBy" : {
          "login" : "hurryabit",
          "name" : "Martin Huschenbett",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/11665611?u=7dbd00d5e7ea53919ed31dc4200f602ebca91c8f&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "9c3ad7b1-0ca6-4893-a237-de0614613cf1",
        "parentId" : "f5b1d201-d694-4386-8360-84d25397b128",
        "author" : {
          "login" : "hurryabit",
          "name" : "Martin Huschenbett",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/11665611?u=7dbd00d5e7ea53919ed31dc4200f602ebca91c8f&v=4"
        },
        "body" : "Good catch!",
        "createdAt" : "2020-04-02T18:37:33Z",
        "updatedAt" : "2020-04-02T18:37:34Z",
        "lastEditedBy" : {
          "login" : "hurryabit",
          "name" : "Martin Huschenbett",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/11665611?u=7dbd00d5e7ea53919ed31dc4200f602ebca91c8f&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "1634d1e6a8267b79cd5fe0399a026fc5a1afb513",
    "line" : null,
    "diffHunk" : "@@ -89,9 +95,9 @@ da_haskell_test(\n         \"//compiler/damlc/tests:generate-simple-dalf\",\n         \"@mvn_dev_env//:mvn\",\n         \"@tar_dev_env//:tar\",\n-    ] + ([] if is_windows else [\"//language-support/ts/daml-types:npm_package\"]),\n+    ] + ([] if is_windows else ts_libraries),\n     # I’m sure the mvn stuff will be flaky.\n-    flaky = True,\n+    # flaky = True,"
  },
  {
    "id" : "6a2f43c4-ed1e-4e70-9003-025108ee1fb3",
    "prId" : 5272,
    "comments" : [
      {
        "id" : "d4c25268-da15-4466-a16e-2ee2af8049a3",
        "parentId" : null,
        "author" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "body" : "~Names here clash. Could this be a problem?~\r\n\r\nEDIT: leftover from a previous, uncommitted review.",
        "createdAt" : "2020-03-30T11:58:38Z",
        "updatedAt" : "2020-04-01T06:51:55Z",
        "lastEditedBy" : {
          "login" : "stefanobaghino-da",
          "name" : "Stefano Baghino",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/43749967?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "89330f7b27582cdb0a66d5353de307e46c5e2267",
    "line" : null,
    "diffHunk" : "@@ -39,27 +39,27 @@ genrule(\n       }}\n       tar xf $(location //docs:quickstart-java.tar.gz) -C \"$$TMP_DIR\"\n       install_mvn \\\n-        \"com.digitalasset\" \"daml-lf-archive\" \\\n+        \"com.daml.lf\" \"daml-lf-archive\" \\\n         $(location //daml-lf/archive:daml_lf_dev_archive_java_proto) \\\n         $(location //daml-lf/archive:daml_lf_dev_archive_java_proto_pom)\n       install_mvn \\\n-        \"com.daml.ledger\" \"bindings-java\" \\\n+        \"com.daml.bindings.java\" \"bindings-java\" \\\n         $(location //language-support/java/bindings:libbindings-java.jar) \\\n         $(location //language-support/java/bindings:bindings-java_pom.xml)\n       install_mvn \\\n-        \"com.daml.ledger\" \"bindings-rxjava\" \\\n+        \"com.daml.bindings.java\" \"bindings-rxjava\" \\\n         $(location //language-support/java/bindings-rxjava:libbindings-rxjava.jar) \\\n         $(location //language-support/java/bindings-rxjava:bindings-rxjava_pom.xml)\n       install_mvn \\\n-        \"com.daml.java\" \"codegen\" \\\n+        \"com.daml.bindings.java\" \"codegen\" \\"
  },
  {
    "id" : "0ab87b28-abae-4d20-b269-8d491330899e",
    "prId" : 5171,
    "comments" : [
      {
        "id" : "e5bcc81f-5d02-4707-9c34-c21a4e6c3ac2",
        "parentId" : null,
        "author" : {
          "login" : "hurryabit",
          "name" : "Martin Huschenbett",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/11665611?u=7dbd00d5e7ea53919ed31dc4200f602ebca91c8f&v=4"
        },
        "body" : "We should leave a comment here that this test is not run in Windows but we need to pass something to make the test harness happy.",
        "createdAt" : "2020-03-25T17:50:23Z",
        "updatedAt" : "2020-03-25T17:50:50Z",
        "lastEditedBy" : {
          "login" : "hurryabit",
          "name" : "Martin Huschenbett",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/11665611?u=7dbd00d5e7ea53919ed31dc4200f602ebca91c8f&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "a5adcf1b-ede2-498c-a118-9bfa0fde7a6c",
        "parentId" : "e5bcc81f-5d02-4707-9c34-c21a4e6c3ac2",
        "author" : {
          "login" : "shayne-fletcher",
          "name" : "Shayne Fletcher",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/1500167?v=4"
        },
        "body" : "Ok",
        "createdAt" : "2020-03-25T18:21:06Z",
        "updatedAt" : "2020-03-25T18:21:06Z",
        "lastEditedBy" : {
          "login" : "shayne-fletcher",
          "name" : "Shayne Fletcher",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/1500167?v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "ede39c0bc7b73401d689c75f3f46feb6f2c5843f",
    "line" : 6,
    "diffHunk" : "@@ -71,14 +71,19 @@ da_haskell_test(\n     name = \"integration-tests\",\n     timeout = \"long\",\n     srcs = glob([\"src/**/*.hs\"]),\n+    args = [\n+        \"$(location //:yarn)\",\n+        \"daml-types-not-available\" if is_windows else \"$(location //language-support/ts/daml-types:npm_package)\","
  },
  {
    "id" : "ee0165b2-6555-429c-81e5-602f3478a298",
    "prId" : 4513,
    "comments" : [
      {
        "id" : "d859fc46-272f-4583-a510-83ee9b867333",
        "parentId" : null,
        "author" : {
          "login" : "hurryabit",
          "name" : "Martin Huschenbett",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/11665611?u=7dbd00d5e7ea53919ed31dc4200f602ebca91c8f&v=4"
        },
        "body" : "Unnamed placeholders scare me. (Maybe I haven't used enough C-style `printf` in my life?)\r\n```suggestion\r\n          -Dversion={mvn_version}\r\n```\r\nThere are a few more instances of this elsewhere.",
        "createdAt" : "2020-02-20T08:36:25Z",
        "updatedAt" : "2020-02-25T14:08:02Z",
        "lastEditedBy" : {
          "login" : "hurryabit",
          "name" : "Martin Huschenbett",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/11665611?u=7dbd00d5e7ea53919ed31dc4200f602ebca91c8f&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "81246bd2733ace93653cb663dca5a0cdaf7c11e9",
    "line" : null,
    "diffHunk" : "@@ -27,17 +27,16 @@ genrule(\n       set -euo pipefail\n       TMP_DIR=$$(mktemp -d)\n       MVN_DB=\"$$TMP_DIR/m2\"\n-      VERSION=$$(cat $(location //:component-version))\n-      install_mvn() {\n+      install_mvn() {{\n           $(location @mvn_dev_env//:mvn) -q install:install-file \\\n           -Dmaven.repo.local=$$MVN_DB \\\n           \"-DgroupId=$$1\" \\\n           \"-DartifactId=$$2\" \\\n           \"-Dfile=$$3\" \\\n           \"-DpomFile=$$4\" \\\n           -Dpackaging=jar \\\n-          -Dversion=$$VERSION\n-      }\n+          -Dversion={}"
  },
  {
    "id" : "2217e400-bbcf-4112-9d00-c2f038ec9972",
    "prId" : 494,
    "comments" : [
      {
        "id" : "c9a33a30-d456-4daa-952f-46ea379ad995",
        "parentId" : null,
        "author" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "body" : "I guess this is not trying to be an exhaustive list or artefacts, is it?",
        "createdAt" : "2019-04-15T14:11:44Z",
        "updatedAt" : "2019-04-15T14:29:22Z",
        "lastEditedBy" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "26f73569-45be-49a0-9c4a-8897a066c046",
        "parentId" : "c9a33a30-d456-4daa-952f-46ea379ad995",
        "author" : {
          "login" : "moritzkiefer-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/45630097?u=88b1986f5b2d192d97f54101aaa165147493ebdc&v=4"
        },
        "body" : "This is only a list of dependencies that are required by the quickstart example. I verified that it is sufficient by changing the VERSION file to some bogus version that is not yet published to bintray.",
        "createdAt" : "2019-04-15T14:13:02Z",
        "updatedAt" : "2019-04-15T14:29:22Z",
        "lastEditedBy" : {
          "login" : "moritzkiefer-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/45630097?u=88b1986f5b2d192d97f54101aaa165147493ebdc&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "056509c8-2ba0-4e9b-a185-cea15c6d47da",
        "parentId" : "c9a33a30-d456-4daa-952f-46ea379ad995",
        "author" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "body" : "okay, thank you.",
        "createdAt" : "2019-04-15T14:13:45Z",
        "updatedAt" : "2019-04-15T14:29:22Z",
        "lastEditedBy" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "214ab7a7fc264adf875387f4a45f0d19d2ba26ee",
    "line" : null,
    "diffHunk" : "@@ -4,26 +4,43 @@ load(\"//bazel_tools:haskell.bzl\", \"da_haskell_test\")\n \n da_haskell_test(\n     name = \"integration-tests\",\n-    timeout = \"long\",\n     srcs = [\"src/Main.hs\"],\n-    data = [\n-        \"//release:sdk-release-tarball\",\n-        \"@local_jdk//:bin/java\",\n-    ],\n     hazel_deps = [\n         \"async\",\n         \"base\",\n         \"directory\",\n         \"extra\",\n         \"filepath\",\n+        \"http-client\",\n+        \"http-types\",\n         \"main-tester\",\n         \"network\",\n         \"process\",\n         \"tasty\",\n         \"tasty-hunit\",\n+        \"text\",\n     ],\n     deps = [\n         \"//daml-assistant/daml-helper:daml-helper-lib\",\n         \"//libs-haskell/bazel-runfiles\",\n     ],\n+    data = [\n+        \"//release:sdk-release-tarball\",\n+        \"@local_jdk//:bin/java\",\n+        \"@mvn_nix//:bin/mvn\",\n+        \"//:component-version\",\n+        \"//daml-lf/archive:daml_lf_archive_java.jar\",\n+        \"//daml-lf/archive:daml_lf_archive_java_pom.xml\",\n+        \"//language-support/java/bindings:bindings-java\",\n+        \"//language-support/java/bindings:bindings-java_pom.xml\",\n+        \"//language-support/java/bindings-rxjava\",\n+        \"//language-support/java/bindings-rxjava:bindings-rxjava_pom.xml\",\n+        \"//language-support/java/codegen:shaded_binary.jar\",\n+        \"//language-support/java/codegen:shaded_binary_pom.xml\",\n+        \"//ledger-api/rs-grpc-bridge:librs-grpc-bridge.jar\",\n+        \"//ledger-api/rs-grpc-bridge:rs-grpc-bridge_pom.xml\","
  }
]