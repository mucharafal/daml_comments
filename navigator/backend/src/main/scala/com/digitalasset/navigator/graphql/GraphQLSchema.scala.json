[
  {
    "id" : "fc64e52a-8438-4eee-83b3-d0585285edb1",
    "prId" : 1151,
    "comments" : [
      {
        "id" : "70dcfcd0-d555-40d1-93d4-198772139bad",
        "parentId" : null,
        "author" : {
          "login" : "rautenrieth-da",
          "name" : "Robert Autenrieth",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/31539813?u=e5fe17e2c6f986e9ee04c5b9ca5f6a5a90d1c94a&v=4"
        },
        "body" : "This does not conform to the schema (should be caught by a test).\r\n\r\nIn `schema.graphql`, you have `agreementText: String!`, here you use `OptionType(StringType)`.\r\n`String!` means a non-optional string in GraphQL, `OptionType` means the backend may produce missing values for the `agreementText` property.\r\n\r\nUse `agreementText: String` in the schema to specify that the property is optional.",
        "createdAt" : "2019-05-15T12:32:08Z",
        "updatedAt" : "2019-05-17T06:35:00Z",
        "lastEditedBy" : {
          "login" : "rautenrieth-da",
          "name" : "Robert Autenrieth",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/31539813?u=e5fe17e2c6f986e9ee04c5b9ca5f6a5a90d1c94a&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "e9236537-4b12-4d9c-9353-c0c51e276db6",
        "parentId" : "70dcfcd0-d555-40d1-93d4-198772139bad",
        "author" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "body" : "Done. Thanks.",
        "createdAt" : "2019-05-15T12:39:57Z",
        "updatedAt" : "2019-05-17T06:35:00Z",
        "lastEditedBy" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "b5e40693-a6ec-4db6-b3a1-252a70dab7a6",
        "parentId" : "70dcfcd0-d555-40d1-93d4-198772139bad",
        "author" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "body" : "Speaking of which: is this the equivalent of the graphql schema in the world of queries? https://github.com/digital-asset/daml/blob/d6236a9f1ddc6fc9e8851ffd95830dabdba7d6eb/navigator/frontend/src/api/Queries.ts#L38\r\n\r\nAlso, the spray.json renderer for `Option[_]` uses `JsNull` for the `None` case. Is this properly supported by GraphQl (and the respective libraries we're using)?",
        "createdAt" : "2019-05-15T12:53:24Z",
        "updatedAt" : "2019-05-17T06:35:00Z",
        "lastEditedBy" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "67269f2c-705a-461e-8a0f-76928f6924d8",
        "parentId" : "70dcfcd0-d555-40d1-93d4-198772139bad",
        "author" : {
          "login" : "rautenrieth-da",
          "name" : "Robert Autenrieth",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/31539813?u=e5fe17e2c6f986e9ee04c5b9ca5f6a5a90d1c94a&v=4"
        },
        "body" : "The `Queries.ts` file is indeed the TypeScript definition for the shape of our GraphQL API responses.\r\n\r\nIt is autogenerated from `schema.graphql`. Or rather, it should be - if you edited it by hand, please run `make update-graphql-types` in `navigator/frontend` instead. The reason why this is not done as part of the Bazel build is that I was too lazy to configure the frontend project to look for source files outside of the source tree (where Bazel generated files are stored).",
        "createdAt" : "2019-05-15T13:23:11Z",
        "updatedAt" : "2019-05-17T06:35:00Z",
        "lastEditedBy" : {
          "login" : "rautenrieth-da",
          "name" : "Robert Autenrieth",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/31539813?u=e5fe17e2c6f986e9ee04c5b9ca5f6a5a90d1c94a&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "ad5216e7-e22a-4958-84e0-ec00dad78e22",
        "parentId" : "70dcfcd0-d555-40d1-93d4-198772139bad",
        "author" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "body" : "oh, that yeah, I definitely edited it by hand. I'll run the make command.",
        "createdAt" : "2019-05-15T13:28:48Z",
        "updatedAt" : "2019-05-17T06:35:00Z",
        "lastEditedBy" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "2f7ea603-68e1-420f-91d2-f75f595480cb",
        "parentId" : "70dcfcd0-d555-40d1-93d4-198772139bad",
        "author" : {
          "login" : "rautenrieth-da",
          "name" : "Robert Autenrieth",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/31539813?u=e5fe17e2c6f986e9ee04c5b9ca5f6a5a90d1c94a&v=4"
        },
        "body" : "https://github.com/digital-asset/daml/issues/1160",
        "createdAt" : "2019-05-15T13:36:10Z",
        "updatedAt" : "2019-05-17T06:35:00Z",
        "lastEditedBy" : {
          "login" : "rautenrieth-da",
          "name" : "Robert Autenrieth",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/31539813?u=e5fe17e2c6f986e9ee04c5b9ca5f6a5a90d1c94a&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "fa40588773325065a44dc4d703aec04bc19f0c20",
    "line" : 6,
    "diffHunk" : "@@ -317,7 +317,8 @@ final class GraphQLSchema(customEndpoints: Set[CustomEndpoint[_]]) {\n           ListType(ExercisedEventType),\n           resolve =\n             context => context.ctx.ledger.exercisedEventsOf(context.value, context.ctx.templates)),\n-        Field(\"argument\", JsonType.ApiRecordType, resolve = _.value.argument)\n+        Field(\"argument\", JsonType.ApiRecordType, resolve = _.value.argument),\n+        Field(\"agreementText\", OptionType(StringType), resolve = _.value.agreementText)"
  }
]