[
  {
    "id" : "78ef5ce6-9bc3-4f37-8df7-924c905edcde",
    "prId" : 7482,
    "comments" : [
      {
        "id" : "b7bab802-e230-44ae-bebe-483ac01b9c7f",
        "parentId" : null,
        "author" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "body" : "You need to make this change in _build.ps1_ too.",
        "createdAt" : "2020-09-25T08:11:02Z",
        "updatedAt" : "2020-09-29T22:24:11Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "7f5685d0-847f-4526-937d-56fcfc1a6366",
        "parentId" : "b7bab802-e230-44ae-bebe-483ac01b9c7f",
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "why? weâ€™re not going to merge this, we just want to see the error.",
        "createdAt" : "2020-09-25T08:12:04Z",
        "updatedAt" : "2020-09-29T22:24:11Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "b9f73236-b26a-4705-bba5-db29a7353370",
        "parentId" : "b7bab802-e230-44ae-bebe-483ac01b9c7f",
        "author" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "body" : "So you can see the error on Windows without other random timeouts. ðŸ™ƒ ",
        "createdAt" : "2020-09-25T08:50:41Z",
        "updatedAt" : "2020-09-29T22:24:11Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "b13172c0-2982-4464-aaee-6c9585af9516",
        "parentId" : "b7bab802-e230-44ae-bebe-483ac01b9c7f",
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "We saw this error on macos and Linux, I would go as far as just disabling the Windows job for testing here.",
        "createdAt" : "2020-09-25T08:52:39Z",
        "updatedAt" : "2020-09-29T22:24:11Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "b4244036f6dffa10e34c49ebda7bc0af3d7fdd82",
    "line" : null,
    "diffHunk" : "@@ -61,7 +61,8 @@ stop_postgresql # in case it's running from a previous build\n start_postgresql\n \n # Run the tests.\n-bazel test //... \\\n+bazel test //ledger/participant-integration-api:participant-integration-api-tests_test_suite_src_test_suite_scala_platform_store_dao_JdbcLedgerDaoPostgresqlSpec.scala \\\n+  --test_arg=-z --test_arg=\"fall back to limit-based query with consistent results\" \\"
  },
  {
    "id" : "eda718f3-1b51-4d34-873d-88154b9b21e1",
    "prId" : 6804,
    "comments" : [
      {
        "id" : "e118b8bc-4510-42ee-b618-088b990b485e",
        "parentId" : null,
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "Obviously remove this before merging.",
        "createdAt" : "2020-07-21T06:47:21Z",
        "updatedAt" : "2020-07-21T21:05:20Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "2c15ae15e57e21aa2c1c4b17932cd408dad2249f",
    "line" : null,
    "diffHunk" : "@@ -27,6 +27,8 @@ if [ -n \"$SANDBOX_PID\" ]; then\n     kill \"$SANDBOX_PID\"\n fi\n \n+bazel test //triggers/service:auth-client-tests --runs_per_test=20"
  },
  {
    "id" : "ac803d34-7d2f-4a72-b31e-36231af6b0e3",
    "prId" : 6642,
    "comments" : [
      {
        "id" : "05435eb6-89db-44a4-9dd0-8979a202db17",
        "parentId" : null,
        "author" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "body" : "```suggestion\r\nSANDBOX_PID=\"$(lsof -ti tcp:6865)\"\r\n```",
        "createdAt" : "2020-07-07T16:55:13Z",
        "updatedAt" : "2020-07-07T18:07:54Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar-DA",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/60356447?u=f6cdfccc6ea4254bd7c212099bbac2c27a00a28c&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "262b49d0efb5aeaafe7be9c0c3a340419057710f",
    "line" : null,
    "diffHunk" : "@@ -17,6 +17,15 @@ if [[ \"$execution_log_postfix\" == \"_Darwin\" ]]; then\n   tag_filter=\"-dont-run-on-darwin,-scaladoc,-pdfdocs\"\n fi\n \n+# Occasionally we end up with a stale sandbox process for a hardcoded\n+# port number. Not quite sure how we end up with a stale process\n+# but it happens sufficiently rarely that just killing it here is\n+# a cheaper solution than having to reset the node.\n+SANDBOX_PID=$(lsof -ti tcp:6865)"
  },
  {
    "id" : "42576acc-6d18-4e4b-863f-76c63eea4ff3",
    "prId" : 3632,
    "comments" : [
      {
        "id" : "10f04d75-fe4f-46b3-a0f0-e766512221bc",
        "parentId" : null,
        "author" : {
          "login" : "aherrmann-da",
          "name" : "Andreas Herrmann",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/42969706?v=4"
        },
        "body" : "Where is `$GHC_` defined?",
        "createdAt" : "2019-11-26T12:19:06Z",
        "updatedAt" : "2019-11-26T17:10:09Z",
        "lastEditedBy" : {
          "login" : "aherrmann-da",
          "name" : "Andreas Herrmann",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/42969706?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "7fd582b3-303f-4d3a-9647-019c8a06aaa0",
        "parentId" : "10f04d75-fe4f-46b3-a0f0-e766512221bc",
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "never, removed :slightly_smiling_face: ",
        "createdAt" : "2019-11-26T12:23:58Z",
        "updatedAt" : "2019-11-26T17:10:09Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "9cf34fc024638269d76484854c0b16c2d258e163",
    "line" : null,
    "diffHunk" : "@@ -32,7 +32,13 @@ bazel test -j 200 //... --test_tag_filters \"$tag_filter\" --experimental_executio\n # Make sure that Bazel query works.\n bazel query 'deps(//...)' > /dev/null\n # Check that we can load damlc in ghci\n-da-ghci --data yes //:repl -e '()'\n+GHCI_SCRIPT=$(mktemp)\n+cat <<EOF > $GHCI_SCRIPT\n+:main --help\n+:quit\n+EOF\n+echo $GHC_"
  },
  {
    "id" : "fa21fbd0-4650-4604-8daf-51a85b0e0a4f",
    "prId" : 3632,
    "comments" : [
      {
        "id" : "5dfcd063-a92b-4bae-8294-820ddf5e4c5e",
        "parentId" : null,
        "author" : {
          "login" : "SamirTalwar",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/47582?v=4"
        },
        "body" : "You might be able to get away with something like this instead:\r\n\r\n```\r\nda-ghci --data yes //:repl -ghci-script <(echo ':main --help' && echo ':quit') -e '()'\r\n```",
        "createdAt" : "2019-11-26T12:40:44Z",
        "updatedAt" : "2019-11-26T17:10:09Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/47582?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "1a6a9277-3739-47a7-991e-fbbb8ea9a275",
        "parentId" : "5dfcd063-a92b-4bae-8294-820ddf5e4c5e",
        "author" : {
          "login" : "SamirTalwar",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/47582?v=4"
        },
        "body" : "Or use `echo -e ':main --help\\n:quit'`, but I think that's harder to read.",
        "createdAt" : "2019-11-26T12:41:06Z",
        "updatedAt" : "2019-11-26T17:10:09Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/47582?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "54ccc96b-204a-4e3b-823a-4add8d8b34c8",
        "parentId" : "5dfcd063-a92b-4bae-8294-820ddf5e4c5e",
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "tbh I find both harder to read.",
        "createdAt" : "2019-11-26T12:42:59Z",
        "updatedAt" : "2019-11-26T17:10:09Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "af580814-9ee2-4714-9bb4-a211cacd4dbe",
        "parentId" : "5dfcd063-a92b-4bae-8294-820ddf5e4c5e",
        "author" : {
          "login" : "SamirTalwar",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/47582?v=4"
        },
        "body" : "Fair. I think I'm a bit allergic to `mktemp` without cleanup.",
        "createdAt" : "2019-11-26T12:44:18Z",
        "updatedAt" : "2019-11-26T17:10:09Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/47582?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "ba82ce9b-3e73-491e-94b7-e184402ff304",
        "parentId" : "5dfcd063-a92b-4bae-8294-820ddf5e4c5e",
        "author" : {
          "login" : "aherrmann-da",
          "name" : "Andreas Herrmann",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/42969706?v=4"
        },
        "body" : "@SamirTalwar Good point. @cocreature You could add `trap EXIT \"rm -f $GHCI_SCRIPT\"` below `mktemp` for cleanup (if that's the right spelling).",
        "createdAt" : "2019-11-26T12:48:05Z",
        "updatedAt" : "2019-11-26T17:10:09Z",
        "lastEditedBy" : {
          "login" : "aherrmann-da",
          "name" : "Andreas Herrmann",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/42969706?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "1f3f85eb-68b2-41e9-bcb5-b48d211df12a",
        "parentId" : "5dfcd063-a92b-4bae-8294-820ddf5e4c5e",
        "author" : {
          "login" : "SamirTalwar",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/47582?v=4"
        },
        "body" : "[not important]\r\n\r\nYou could also do:\r\n\r\n```shell\r\nfunction ghci_script {\r\n  echo <<EOF\r\n:m DA.Cli.Damlc\r\n:main --help\r\n:quit\r\nEOF\r\n}\r\n\r\nda-ghci --data yes //:repl -ghci-script <(ghci_script) -e '()'\r\n```\r\n\r\nOr you could just check this file in somewhere and use it. ðŸ™‚",
        "createdAt" : "2019-11-26T13:04:02Z",
        "updatedAt" : "2019-11-26T17:10:09Z",
        "lastEditedBy" : {
          "login" : "SamirTalwar",
          "name" : "Samir Talwar",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/47582?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "f35ee86d-804a-48a2-8806-593b54773a1d",
        "parentId" : "5dfcd063-a92b-4bae-8294-820ddf5e4c5e",
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "I actually tried using a temporary file with `<` and for some reason `ghci` didnâ€™t seem to like that and I donâ€™t really want to spend my time debugging this :slightly_smiling_face: ",
        "createdAt" : "2019-11-26T13:08:09Z",
        "updatedAt" : "2019-11-26T17:10:09Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "9cf34fc024638269d76484854c0b16c2d258e163",
    "line" : null,
    "diffHunk" : "@@ -32,7 +32,12 @@ bazel test -j 200 //... --test_tag_filters \"$tag_filter\" --experimental_executio\n # Make sure that Bazel query works.\n bazel query 'deps(//...)' > /dev/null\n # Check that we can load damlc in ghci\n-da-ghci --data yes //:repl -e '()'\n+GHCI_SCRIPT=$(mktemp)\n+cat <<EOF > $GHCI_SCRIPT\n+:main --help\n+:quit\n+EOF\n+da-ghci --data yes //:repl -ghci-script $GHCI_SCRIPT -e '()'"
  },
  {
    "id" : "27b8f505-7fb3-4b00-8a15-4c88cdf4e6d8",
    "prId" : 1318,
    "comments" : [
      {
        "id" : "90c2163a-a0a7-4b06-b9da-d42388d4e4b7",
        "parentId" : null,
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "```suggestion\r\nbazel test -j 200 //... --test_tag_filters \"$tag_filter\" --experimental_execution_log_file \"$ARTIFACT_DIRS/test_execution${execution_log_postfix}.log\"\r\n```",
        "createdAt" : "2019-05-22T15:51:57Z",
        "updatedAt" : "2019-05-23T07:53:58Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "635f13ccabf480b7a3926dc51354b23c0caca08f",
    "line" : null,
    "diffHunk" : "@@ -24,7 +24,11 @@ ARTIFACT_DIRS=\"${BUILD_ARTIFACTSTAGINGDIRECTORY:-$PWD}\"\n   # https://github.com/bazelbuild/bazel/issues/6394#issuecomment-436234594.\n   bazel build -j 200 //... --experimental_execution_log_file \"$ARTIFACT_DIRS/build_execution${execution_log_postfix}.log\"\n )\n-bazel test -j 200 //... --experimental_execution_log_file \"$ARTIFACT_DIRS/test_execution${execution_log_postfix}.log\"\n+tag_filter=\"\"\n+if [[ \"$execution_log_postfix\" == \"_Darwin\" ]]; then\n+  tag_filter=\"-dont-run-on-darwin\"\n+fi\n+bazel test -j 200 //... --test_tag_filter \"$tag_filter\" --experimental_execution_log_file \"$ARTIFACT_DIRS/test_execution${execution_log_postfix}.log\""
  },
  {
    "id" : "3de1c13f-4df2-4b26-8b10-0af50bbce4ff",
    "prId" : 230,
    "comments" : [
      {
        "id" : "5ab69b9d-0fd9-4a54-908c-0ae8b022b4bd",
        "parentId" : null,
        "author" : {
          "login" : "moritzkiefer-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/45630097?u=88b1986f5b2d192d97f54101aaa165147493ebdc&v=4"
        },
        "body" : "Iâ€™ve found this to be quite useful for debugging. Any specific reason you are removing it?",
        "createdAt" : "2019-04-09T09:56:18Z",
        "updatedAt" : "2019-04-09T10:58:46Z",
        "lastEditedBy" : {
          "login" : "moritzkiefer-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/45630097?u=88b1986f5b2d192d97f54101aaa165147493ebdc&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "b7ce8f1b-c4d9-471a-8142-f33138c670d2",
        "parentId" : "5ab69b9d-0fd9-4a54-908c-0ae8b022b4bd",
        "author" : null,
        "body" : "There was a time where the env contained the azure token. This is not true anymore and the env could be restored if necessary.",
        "createdAt" : "2019-04-09T13:44:56Z",
        "updatedAt" : "2019-04-09T13:44:57Z",
        "lastEditedBy" : null,
        "tags" : [
        ]
      }
    ],
    "commit" : "b39bf789a1ded0c4a751b9399720df1c332df945",
    "line" : 6,
    "diffHunk" : "@@ -7,9 +7,7 @@ set -euxo pipefail\n \n execution_log_postfix=${1:-}\n \n-locale -a\n export LC_ALL=en_US.UTF-8\n-env"
  }
]