[
  {
    "id" : "6c79dfeb-5b33-424f-a7b3-6cbf3ec9e2d2",
    "prId" : 1296,
    "comments" : [
      {
        "id" : "bb2d6481-811e-46a6-abb8-448f10d40a0b",
        "parentId" : null,
        "author" : {
          "login" : "hurryabit",
          "name" : "Martin Huschenbett",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/11665611?u=7dbd00d5e7ea53919ed31dc4200f602ebca91c8f&v=4"
        },
        "body" : "@remyhaemmerle-da This test fails because an `EUnknownDefinition` exception is thrown. If I replace `PositiveTestCase1:SerializableRecord` with just `SerializableRecord` then the test passed. If I replace it with `SerializableRecordXYZ`, it still passes even though it should fail with `EUnknownDefinition` definition. This doesn't make any sense. Could you please have a look.",
        "createdAt" : "2019-05-21T19:21:02Z",
        "updatedAt" : "2019-05-22T09:39:29Z",
        "lastEditedBy" : {
          "login" : "hurryabit",
          "name" : "Martin Huschenbett",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/11665611?u=7dbd00d5e7ea53919ed31dc4200f602ebca91c8f&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "3537333f3e4096578991918b103ac47fcc6cdf6c",
    "line" : 81,
    "diffHunk" : "@@ -220,6 +220,59 @@ class SerializabilitySpec extends WordSpec with TableDrivenPropertyChecks with M\n       }\n \n     }\n+\n+    \"reject unserializable contract id\" in {\n+\n+      val pkg =\n+        p\"\"\"\n+          // well-formed module\n+          module NegativeTestCase1 {\n+            record @serializable SerializableRecord = {};\n+\n+            template (this : SerializableRecord) =  {\n+              precondition True,\n+              signatories Nil @Party,\n+              observers Nil @Party,\n+              agreement \"Agreement\",\n+              choices {\n+              }\n+            } ;\n+\n+            record @serializable SerializableContractId = { cid : ContractId NegativeTestCase1:SerializableRecord };\n+          }\n+\n+          module NegativeTestCase2 {\n+            record @serializable SerializableContractId = { cid : ContractId NegativeTestCase1:SerializableRecord };\n+          }\n+\n+          module PositiveTestCase1 {\n+            record @serializable SerializableRecord = {};\n+\n+            record @serializable UnserializableContractId = { cid : ContractId PositiveTestCase1:SerializableRecord };"
  }
]