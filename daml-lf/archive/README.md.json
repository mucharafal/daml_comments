[
  {
    "id" : "0532f64f-7599-4252-ab62-5001ba7ed916",
    "prId" : 3142,
    "comments" : [
      {
        "id" : "1eda88d6-f749-4c6a-bb54-f5dd21ff765e",
        "parentId" : null,
        "author" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "body" : "Add `dev` to the name.",
        "createdAt" : "2019-10-11T07:30:30Z",
        "updatedAt" : "2019-10-15T18:02:37Z",
        "lastEditedBy" : {
          "login" : "gerolf-da",
          "name" : "Gerolf Seitz",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/29121423?u=f683aa614e742c653ae8c01b194905dcdef6e974&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "51928dac-52d7-43ba-a12f-e4a0100a08af",
        "parentId" : "1eda88d6-f749-4c6a-bb54-f5dd21ff765e",
        "author" : {
          "login" : "remyhaemmerle-da",
          "name" : "Remy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/45566104?u=10d0caf8150a686217852f90e91314a4de3239a9&v=4"
        },
        "body" : "done",
        "createdAt" : "2019-10-11T09:27:34Z",
        "updatedAt" : "2019-10-15T18:02:37Z",
        "lastEditedBy" : {
          "login" : "remyhaemmerle-da",
          "name" : "Remy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/45566104?u=10d0caf8150a686217852f90e91314a4de3239a9&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "6a094129d2e19bb8060f21f6601947eaab12d12e",
    "line" : null,
    "diffHunk" : "@@ -1,31 +1,47 @@\n # DAML-LF archive\n \n This component contains the `.proto` definitions specifying the format\n-in which DAML-LF packages are stored -- the DAML-LF archive.\n+in which DAML-LF packages are stored -- the DAML-LF archive. All the\n+proto definitions are kept in the directory\n+`src/protorotobuf/com/digitalasset/daml_lf/`\n \n-The entry point definition is `Archive` in `da/daml_lf.proto`. `Archive`\n+The entry point definition is `Archive` in\n+`src/protorotobuf/com/digitalasset/daml_lf/daml_lf.proto`.  `Archive`\n contains some metadata about the actual archive (currently the hashing\n-function and the hash), and then a binary blob containing the archive.\n-The binary blob must be an `ArchivePayload` -- we keep it in binary form\n-to facilitate hashing, signing, etc. The encoding and decoding of the\n-payload is handled by Haskell and Java libraries in `daml-core-package`,\n-so that consumers and producers do not really need to worry about it.\n+function and the hash), and then a binary blob containing the\n+archive. The binary blob must be an `ArchivePayload` -- we keep it in\n+binary form to facilitate hashing, signing, etc. The encoding and\n+decoding of the payload is handled by Haskell and Java libraries in\n+`daml-core-package`, so that consumers and producers do not really\n+need to worry about it.\n \n `ArchivePayload` is a sum type containing the various DAML-LF versions\n-supported by the DAML-LF archive. Currently we have two versions:\n+supported by the DAML-LF archive. Currently we have two major versions:\n \n-* `DAML-LF-0`, which is the legacy DAML core;\n+* `DAML-LF-0`, which is the deprecated legacy DAML core; \n * `DAML-LF-1`, which is the first version of DAML-LF as specified by\n     <https://github.com/digital-asset/daml/blob/master/daml-lf/spec/daml-lf-1.rst>.\n \n+## Snapshot versions\n+\n+The component contains also an arbitrary number of snapshots of the\n+protobuf definitions as they were as the time a particular version of\n+DAML-LF was frozen. Those snapshots are kept in the directories\n+`src/protorotobuf/com/digitalasset/daml_lf_x_y/`, where `x.y` is a\n+already frozen DAML-LF version.  A snapshot for version `x.y` can be\n+used to read any DAML-LF version from `1.0` to `x.y` without suffering\n+breaking changes (at the generated code level) often introduced in the\n+current version.\n+\n ## Building\n \n-It produces two libraries containing code to encode / decode such\n-definition, a Haskell one and a Java one:\n+It produces several libraries containing code to encode / decode such\n+definition, a Haskell one, and several Java ones:\n \n ```\n $ bazel build //daml-lf/archive:daml_lf_haskell_proto\n $ bazel build //daml-lf/archive:daml_lf_java_proto"
  }
]