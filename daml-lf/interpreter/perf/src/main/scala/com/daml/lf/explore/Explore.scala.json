[
  {
    "id" : "23ebafa0-eea4-495c-b645-a89f5553d41c",
    "prId" : 7540,
    "comments" : [
      {
        "id" : "aad55b69-8ba9-40dc-89c7-f05e75bc9655",
        "parentId" : null,
        "author" : {
          "login" : "hurryabit",
          "name" : "Martin Huschenbett",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/11665611?u=7dbd00d5e7ea53919ed31dc4200f602ebca91c8f&v=4"
        },
        "body" : "Why can't we use `SELet` here anymore?",
        "createdAt" : "2020-10-01T10:40:01Z",
        "updatedAt" : "2020-10-01T13:51:34Z",
        "lastEditedBy" : {
          "login" : "hurryabit",
          "name" : "Martin Huschenbett",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/11665611?u=7dbd00d5e7ea53919ed31dc4200f602ebca91c8f&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "be76b0d2-8ead-4f9a-bc0e-522d8c813424",
        "parentId" : "aad55b69-8ba9-40dc-89c7-f05e75bc9655",
        "author" : {
          "login" : "remyhaemmerle-da",
          "name" : "Remy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/45566104?u=10d0caf8150a686217852f90e91314a4de3239a9&v=4"
        },
        "body" : "because this one is not rewritten by ANF.",
        "createdAt" : "2020-10-01T11:19:37Z",
        "updatedAt" : "2020-10-01T13:51:34Z",
        "lastEditedBy" : {
          "login" : "remyhaemmerle-da",
          "name" : "Remy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/45566104?u=10d0caf8150a686217852f90e91314a4de3239a9&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "e3588149-6d0c-4b41-8492-fe45ae27cf61",
        "parentId" : "aad55b69-8ba9-40dc-89c7-f05e75bc9655",
        "author" : {
          "login" : "hurryabit",
          "name" : "Martin Huschenbett",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/11665611?u=7dbd00d5e7ea53919ed31dc4200f602ebca91c8f&v=4"
        },
        "body" : "That makes sense. Thanks for the explanation.",
        "createdAt" : "2020-10-01T11:21:36Z",
        "updatedAt" : "2020-10-01T13:51:34Z",
        "lastEditedBy" : {
          "login" : "hurryabit",
          "name" : "Martin Huschenbett",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/11665611?u=7dbd00d5e7ea53919ed31dc4200f602ebca91c8f&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "e55637f913c36a84131d8d78a5fd33c7acea709e",
    "line" : 18,
    "diffHunk" : "@@ -131,11 +131,16 @@ object PlaySpeedy {\n       (\n         \"free\", // let (a,b,c) = (30,100,21) in twice (\\x -> x - (a-c)) b\n         82,\n-        SELet(\n-          Array(num(30), num(100), num(21)),\n-          SEApp(\n-            twice,\n-            Array(SEAbs(1, subtract2(SEVar(1), subtract2(SEVar(4), SEVar(2)))), SEVar(2)))) //100\n+        SELet1General(\n+          num(30),\n+          SELet1General(\n+            num(100),\n+            SELet1General(\n+              num(21),\n+              SEApp(\n+                twice,\n+                Array(SEAbs(1, subtract2(SEVar(1), subtract2(SEVar(4), SEVar(2)))), SEVar(2)))) //100\n+          ))"
  },
  {
    "id" : "15983c57-76be-42a0-93e2-ceddd2df7b32",
    "prId" : 7438,
    "comments" : [
      {
        "id" : "cc961fe7-f244-40f7-8159-0e9685a449e1",
        "parentId" : null,
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "afaict, we had disabled stack tracing here before now it’s enabled. I guess it doesn’t make a difference?",
        "createdAt" : "2020-09-18T15:11:18Z",
        "updatedAt" : "2020-09-18T15:25:26Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "e9fae9394b4e7efd302fa8781b37c97d5671c98f",
    "line" : null,
    "diffHunk" : "@@ -62,7 +65,7 @@ object PlaySpeedy {\n   }\n \n   private val noPackages =\n-    data.assertRight(PureCompiledPackages(Map.empty, Compiler.NoStackTrace, Compiler.NoProfile))\n+    PureCompiledPackages(Map.empty, Map.empty, compilerConfig)"
  },
  {
    "id" : "49c0e4d1-4820-46d4-b35d-bbde12352010",
    "prId" : 6440,
    "comments" : [
      {
        "id" : "12a72edf-d775-4559-a4a9-a0359ace30dc",
        "parentId" : null,
        "author" : {
          "login" : "remyhaemmerle-da",
          "name" : "Remy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/45566104?u=10d0caf8150a686217852f90e91314a4de3239a9&v=4"
        },
        "body" : "I think we should use always the java stacktrace for this error, so you can remove completly the comment. ",
        "createdAt" : "2020-06-22T08:36:30Z",
        "updatedAt" : "2020-06-30T15:19:02Z",
        "lastEditedBy" : {
          "login" : "remyhaemmerle-da",
          "name" : "Remy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/45566104?u=10d0caf8150a686217852f90e91314a4de3239a9&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "122d7a41-e73a-4277-aced-eea0ba7191ee",
        "parentId" : "12a72edf-d775-4559-a4a9-a0359ace30dc",
        "author" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "body" : "done",
        "createdAt" : "2020-06-25T10:29:03Z",
        "updatedAt" : "2020-06-30T15:19:02Z",
        "lastEditedBy" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "f1ca0fa6575631a0602ea895e0155fae12fd986b",
    "line" : null,
    "diffHunk" : "@@ -96,7 +96,7 @@ object PlaySpeedy {\n     }\n   }\n \n-  final case class MachineProblem(s: String) extends RuntimeException(s, null, false, false)\n+  final case class MachineProblem(s: String) extends RuntimeException(s) //, null, false, false)"
  },
  {
    "id" : "4fa33704-a1dc-4c29-af30-a534d6775ee9",
    "prId" : 6440,
    "comments" : [
      {
        "id" : "f6a7b0d2-dcdb-4096-94a2-397ae1e8fe40",
        "parentId" : null,
        "author" : {
          "login" : "remyhaemmerle-da",
          "name" : "Remy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/45566104?u=10d0caf8150a686217852f90e91314a4de3239a9&v=4"
        },
        "body" : "```suggestion\r\n    val identity = SEAbs(1, SEVar(1))\r\n```",
        "createdAt" : "2020-06-22T08:37:26Z",
        "updatedAt" : "2020-06-30T15:19:02Z",
        "lastEditedBy" : {
          "login" : "remyhaemmerle-da",
          "name" : "Remy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/45566104?u=10d0caf8150a686217852f90e91314a4de3239a9&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "9e9a0a10-1a12-4168-9639-69274b89f8b7",
        "parentId" : "f6a7b0d2-dcdb-4096-94a2-397ae1e8fe40",
        "author" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "body" : "done",
        "createdAt" : "2020-06-25T10:29:10Z",
        "updatedAt" : "2020-06-30T15:19:02Z",
        "lastEditedBy" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "f1ca0fa6575631a0602ea895e0155fae12fd986b",
    "line" : null,
    "diffHunk" : "@@ -110,6 +110,8 @@ object PlaySpeedy {\n     def subtract2(x: SExpr, y: SExpr): SExpr = SEApp(SEBuiltin(SBSubInt64), Array(x, y))\n     val subtract = SEAbs(2, subtract2(SEVar(2), SEVar(1)))\n \n+    val id = SEAbs(1, SEVar(1))"
  },
  {
    "id" : "2331b26f-4550-42e2-816a-1f9f91f2e1bb",
    "prId" : 6440,
    "comments" : [
      {
        "id" : "3b2422d6-aff9-45fe-b429-d44a79f8634a",
        "parentId" : null,
        "author" : {
          "login" : "hurryabit",
          "name" : "Martin Huschenbett",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/11665611?u=7dbd00d5e7ea53919ed31dc4200f602ebca91c8f&v=4"
        },
        "body" : "How is this related?",
        "createdAt" : "2020-06-26T10:33:10Z",
        "updatedAt" : "2020-06-30T15:19:02Z",
        "lastEditedBy" : {
          "login" : "hurryabit",
          "name" : "Martin Huschenbett",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/11665611?u=7dbd00d5e7ea53919ed31dc4200f602ebca91c8f&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "9b93d106-b01e-4c52-a6dd-812e7f5e0c13",
        "parentId" : "3b2422d6-aff9-45fe-b429-d44a79f8634a",
        "author" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "body" : "This is dev./explore code. This stops us dropping the stack trace. Remy confirmed this change is good.",
        "createdAt" : "2020-06-30T14:55:26Z",
        "updatedAt" : "2020-06-30T15:19:02Z",
        "lastEditedBy" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "f1ca0fa6575631a0602ea895e0155fae12fd986b",
    "line" : 16,
    "diffHunk" : "@@ -84,7 +84,7 @@ object PlaySpeedy {\n     }\n   }\n \n-  final case class MachineProblem(s: String) extends RuntimeException(s, null, false, false)\n+  final case class MachineProblem(s: String) extends RuntimeException(s)"
  },
  {
    "id" : "9dbfcfe7-5a88-4a3d-9dd9-ee1536fafe54",
    "prId" : 6003,
    "comments" : [
      {
        "id" : "25fb8ddf-0792-4e34-8625-165df6080652",
        "parentId" : null,
        "author" : {
          "login" : "remyhaemmerle-da",
          "name" : "Remy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/45566104?u=10d0caf8150a686217852f90e91314a4de3239a9&v=4"
        },
        "body" : "```suggestion\r\n          case SInt64(got) if (got != expected) =>\r\n              throw new MachineProblem(s\"Expected final integer to be $expected, but got $got\")\r\n```",
        "createdAt" : "2020-05-19T12:58:43Z",
        "updatedAt" : "2020-05-20T09:14:01Z",
        "lastEditedBy" : {
          "login" : "remyhaemmerle-da",
          "name" : "Remy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/45566104?u=10d0caf8150a686217852f90e91314a4de3239a9&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "55dec712-7de2-4b55-852c-0b05991db954",
        "parentId" : "25fb8ddf-0792-4e34-8625-165df6080652",
        "author" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "body" : "Didn't do this. It changes the meaning, making the case of an SInt64 where got==expected get handled by the `case _ =>`. Which is not what we want.",
        "createdAt" : "2020-05-20T07:02:36Z",
        "updatedAt" : "2020-05-20T09:14:01Z",
        "lastEditedBy" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "17f20fc8-32cd-4729-9b17-09c95a91591e",
        "parentId" : "25fb8ddf-0792-4e34-8625-165df6080652",
        "author" : {
          "login" : "remyhaemmerle-da",
          "name" : "Remy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/45566104?u=10d0caf8150a686217852f90e91314a4de3239a9&v=4"
        },
        "body" : "Sorry. my mistake.",
        "createdAt" : "2020-05-20T07:50:49Z",
        "updatedAt" : "2020-05-20T09:14:01Z",
        "lastEditedBy" : {
          "login" : "remyhaemmerle-da",
          "name" : "Remy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/45566104?u=10d0caf8150a686217852f90e91314a4de3239a9&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "ab369bff4b7cfcc541b5335c6c2996cbe061b74d",
    "line" : 72,
    "diffHunk" : "@@ -69,13 +76,21 @@ object PlaySpeedy {\n     )\n   }\n \n-  def runMachine(config: Config, machine: Machine): Unit = {\n+  def runMachine(name: String, machine: Machine, expected: Int): Unit = {\n \n-    println(s\"example name: ${config.exampleName}\")\n+    println(s\"example name: $name\")\n \n     machine.run() match {\n       case SResultFinalValue(value) => {\n         println(s\"final-value: $value\")\n+        value match {\n+          case SInt64(got) =>\n+            if (got != expected) {\n+              throw new MachineProblem(s\"Expected final integer to be $expected, but got $got\")\n+            }"
  },
  {
    "id" : "96f240f3-c736-4eea-aed1-4ab92d5e5bc7",
    "prId" : 6003,
    "comments" : [
      {
        "id" : "1f017c98-63ac-4891-9792-384f24ab3bd0",
        "parentId" : null,
        "author" : {
          "login" : "remyhaemmerle-da",
          "name" : "Remy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/45566104?u=10d0caf8150a686217852f90e91314a4de3239a9&v=4"
        },
        "body" : "```suggestion\r\n      case SResultFinalValue(value) => \r\n```",
        "createdAt" : "2020-05-19T12:59:02Z",
        "updatedAt" : "2020-05-20T09:14:01Z",
        "lastEditedBy" : {
          "login" : "remyhaemmerle-da",
          "name" : "Remy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/45566104?u=10d0caf8150a686217852f90e91314a4de3239a9&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "31c941e1-757f-4fa0-b5bb-34e4ea2d30f4",
        "parentId" : "1f017c98-63ac-4891-9792-384f24ab3bd0",
        "author" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "body" : "yup",
        "createdAt" : "2020-05-20T07:17:29Z",
        "updatedAt" : "2020-05-20T09:14:01Z",
        "lastEditedBy" : {
          "login" : "nickchapman-da",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/49153372?v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "ab369bff4b7cfcc541b5335c6c2996cbe061b74d",
    "line" : null,
    "diffHunk" : "@@ -69,13 +76,21 @@ object PlaySpeedy {\n     )\n   }\n \n-  def runMachine(config: Config, machine: Machine): Unit = {\n+  def runMachine(name: String, machine: Machine, expected: Int): Unit = {\n \n-    println(s\"example name: ${config.exampleName}\")\n+    println(s\"example name: $name\")\n \n     machine.run() match {\n       case SResultFinalValue(value) => {"
  },
  {
    "id" : "02820de7-9778-4594-8c34-45029235ebd5",
    "prId" : 6003,
    "comments" : [
      {
        "id" : "924f1f9e-6380-49f8-bb0f-c9deed5842ad",
        "parentId" : null,
        "author" : {
          "login" : "remyhaemmerle-da",
          "name" : "Remy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/45566104?u=10d0caf8150a686217852f90e91314a4de3239a9&v=4"
        },
        "body" : "```suggestion\r\n```",
        "createdAt" : "2020-05-19T12:59:46Z",
        "updatedAt" : "2020-05-20T09:14:01Z",
        "lastEditedBy" : {
          "login" : "remyhaemmerle-da",
          "name" : "Remy",
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/45566104?u=10d0caf8150a686217852f90e91314a4de3239a9&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "ab369bff4b7cfcc541b5335c6c2996cbe061b74d",
    "line" : 75,
    "diffHunk" : "@@ -69,13 +76,21 @@ object PlaySpeedy {\n     )\n   }\n \n-  def runMachine(config: Config, machine: Machine): Unit = {\n+  def runMachine(name: String, machine: Machine, expected: Int): Unit = {\n \n-    println(s\"example name: ${config.exampleName}\")\n+    println(s\"example name: $name\")\n \n     machine.run() match {\n       case SResultFinalValue(value) => {\n         println(s\"final-value: $value\")\n+        value match {\n+          case SInt64(got) =>\n+            if (got != expected) {\n+              throw new MachineProblem(s\"Expected final integer to be $expected, but got $got\")\n+            }\n+          case _ =>\n+            throw new MachineProblem(s\"Expected final-value to be an integer\")\n+        }"
  }
]