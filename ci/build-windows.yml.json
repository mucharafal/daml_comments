[
  {
    "id" : "4d1527dd-f137-43d5-9561-deda156d073e",
    "prId" : 5569,
    "comments" : [
      {
        "id" : "ad63ecbc-5734-4960-b6e7-3bfbb0f625ef",
        "parentId" : null,
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "More of a general question rather than something for this PR: Azure doesn’t have any concept of functions or macros does it? It seems very fragile to keep replicating this kind of stuff everywhere.",
        "createdAt" : "2020-04-15T15:52:59Z",
        "updatedAt" : "2020-04-16T15:01:31Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "0ec70529-980f-4ab7-b3ac-422cb714e2e8",
        "parentId" : "ad63ecbc-5734-4960-b6e7-3bfbb0f625ef",
        "author" : {
          "login" : "garyverhaegen-da",
          "name" : "Gary Verhaegen",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/45561385?u=eb17386ea66edbd0cd449e33b2d291bf5a1b51cb&v=4"
        },
        "body" : "Actually, I've recently seen something in the documentation that makes me believe there may be a way to emulate functions in Azure, to some extent. I'll spend a bit of time investigating that tomorrow.",
        "createdAt" : "2020-04-15T20:58:54Z",
        "updatedAt" : "2020-04-16T15:01:31Z",
        "lastEditedBy" : {
          "login" : "garyverhaegen-da",
          "name" : "Gary Verhaegen",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/45561385?u=eb17386ea66edbd0cd449e33b2d291bf5a1b51cb&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "6c6236bd-36af-4b09-8e69-81771f280c7e",
        "parentId" : "ad63ecbc-5734-4960-b6e7-3bfbb0f625ef",
        "author" : {
          "login" : "garyverhaegen-da",
          "name" : "Gary Verhaegen",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/45561385?u=eb17386ea66edbd0cd449e33b2d291bf5a1b51cb&v=4"
        },
        "body" : "Thinking more about it, actually, all of those changes are unnecessary. Assuming releases of patch versions are still triggered by a PR changing LATEST in `master` (as I think they should, if only for ease of audit), the SourceBranchName will still be `master`.",
        "createdAt" : "2020-04-16T14:00:30Z",
        "updatedAt" : "2020-04-16T15:01:31Z",
        "lastEditedBy" : {
          "login" : "garyverhaegen-da",
          "name" : "Gary Verhaegen",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/45561385?u=eb17386ea66edbd0cd449e33b2d291bf5a1b51cb&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "8a9ca77b-17fb-49ba-9f88-b0d6c48d5212",
        "parentId" : "ad63ecbc-5734-4960-b6e7-3bfbb0f625ef",
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "That’s what I was initially thinking off but I thought you intentionally chose this approach. The main issue there seems to around the `release_notes.rst` which will turn into a mess if releases start overlapping which will probably happen at some point (e.g. you need a 1.0.2 after 2.0) and the `LATEST` file might be a bit confusing. I think both of those are perfectly acceptable for now. We just should make it a conscious decision.",
        "createdAt" : "2020-04-16T14:09:46Z",
        "updatedAt" : "2020-04-16T15:01:31Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "e0a6414d-c0b3-4702-8a2a-89dcdd0e68ef",
        "parentId" : "ad63ecbc-5734-4960-b6e7-3bfbb0f625ef",
        "author" : {
          "login" : "garyverhaegen-da",
          "name" : "Gary Verhaegen",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/45561385?u=eb17386ea66edbd0cd449e33b2d291bf5a1b51cb&v=4"
        },
        "body" : "Ah, right. Release notes and documentation. The more I think about this the more I like trunk-based.",
        "createdAt" : "2020-04-16T14:44:01Z",
        "updatedAt" : "2020-04-16T15:01:31Z",
        "lastEditedBy" : {
          "login" : "garyverhaegen-da",
          "name" : "Gary Verhaegen",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/45561385?u=eb17386ea66edbd0cd449e33b2d291bf5a1b51cb&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "3738afe5-91d1-4eb0-b054-e80a3e31b1d7",
        "parentId" : "ad63ecbc-5734-4960-b6e7-3bfbb0f625ef",
        "author" : {
          "login" : "garyverhaegen-da",
          "name" : "Gary Verhaegen",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/45561385?u=eb17386ea66edbd0cd449e33b2d291bf5a1b51cb&v=4"
        },
        "body" : "After thinking more about it, I think releasing from the release branch makes more sense. I'll revert this to yesterday's version.",
        "createdAt" : "2020-04-16T14:54:01Z",
        "updatedAt" : "2020-04-16T15:01:31Z",
        "lastEditedBy" : {
          "login" : "garyverhaegen-da",
          "name" : "Gary Verhaegen",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/45561385?u=eb17386ea66edbd0cd449e33b2d291bf5a1b51cb&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "3413662c-75e5-4952-8263-976190386be6",
        "parentId" : "ad63ecbc-5734-4960-b6e7-3bfbb0f625ef",
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : ":+1: ",
        "createdAt" : "2020-04-16T15:03:39Z",
        "updatedAt" : "2020-04-16T15:03:42Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "459c0ebd3b840b56fc8afa4ce9564a49e01be424",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +53,57 @@                   eq(${{parameters.is_release}}, 'true'),\n                   or(eq(variables['Build.SourceBranchName'], 'master'),\n                      startsWith(variables['Build.SourceBranchName'], 'release/')))\n  - task: PublishPipelineArtifact@0\n    condition: and(succeeded(),"
  },
  {
    "id" : "0dc96049-2103-4987-939c-ad96eb84141e",
    "prId" : 1274,
    "comments" : [
      {
        "id" : "95d7b063-ef78-4b5d-99ea-77ef42e6c762",
        "parentId" : null,
        "author" : {
          "login" : "garyverhaegen-da",
          "name" : "Gary Verhaegen",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/45561385?u=eb17386ea66edbd0cd449e33b2d291bf5a1b51cb&v=4"
        },
        "body" : "Maybe it's just me, but I found this piece of code very confusing. I'd recommend either removing the `WINDOWS_INSTALLER_PATH` variable (as it's only used once) or exporting it instead of the `WINDOWS_INSTALLER` one, as that's what you want to publish and the publish step currently rebuilds that path.",
        "createdAt" : "2019-05-21T16:02:25Z",
        "updatedAt" : "2019-05-22T06:46:38Z",
        "lastEditedBy" : {
          "login" : "garyverhaegen-da",
          "name" : "Gary Verhaegen",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/45561385?u=eb17386ea66edbd0cd449e33b2d291bf5a1b51cb&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "8c97da07-b844-42c1-8835-f2d992fc25fd",
        "parentId" : "95d7b063-ef78-4b5d-99ea-77ef42e6c762",
        "author" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "body" : "Agreed, that was leftover from when I still had the signing step included in the regular Windows step for testing purposes. I’ve removed it.",
        "createdAt" : "2019-05-22T06:50:28Z",
        "updatedAt" : "2019-05-22T06:50:29Z",
        "lastEditedBy" : {
          "login" : "cocreature",
          "name" : "Moritz Kiefer",
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/1313584?u=7864421488a876940b33e865c4b0091925617ca7&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "61acee607b0fff6c58ed95a7ec7087a481d863ec",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +43,47 @@      WINDOWS_INSTALLER=daml-sdk-$(release_tag)-windows-unsigned.exe\n      cp bazel-genfiles/release/windows-installer/daml-sdk-installer.exe \"$(Build.StagingDirectory)/$WINDOWS_INSTALLER\"\n      echo \"##vso[task.setvariable variable=artifact-unsigned-windows-installer;isOutput=true]$WINDOWS_INSTALLER\"\n    name: publish\n    condition: eq(variables['release.has_released'], 'true')"
  }
]