[
  {
    "id" : "069fc9ef-1416-4e2e-9140-de5b36177df3",
    "prId" : 372,
    "comments" : [
      {
        "id" : "fa87ed40-9e25-46ac-9609-6c954670a5ed",
        "parentId" : null,
        "author" : {
          "login" : "neil-da",
          "name" : "Neil Mitchell",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/35463327?u=0eb1719958bc6e449ec5e7df3a312fa566f5055d&v=4"
        },
        "body" : "Not a useful comment - since no one will know what ContractKeys.daml is",
        "createdAt" : "2019-04-10T22:06:33Z",
        "updatedAt" : "2019-04-10T22:25:55Z",
        "lastEditedBy" : {
          "login" : "neil-da",
          "name" : "Neil Mitchell",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/35463327?u=0eb1719958bc6e449ec5e7df3a312fa566f5055d&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "763dff63-fec6-43e4-a697-104e832db3ec",
        "parentId" : "fa87ed40-9e25-46ac-9609-6c954670a5ed",
        "author" : null,
        "body" : "Ok\r\n",
        "createdAt" : "2019-04-10T22:24:43Z",
        "updatedAt" : "2019-04-10T22:25:55Z",
        "lastEditedBy" : null,
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "89a4341703448f839afa9e5c9a53899abb54e4ac",
    "line" : null,
    "diffHunk" : "@@ -0,0 +1,83 @@\n+-- @IGNORE-LF 1.2\n+daml 1.2\n+module ContractKeyTests where\n+\n+-- (1) Breathing test.\n+\n+data Course =\n+  Course with\n+      institution : Party\n+      title : Text\n+  deriving (Show, Eq)\n+\n+data Registration =\n+  Registration with\n+      student : Party\n+      course : Course\n+      year : Int\n+  deriving (Show, Eq)\n+\n+template Enrollment\n+  with\n+      reg : Registration\n+  where\n+      signatory reg.student, reg.course.institution\n+      key reg : Registration\n+      maintainer reg.course.institution\n+\n+-- (2) If `key` mentions `this.x` then `maintainer` can mention\n+-- `this.x.y`.\n+\n+data M = M { m : Party } deriving (Show, Eq)\n+data K = K { s : M } deriving (Show, Eq)\n+\n+template T\n+  with\n+    s, m : Party\n+    k : K\n+  where\n+    signatory s\n+    key k : K\n+    maintainer k.s.m\n+\n+-- (3) Port './ContractKeys.daml' to DAML syntax."
  },
  {
    "id" : "2736b04b-f2d7-44c3-9fc5-37ca1839ecf5",
    "prId" : 372,
    "comments" : [
      {
        "id" : "5c7c9452-570a-45b6-ba47-57fafdf7a5b9",
        "parentId" : null,
        "author" : {
          "login" : "neil-da",
          "name" : "Neil Mitchell",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/35463327?u=0eb1719958bc6e449ec5e7df3a312fa566f5055d&v=4"
        },
        "body" : "I got taught to call these \"smoke tests\". But I like breathing tests too :)",
        "createdAt" : "2019-04-10T22:06:56Z",
        "updatedAt" : "2019-04-10T22:25:55Z",
        "lastEditedBy" : {
          "login" : "neil-da",
          "name" : "Neil Mitchell",
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/35463327?u=0eb1719958bc6e449ec5e7df3a312fa566f5055d&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "89a4341703448f839afa9e5c9a53899abb54e4ac",
    "line" : null,
    "diffHunk" : "@@ -0,0 +1,83 @@\n+-- @IGNORE-LF 1.2\n+daml 1.2\n+module ContractKeyTests where\n+\n+-- (1) Breathing test."
  },
  {
    "id" : "7dc17021-ae5f-4e8d-a516-76232b534e8e",
    "prId" : 372,
    "comments" : [
      {
        "id" : "1af5f42a-2e20-454c-92be-d8ce2eb27dfc",
        "parentId" : null,
        "author" : {
          "login" : "martin-drhu-da",
          "name" : "Martin Huschenbett",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/31696042?u=5fec5d8a968715bab332fcb4be485319b66a7892&v=4"
        },
        "body" : "I am surprised. This should work without the `this`. I'll investigate. Let's merge this for now and I'll fix it in a separate PR.",
        "createdAt" : "2019-04-11T10:53:56Z",
        "updatedAt" : "2019-04-11T10:54:53Z",
        "lastEditedBy" : {
          "login" : "martin-drhu-da",
          "name" : "Martin Huschenbett",
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/31696042?u=5fec5d8a968715bab332fcb4be485319b66a7892&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "5519c3d0-53ff-41f4-9e77-88fc354b85b5",
        "parentId" : "1af5f42a-2e20-454c-92be-d8ce2eb27dfc",
        "author" : null,
        "body" : "Ok perfect. Glad I raised it with you!",
        "createdAt" : "2019-04-11T10:56:18Z",
        "updatedAt" : "2019-04-11T10:56:18Z",
        "lastEditedBy" : null,
        "tags" : [
        ]
      }
    ],
    "commit" : "89a4341703448f839afa9e5c9a53899abb54e4ac",
    "line" : 42,
    "diffHunk" : "@@ -0,0 +1,84 @@\n+-- @IGNORE-LF 1.2\n+daml 1.2\n+module ContractKeyTests where\n+\n+-- (1)  If `key` mentions `this.x` then `maintainer` can mention\n+-- `this.x.y`.\n+\n+data Course =\n+  Course with\n+      institution : Party\n+      title : Text\n+  deriving (Show, Eq)\n+\n+data Registration =\n+  Registration with\n+      student : Party\n+      course : Course\n+      year : Int\n+  deriving (Show, Eq)\n+\n+template Enrollment\n+  with\n+      reg : Registration\n+  where\n+      signatory reg.student, reg.course.institution\n+      key reg : Registration -- this.x\n+      maintainer reg.course.institution -- this.x.y.z\n+\n+-- (2)\n+\n+data M = M { m : Party } deriving (Show, Eq)\n+data K = K { s : M } deriving (Show, Eq)\n+\n+template T\n+  with\n+    i : Party\n+    k : K\n+  where\n+    signatory i\n+    key k.s : M\n+    maintainer this.k.s.m -- This doesn't work without qualifying with\n+                          -- `this`. Is that expected?"
  }
]